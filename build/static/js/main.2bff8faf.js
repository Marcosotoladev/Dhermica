/*! For license information please see main.2bff8faf.js.LICENSE.txt */
!function(){var e={888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ve=null,Ue={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,je=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Tt=[],Ct=null,Nt=null,At=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Vt),Ot.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Qn(e){Fr(e,0)}function Yn(e){if(K(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Er:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Hn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),$t=Zt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ni),Si(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ei(Ci,e),Ei(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ei(Ci,e)):Si(Ni),Ei(Ni,n)}var Fi=null,Vi=!1,Ui=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke($e,Bi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Hi=0,Gi=null,Wi=0,Ki=[],Qi=0,Yi=null,Xi=1,Ji="";function Zi(e,t){qi[Hi++]=Wi,qi[Hi++]=Gi,Gi=e,Wi=t}function $i(e,t,n){Ki[Qi++]=Xi,Ki[Qi++]=Ji,Ki[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Hi],qi[Hi]=null,Wi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Ji=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Oi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Oi(t)?Ai:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),Za={},$a=Ii(Za),eo=Ii(Za),to=Ii(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),Ei($a,t)}function io(){Si($a),Si(eo),Si(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei($a,n))}function oo(e){eo.current===e&&(Si($a),Si(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,js|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,js|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,js|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Jo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Jo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Ai:Ci.current;return a=Pi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Hu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Pi(t,c=Oi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Pi(t,s=Oi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Ru,Du,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function ju(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=jc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=ju(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=ju(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Qi++]=Xi,Ki[Qi++]=Ji,Ki[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Vu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?ju(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Ku(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ru(e,t),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),Ru(e,t),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return xa(t.type._context),Ku(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Je()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu=!1,Ju=!1,Zu="function"===typeof WeakSet?WeakSet:Set,$u=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Ju&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,ds(e,t,n),Ju=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zu),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Sc(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,ms(t,e),Ju=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($u=e,f=e.child;null!==f;){for(h=$u=f;null!==$u;){switch(p=(d=$u).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,$u=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){$u=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Xu;var c=Ju;if(Xu=o,(Ju=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,$u=s):_s(i);for(;null!==a;)$u=a,bs(a,t,n),a=a.sibling;$u=i,Xu=u,Ju=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ws(e)}}function ws(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&as(t)}catch(d){Sc(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function xs(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function _s(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{as(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var Is,Ss=Math.ceil,Es=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,Ns=0,As=null,Ps=null,Os=0,Rs=0,Ds=Ii(0),Ls=0,Ms=null,js=0,Fs=0,Vs=0,Us=null,zs=null,Bs=0,qs=1/0,Hs=null,Gs=!1,Ws=null,Ks=null,Qs=!1,Ys=null,Xs=0,Js=0,Zs=null,$s=-1,ec=0;function tc(){return 0!==(6&Ns)?Je():-1!==$s?$s:$s=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Os?Os&-Os:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Js)throw Js=0,Zs=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===As||(e===As&&(0===(2&Ns)&&(Fs|=n),4===Ls&&sc(e,Os)),ic(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(qs=Je()+500,Vi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Ns)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($s=-1,ec=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ns;Ns|=2;var o=vc();for(As===e&&Os===t||(Hs=null,qs=Je()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Es.current=o,Ns=i,null!==Ps?t=0:(As=null,Os=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zs,Hs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zs,Hs),t);break}xc(e,zs,Hs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zs,Hs),r);break}xc(e,zs,Hs);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ns))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zs,Hs),ic(e,Je()),null}function lc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(qs=Je()+500,Vi&&Bi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&Ns)&&_c();var t=Ns;Ns|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(Ns=t))&&Bi()}}function hc(){Rs=Ds.current,Si(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(As=e,Ps=e=Dc(e.current,null),Os=Rs=t,Ls=0,Ms=null,Vs=Fs=js=0,zs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Ps;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Ps=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===As||0===(268435455&js)&&0===(268435455&Fs)||sc(As,Os)}function yc(e,t){var n=Ns;Ns|=2;var r=vc();for(As===e&&Os===t||(Hs=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Ns=n,Es.current=r,null!==Ps)throw Error(a(261));return As=null,Os=0,Ls}function gc(){for(;null!==Ps;)bc(Ps)}function kc(){for(;null!==Ps&&!Ye();)bc(Ps)}function bc(e){var t=Is(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?wc(e):Ps=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Rs)))return void(Ps=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Ls=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Ys);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ps=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=Ns;Ns|=4,Ts.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Xe(),Ns=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,Ys=e,Xs=i),o=e.pendingLanes,0===o&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Ws,Ws=null,e;0!==(1&Xs)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Zs?Js++:(Js=0,Zs=e):Js=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==Ys){var e=bt(Xs),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Xs=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(os(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var b=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,$u=b;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(Ns=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ic(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Ls||3===Ls&&(130023424&Os)===Os&&500>Je()-Bs?dc(e,0):Vs|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hu(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hu(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ga(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Je()),0===(6&Ns)&&(qs=Je()+500,Bi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){y(A,0)};function R(e){S=e,I||(I=!0,_())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".8d0b3719.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="dhermica:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkdhermica=self.webpackChunkdhermica||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return va},SDK_VERSION:function(){return To},_DEFAULT_ENTRY_NAME:function(){return po},_addComponent:function(){return go},_addOrOverwriteComponent:function(){return ko},_apps:function(){return mo},_clearComponents:function(){return _o},_components:function(){return yo},_getProvider:function(){return wo},_registerComponent:function(){return bo},_removeServiceInstance:function(){return xo},deleteApp:function(){return Po},getApp:function(){return No},getApps:function(){return Ao},initializeApp:function(){return Co},onLog:function(){return Do},registerVersion:function(){return Ro},setLogLevel:function(){return Lo}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||u(e,t)||s()}var l,f=n(164),h=n.t(f,2);function d(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){return function(e){if(Array.isArray(e))return o(e)}(e)||d(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:String(t)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function k(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){var t=_();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}(this,n)}}function E(e,t,n){if(_())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&b(i,n.prototype),i}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,x(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},T(e)}function C(e){return a(e)||d(e)||u(e)||s()}function N(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(l||(l={}));var P,O="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function M(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function j(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,f=l.Pop,h=null,d=p();function p(){return(c.state||{idx:null}).idx}function v(){f=l.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:t})}function m(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:j(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(A({},c.state,{idx:d}),""));var y={get action(){return f},get location(){return e(o,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(O,v),h=e,function(){o.removeEventListener(O,v),h=null}},createHref:function(e){return t(o,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=l.Push;var r=M(y.location,e,t);n&&n(r,e);var i=L(r,d=p()+1),a=y.createHref(r);try{c.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(a)}s&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,t){f=l.Replace;var r=M(y.location,e,t);n&&n(r,e);var i=L(r,d=p()),a=y.createHref(r);c.replaceState(i,"",a),s&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(P||(P={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function U(e,t,n){void 0===n&&(n="/");var r=ee(("string"===typeof t?F(t):t).pathname||"/",n);if(null==r)return null;var i=z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=J(i[o],$(r));return a}function z(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ae([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),z(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:X(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=N(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n=C(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=B(i.join("/")),s=[];return s.push.apply(s,p(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,p(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var q=/^:[\w-]+$/,H=3,G=2,W=1,K=10,Q=-2,Y=function(e){return"*"===e};function X(e,t){var n=e.split("/"),r=n.length;return n.some(Y)&&(r+=Q),t&&(r+=G),n.filter((function(e){return!Y(e)})).reduce((function(e,t){return e+(q.test(t)?H:""===t?W:K)}),r)}function J(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Z({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ae([i,l.pathname]),pathnameBase:oe(ae([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ae([i,l.pathnameBase]))}return a}function Z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);D("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){var r=t.paramName,i=t.isOptional;if("*"===r){var a=l[n]||"";s=u.slice(0,u.length-a.length).replace(/(.)\/+$/,"$1")}var o=l[n];return e[r]=i&&!o?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return D(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o||"",r),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function $(e){try{return decodeURI(e)}catch(t){return D(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ee(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function te(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ne(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function re(e,t){var n=ne(e);return t?n.map((function(t,n){return n===e.length-1?t.pathname:t.pathnameBase})):n.map((function(e){return e.pathnameBase}))}function ie(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=F(e):(R(!(i=A({},e)).pathname||!i.pathname.includes("?"),te("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),te("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),te("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(null==u)a=n;else{var s=t.length-1;if(!r&&u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ue(a),hash:se(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ae=function(e){return e.join("/").replace(/\/\/+/g,"/")},oe=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ue=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},se=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ce=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n)}(T(Error));function le(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var fe=["post","put","patch","delete"],he=(new Set(fe),["get"].concat(fe));new Set(he),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}var pe=t.createContext(null);var ve=t.createContext(null);var me=t.createContext(null);var ye=t.createContext(null);var ge=t.createContext(null);var ke=t.createContext({outlet:null,matches:[],isDataRoute:!1});var be=t.createContext(null);function we(){return null!=t.useContext(ge)}function xe(){return we()||R(!1),t.useContext(ge).location}function _e(e){t.useContext(ye).static||t.useLayoutEffect(e)}function Ie(){return t.useContext(ke).isDataRoute?function(){var e=De(Oe.UseNavigateStable).router,n=Me(Re.UseNavigateStable),r=t.useRef(!1);_e((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,de({fromRouteId:n},i)))}),[e,n]);return i}():function(){we()||R(!1);var e=t.useContext(pe),n=t.useContext(ye),r=n.basename,i=n.future,a=n.navigator,o=t.useContext(ke).matches,u=xe().pathname,s=JSON.stringify(re(o,i.v7_relativeSplatPath)),c=t.useRef(!1);_e((function(){c.current=!0}));var l=t.useCallback((function(t,n){if(void 0===n&&(n={}),c.current)if("number"!==typeof t){var i=ie(t,JSON.parse(s),u,"path"===n.relative);null==e&&"/"!==r&&(i.pathname="/"===i.pathname?r:ae([r,i.pathname])),(n.replace?a.replace:a.push)(i,n.state,n)}else a.go(t)}),[r,a,s,u,e]);return l}()}function Se(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ye).future,a=t.useContext(ke).matches,o=xe().pathname,u=JSON.stringify(re(a,i.v7_relativeSplatPath));return t.useMemo((function(){return ie(e,JSON.parse(u),o,"path"===r)}),[e,u,o,r])}function Ee(e,n,r,i){we()||R(!1);var a,o=t.useContext(ye).navigator,u=t.useContext(ke).matches,s=u[u.length-1],c=s?s.params:{},f=(s&&s.pathname,s?s.pathnameBase:"/"),h=(s&&s.route,xe());if(n){var d,p="string"===typeof n?F(n):n;"/"===f||(null==(d=p.pathname)?void 0:d.startsWith(f))||R(!1),a=p}else a=h;var v=a.pathname||"/",m=U(e,{pathname:"/"===f?v:v.slice(f.length)||"/"});var y=Pe(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ae([f,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:ae([f,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,r,i);return n&&y?t.createElement(ge.Provider,{value:{location:de({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:l.Pop}},y):y}function Te(){var e=function(){var e,n=t.useContext(be),r=Le(Re.UseRouteError),i=Me(Re.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=le(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ce=t.createElement(Te,null),Ne=function(e){w(r,e);var n=S(r);function r(e){var t;return v(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return k(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return void 0!==this.state.error?t.createElement(ke.Provider,{value:this.props.routeContext},t.createElement(be.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Ae(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(pe);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ke.Provider,{value:n},i)}function Pe(e,n,r,i){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}var u=e,s=null==(a=r)?void 0:a.errors;if(null!=s){var c=u.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));c>=0||R(!1),u=u.slice(0,Math.min(u.length,c+1))}var l=!1,f=-1;if(r&&i&&i.v7_partialHydration)for(var h=0;h<u.length;h++){var d=u[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=h),d.route.id){var p=r,v=p.loaderData,m=p.errors,y=d.route.loader&&void 0===v[d.route.id]&&(!m||void 0===m[d.route.id]);if(d.route.lazy||y){l=!0,u=f>=0?u.slice(0,f+1):[u[0]];break}}}return u.reduceRight((function(e,i,a){var o,c,h=!1,d=null,p=null;r&&(o=s&&i.route.id?s[i.route.id]:void 0,d=i.route.errorElement||Ce,l&&(f<0&&0===a?(c="route-fallback",!1||je[c]||(je[c]=!0),h=!0,p=null):f===a&&(h=!0,p=i.route.hydrateFallbackElement||null)));var v=n.concat(u.slice(0,a+1)),m=function(){var n;return n=o?d:h?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ae,{match:i,routeContext:{outlet:e,matches:v,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Ne,{location:r.location,revalidation:r.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()}),null)}var Oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Oe||{}),Re=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Re||{});function De(e){var n=t.useContext(pe);return n||R(!1),n}function Le(e){var n=t.useContext(ve);return n||R(!1),n}function Me(e){var n=function(e){var n=t.useContext(ke);return n||R(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||R(!1),r.route.id}var je={};r.startTransition;function Fe(e){R(!1)}function Ve(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?l.Pop:u,c=e.navigator,f=e.static,h=void 0!==f&&f,d=e.future;we()&&R(!1);var p=r.replace(/^\/*/,"/"),v=t.useMemo((function(){return{basename:p,navigator:c,static:h,future:de({v7_relativeSplatPath:!1},d)}}),[p,d,c,h]);"string"===typeof o&&(o=F(o));var m=o,y=m.pathname,g=void 0===y?"/":y,k=m.search,b=void 0===k?"":k,w=m.hash,x=void 0===w?"":w,_=m.state,I=void 0===_?null:_,S=m.key,E=void 0===S?"default":S,T=t.useMemo((function(){var e=ee(g,p);return null==e?null:{location:{pathname:e,search:b,hash:x,state:I,key:E},navigationType:s}}),[p,g,b,x,I,E,s]);return null==T?null:t.createElement(ye.Provider,{value:v},t.createElement(ge.Provider,{children:a,value:T}))}function Ue(e){var t=e.children,n=e.location;return Ee(qe(t),n)}var ze=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(ze||{}),Be=new Promise((function(){}));t.Component;function qe(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(p(n),[i]);if(e.type!==t.Fragment){e.type!==Fe&&R(!1),e.props.index&&e.props.children&&R(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=qe(e.props.children,a)),r.push(o)}else r.push.apply(r,qe(e.props.children,a))}})),r}function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var We=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(YU){}new Map;var Ke=r.startTransition;h.flushSync,r.useId;function Qe(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,u=t.useRef();null==u.current&&(u.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),V((function(e,t){var n=e.location;return M("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:j(t)}),null,n)));var s=u.current,l=c(t.useState({action:s.action,location:s.location}),2),f=l[0],h=l[1],d=(a||{}).v7_startTransition,p=t.useCallback((function(e){d&&Ke?Ke((function(){return h(e)})):h(e)}),[h,d]);return t.useLayoutEffect((function(){return s.listen(p)}),[s,p]),t.createElement(Ve,{basename:r,children:i,location:f.location,navigationType:f.action,navigator:s,future:a})}var Ye="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=e.unstable_viewTransition,d=Ge(e,We),p=t.useContext(ye).basename,v=!1;if("string"===typeof l&&Xe.test(l)&&(r=l,Ye))try{var m=new URL(window.location.href),y=l.startsWith("//")?new URL(m.protocol+l):new URL(l),g=ee(y.pathname,p);y.origin===m.origin&&null!=g?l=g+y.search+y.hash:v=!0}catch(YU){}var k=function(e,n){var r=(void 0===n?{}:n).relative;we()||R(!1);var i=t.useContext(ye),a=i.basename,o=i.navigator,u=Se(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ae([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),b=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=r.unstable_viewTransition,l=Ie(),f=xe(),h=Se(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:j(f)===j(h);l(e,{replace:n,state:o,preventScrollReset:u,relative:s,unstable_viewTransition:c})}}),[f,l,h,a,o,i,e,u,s,c])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a,unstable_viewTransition:h});return t.createElement("a",He({},d,{href:r||k,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:c}))}));var Ze,$e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ze||(Ze={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}($e||($e={}));var et=n(184),tt=function(){return(0,et.jsxs)("div",{className:"logoContainer",children:[(0,et.jsx)("span",{className:"enfa",children:"D"}),(0,et.jsx)("div",{className:"name",children:"hermica"})]})};function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||ct(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e){return function(e){if(Array.isArray(e))return lt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){if(e){if("string"===typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ft=function(){},ht={},dt={},pt=null,vt={mark:ft,measure:ft};try{"undefined"!==typeof window&&(ht=window),"undefined"!==typeof document&&(dt=document),"undefined"!==typeof MutationObserver&&(pt=MutationObserver),"undefined"!==typeof performance&&(vt=performance)}catch(YU){}var mt,yt,gt,kt,bt,wt=(ht.navigator||{}).userAgent,xt=void 0===wt?"":wt,_t=ht,It=dt,St=pt,Et=vt,Tt=(_t.document,!!It.documentElement&&!!It.head&&"function"===typeof It.addEventListener&&"function"===typeof It.createElement),Ct=~xt.indexOf("MSIE")||~xt.indexOf("Trident/"),Nt="___FONT_AWESOME___",At=16,Pt="fa",Ot="svg-inline--fa",Rt="data-fa-i2svg",Dt="data-fa-pseudo-element",Lt="data-fa-pseudo-element-pending",Mt="data-prefix",jt="data-icon",Ft="fontawesome-i2svg",Vt="async",Ut=["HTML","HEAD","STYLE","SCRIPT"],zt=function(){try{return!0}catch(YU){return!1}}(),Bt="classic",qt="sharp",Ht=[Bt,qt];function Gt(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[Bt]}})}var Wt=Gt((ot(mt={},Bt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),ot(mt,qt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),mt)),Kt=Gt((ot(yt={},Bt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ot(yt,qt,{solid:"fass",regular:"fasr",light:"fasl"}),yt)),Qt=Gt((ot(gt={},Bt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ot(gt,qt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),gt)),Yt=Gt((ot(kt={},Bt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ot(kt,qt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),kt)),Xt=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,Jt="fa-layers-text",Zt=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,$t=Gt((ot(bt={},Bt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ot(bt,qt,{900:"fass",400:"fasr",300:"fasl"}),bt)),en=[1,2,3,4,5,6,7,8,9,10],tn=en.concat([11,12,13,14,15,16,17,18,19,20]),nn=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],rn={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},an=new Set;Object.keys(Kt[Bt]).map(an.add.bind(an)),Object.keys(Kt[qt]).map(an.add.bind(an));var on=[].concat(Ht,st(an),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",rn.GROUP,rn.SWAP_OPACITY,rn.PRIMARY,rn.SECONDARY]).concat(en.map((function(e){return"".concat(e,"x")}))).concat(tn.map((function(e){return"w-".concat(e)}))),un=_t.FontAwesomeConfig||{};if(It&&"function"===typeof It.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=ut(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=It.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(un[r]=i)}))}var sn={styleDefault:"solid",familyDefault:"classic",cssPrefix:Pt,replacementClass:Ot,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};un.familyPrefix&&(un.cssPrefix=un.familyPrefix);var cn=rt(rt({},sn),un);cn.autoReplaceSvg||(cn.observeMutations=!1);var ln={};Object.keys(sn).forEach((function(e){Object.defineProperty(ln,e,{enumerable:!0,set:function(t){cn[e]=t,fn.forEach((function(e){return e(ln)}))},get:function(){return cn[e]}})})),Object.defineProperty(ln,"familyPrefix",{enumerable:!0,set:function(e){cn.cssPrefix=e,fn.forEach((function(e){return e(ln)}))},get:function(){return cn.cssPrefix}}),_t.FontAwesomeConfig=ln;var fn=[];var hn=At,dn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var pn="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function vn(){for(var e=12,t="";e-- >0;)t+=pn[62*Math.random()|0];return t}function mn(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function yn(e){return e.classList?mn(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function gn(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function kn(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function bn(e){return e.size!==dn.size||e.x!==dn.x||e.y!==dn.y||e.rotate!==dn.rotate||e.flipX||e.flipY}var wn=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function xn(){var e=Pt,t=Ot,n=ln.cssPrefix,r=ln.replacementClass,i=wn;if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var _n=!1;function In(){ln.autoAddCss&&!_n&&(!function(e){if(e&&Tt){var t=It.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=It.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}It.head.insertBefore(t,r)}}(xn()),_n=!0)}var Sn={mixout:function(){return{dom:{css:xn,insertCss:In}}},hooks:function(){return{beforeDOMElementCreation:function(){In()},beforeI2svg:function(){In()}}}},En=_t||{};En[Nt]||(En[Nt]={}),En[Nt].styles||(En[Nt].styles={}),En[Nt].hooks||(En[Nt].hooks={}),En[Nt].shims||(En[Nt].shims=[]);var Tn=En[Nt],Cn=[],Nn=!1;function An(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?gn(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(gn(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(An).join(""),"</").concat(t,">")}function Pn(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Tt&&((Nn=(It.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(It.readyState))||It.addEventListener("DOMContentLoaded",(function e(){It.removeEventListener("DOMContentLoaded",e),Nn=1,Cn.map((function(e){return e()}))})));var On=function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o};function Rn(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Dn(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Ln(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Dn(t);"function"!==typeof Tn.hooks.addPack||r?Tn.styles[e]=rt(rt({},Tn.styles[e]||{}),i):Tn.hooks.addPack(e,Dn(t)),"fas"===e&&Ln("fa",t)}var Mn,jn,Fn,Vn=Tn.styles,Un=Tn.shims,zn=(ot(Mn={},Bt,Object.values(Qt[Bt])),ot(Mn,qt,Object.values(Qt[qt])),Mn),Bn=null,qn={},Hn={},Gn={},Wn={},Kn={},Qn=(ot(jn={},Bt,Object.keys(Wt[Bt])),ot(jn,qt,Object.keys(Wt[qt])),jn);function Yn(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~on.indexOf(n))?null:a}var Xn=function(){var e=function(e){return On(Vn,(function(t,n,r){return t[r]=On(n,e,{}),t}),{})};qn=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),Hn=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),Kn=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Vn||ln.autoFetchSvg,n=On(Un,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Gn=n.names,Wn=n.unicodes,Bn=nr(ln.styleDefault,{family:ln.familyDefault})};function Jn(e,t){return(qn[e]||{})[t]}function Zn(e,t){return(Kn[e]||{})[t]}function $n(e){return Gn[e]||{prefix:null,iconName:null}}function er(){return Bn}!function(e){fn.push(e)}((function(e){Bn=nr(e.styleDefault,{family:ln.familyDefault})})),Xn();var tr=function(){return{prefix:null,iconName:null,rest:[]}};function nr(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?Bt:t,r=Wt[n][e],i=Kt[n][e]||Kt[n][r],a=e in Tn.styles?e:null;return i||a||null}var rr=(ot(Fn={},Bt,Object.keys(Qt[Bt])),ot(Fn,qt,Object.keys(Qt[qt])),Fn);function ir(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(ot(t={},Bt,"".concat(ln.cssPrefix,"-").concat(Bt)),ot(t,qt,"".concat(ln.cssPrefix,"-").concat(qt)),t),a=null,o=Bt;(e.includes(i[Bt])||e.some((function(e){return rr[Bt].includes(e)})))&&(o=Bt),(e.includes(i[qt])||e.some((function(e){return rr[qt].includes(e)})))&&(o=qt);var u=e.reduce((function(e,t){var n=Yn(ln.cssPrefix,t);if(Vn[t]?(t=zn[o].includes(t)?Yt[o][t]:t,a=t,e.prefix=t):Qn[o].indexOf(t)>-1?(a=t,e.prefix=nr(t,{family:o})):n?e.iconName=n:t!==ln.replacementClass&&t!==i[Bt]&&t!==i[qt]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var u="fa"===a?$n(e.iconName):{},s=Zn(e.prefix,e.iconName);u.prefix&&(a=null),e.iconName=u.iconName||s||e.iconName,e.prefix=u.prefix||e.prefix,"far"!==e.prefix||Vn.far||!Vn.fas||ln.autoFetchSvg||(e.prefix="fas")}return e}),tr());return(e.includes("fa-brands")||e.includes("fab"))&&(u.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(u.prefix="fad"),u.prefix||o!==qt||!Vn.fass&&!ln.autoFetchSvg||(u.prefix="fass",u.iconName=Zn(u.prefix,u.iconName)||u.iconName),"fa"!==u.prefix&&"fa"!==a||(u.prefix=er()||"fas"),u}var ar=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=rt(rt({},e.definitions[t]||{}),i[t]),Ln(t,i[t]);var n=Qt[Bt][t];n&&Ln(n,i[t]),Xn()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,u=o[2];e[i]||(e[i]={}),u.length>0&&u.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&at(t.prototype,n),r&&at(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),or=[],ur={},sr={},cr=Object.keys(sr);function lr(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(ur[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function fr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(ur[e]||[]).forEach((function(e){e.apply(null,n)}))}function hr(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return sr[e]?sr[e].apply(null,t):void 0}function dr(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||er();if(t)return t=Zn(n,t)||t,Pn(pr.definitions,n,t)||Pn(Tn.styles,n,t)}var pr=new ar,vr={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tt?(fr("beforeI2svg",e),hr("pseudoElements2svg",e),hr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===ln.autoReplaceSvg&&(ln.autoReplaceSvg=!0),ln.observeMutations=!0,e=function(){gr({autoReplaceSvgRoot:n}),fr("watch",t)},Tt&&(Nn?setTimeout(e,0):Cn.push(e))}},mr={icon:function(e){if(null===e)return null;if("object"===it(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Zn(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=nr(e[0]);return{prefix:n,iconName:Zn(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(ln.cssPrefix,"-"))>-1||e.match(Xt))){var r=ir(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||er(),iconName:Zn(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=er();return{prefix:i,iconName:Zn(i,e)||e}}}},yr={noAuto:function(){ln.autoReplaceSvg=!1,ln.observeMutations=!1,fr("noAuto")},config:ln,dom:vr,parse:mr,library:pr,findIconDefinition:dr,toHtml:An},gr=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?It:e;(Object.keys(Tn.styles).length>0||ln.autoFetchSvg)&&Tt&&ln.autoReplaceSvg&&yr.dom.i2svg({node:t})};function kr(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return An(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Tt){var t=It.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function br(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,y="fak"===i,g=[ln.replacementClass,a?"".concat(ln.cssPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),k={children:[],attributes:rt(rt({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},b=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(k.attributes[Rt]=""),s&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(l||vn())},children:[s]}),delete k.attributes.title);var w=rt(rt({},k),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:rt(rt({},b),f.styles)}),x=r.found&&n.found?hr("generateAbstractMask",w)||{children:[],attributes:{}}:hr("generateAbstractIcon",w)||{children:[],attributes:{}},_=x.children,I=x.attributes;return w.children=_,w.attributes=I,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(ln.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:rt(rt({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(bn(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=kn(rt(rt({},a),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function wr(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,u=e.watchable,s=void 0!==u&&u,c=rt(rt(rt({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(c[Rt]="");var l=rt({},o.styles);bn(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?At:n,i=e.height,a=void 0===i?At:i,o=e.startCentered,u=void 0!==o&&o,s="";return s+=u&&Ct?"translate(".concat(t.x/hn-r/2,"em, ").concat(t.y/hn-a/2,"em) "):u?"translate(calc(-50% + ".concat(t.x/hn,"em), calc(-50% + ").concat(t.y/hn,"em)) "):"translate(".concat(t.x/hn,"em, ").concat(t.y/hn,"em) "),s+="scale(".concat(t.size/hn*(t.flipX?-1:1),", ").concat(t.size/hn*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=kn(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}var xr=Tn.styles;function _r(e){var t=e[0],n=e[1],r=ut(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(ln.cssPrefix,"-").concat(rn.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ln.cssPrefix,"-").concat(rn.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ln.cssPrefix,"-").concat(rn.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var Ir={found:!1,width:512,height:512};function Sr(e,t){var n=t;return"fa"===t&&null!==ln.styleDefault&&(t=er()),new Promise((function(r,i){hr("missingIconAbstract");if("fa"===n){var a=$n(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&xr[t]&&xr[t][e])return r(_r(xr[t][e]));!function(e,t){zt||ln.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(rt(rt({},Ir),{},{icon:ln.showMissingIcons&&e&&hr("missingIconAbstract")||{}}))}))}var Er=function(){},Tr=ln.measurePerformance&&Et&&Et.mark&&Et.measure?Et:{mark:Er,measure:Er},Cr='FA "6.4.2"',Nr=function(e){Tr.mark("".concat(Cr," ").concat(e," ends")),Tr.measure("".concat(Cr," ").concat(e),"".concat(Cr," ").concat(e," begins"),"".concat(Cr," ").concat(e," ends"))},Ar={begin:function(e){return Tr.mark("".concat(Cr," ").concat(e," begins")),function(){return Nr(e)}},end:Nr},Pr=function(){};function Or(e){return"string"===typeof(e.getAttribute?e.getAttribute(Rt):null)}function Rr(e){return It.createElementNS("http://www.w3.org/2000/svg",e)}function Dr(e){return It.createElement(e)}function Lr(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?Rr:Dr:t;if("string"===typeof e)return It.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(Lr(e,{ceFn:n}))})),r}var Mr={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Lr(e),t)})),null===t.getAttribute(Rt)&&ln.keepOriginalSource){var n=It.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~yn(t).indexOf(ln.replacementClass))return Mr.replace(e);var r=new RegExp("".concat(ln.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===ln.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return An(e)})).join("\n");t.setAttribute(Rt,""),t.innerHTML=a}};function jr(e){e()}function Fr(e,t){var n="function"===typeof t?t:Pr;if(0===e.length)n();else{var r=jr;ln.mutateApproach===Vt&&(r=_t.requestAnimationFrame||jr),r((function(){var t=!0===ln.autoReplaceSvg?Mr.replace:Mr[ln.autoReplaceSvg]||Mr.replace,r=Ar.begin("mutate");e.map(t),r(),n()}))}}var Vr=!1;function Ur(){Vr=!0}function zr(){Vr=!1}var Br=null;function qr(e){if(St&&ln.observeMutations){var t=e.treeCallback,n=void 0===t?Pr:t,r=e.nodeCallback,i=void 0===r?Pr:r,a=e.pseudoElementsCallback,o=void 0===a?Pr:a,u=e.observeMutationsRoot,s=void 0===u?It:u;Br=new St((function(e){if(!Vr){var t=er();mn(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Or(e.addedNodes[0])&&(ln.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&ln.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&Or(e.target)&&~nn.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Mt):null,n=e.getAttribute?e.getAttribute(jt):null;return t&&n}(e.target)){var r=ir(yn(e.target)),a=r.prefix,u=r.iconName;e.target.setAttribute(Mt,a||t),u&&e.target.setAttribute(jt,u)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(ln.replacementClass)&&i(e.target);var s}))}})),Tt&&Br.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Hr(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=ir(yn(e));return i.prefix||(i.prefix=er()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Hn[e]||{})[t]}(i.prefix,e.innerText)||Jn(i.prefix,Rn(e.innerText))),!i.iconName&&ln.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Hr(e),r=n.iconName,i=n.prefix,a=n.rest,o=function(e){var t=mn(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return ln.autoA11y&&(n?t["aria-labelledby"]="".concat(ln.replacementClass,"-title-").concat(r||vn()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),u=lr("parseNodeAttributes",{},e),s=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return rt({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:dn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},u)}var Wr=Tn.styles;function Kr(e){var t="nest"===ln.autoReplaceSvg?Gr(e,{styleParser:!1}):Gr(e);return~t.extra.classes.indexOf(Jt)?hr("generateLayersText",e,t):hr("generateSvgReplacementMutation",e,t)}var Qr=new Set;function Yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Tt)return Promise.resolve();var n=It.documentElement.classList,r=function(e){return n.add("".concat(Ft,"-").concat(e))},i=function(e){return n.remove("".concat(Ft,"-").concat(e))},a=ln.autoFetchSvg?Qr:Ht.map((function(e){return"fa-".concat(e)})).concat(Object.keys(Wr));a.includes("fa")||a.push("fa");var o=[".".concat(Jt,":not([").concat(Rt,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(Rt,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=mn(e.querySelectorAll(o))}catch(YU){}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var s=Ar.begin("onTree"),c=u.reduce((function(e,t){try{var n=Kr(t);n&&e.push(n)}catch(YU){zt||"MissingIcon"===YU.name&&console.error(YU)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){Fr(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),s(),e()}))})).catch((function(e){s(),n(e)}))}))}function Xr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Kr(e).then((function(e){e&&Fr([e],t)}))}Ht.map((function(e){Qr.add("fa-".concat(e))})),Object.keys(Wt[Bt]).map(Qr.add.bind(Qr)),Object.keys(Wt[qt]).map(Qr.add.bind(Qr)),Qr=st(Qr);var Jr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?dn:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,y=void 0===m?{}:m,g=t.styles,k=void 0===g?{}:g;if(e){var b=e.prefix,w=e.iconName,x=e.icon;return kr(rt({type:"icon"},e),(function(){return fr("beforeDOMElementCreation",{iconDefinition:e,params:t}),ln.autoA11y&&(f?y["aria-labelledby"]="".concat(ln.replacementClass,"-title-").concat(d||vn()):(y["aria-hidden"]="true",y.focusable="false")),br({icons:{main:_r(x),mask:u?_r(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:rt(rt({},dn),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:k,classes:v}})}))}},Zr={mixout:function(){return{icon:(e=Jr,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:dr(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:dr(i||{})),e(r,rt(rt({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Yr,e.nodeCallback=Xr,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?It:t,r=e.callback;return Yr(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,u=t.symbol,s=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([Sr(n,a),s.iconName?Sr(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(s){var f=ut(s,2),h=f[0],d=f[1];t([e,br({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:u,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=kn(e.styles);return o.length>0&&(r.style=o),bn(a)&&(t=hr("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},$r={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return kr({type:"layer"},(function(){fr("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(ln.cssPrefix,"-layers")].concat(st(r)).join(" ")},children:n}]}))}}}},ei={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,u=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return kr({type:"counter",content:e},(function(){return fr("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=rt(rt(rt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=kn(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:r,extra:{attributes:u,styles:c,classes:["".concat(ln.cssPrefix,"-layers-counter")].concat(st(a))}})}))}}}},ti={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?dn:n,i=t.title,a=void 0===i?null:i,o=t.classes,u=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,l=t.styles,f=void 0===l?{}:l;return kr({type:"text",content:e},(function(){return fr("beforeDOMElementCreation",{content:e,params:t}),wr({content:e,transform:rt(rt({},dn),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(ln.cssPrefix,"-layers-text")].concat(st(u))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(Ct){var u=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();a=s.width/u,o=s.height/u}return ln.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,wr({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},ni=new RegExp('"',"ug"),ri=[1105920,1112319];function ii(e,t){var n="".concat(Lt).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=mn(e.children).filter((function(e){return e.getAttribute(Dt)===t}))[0],o=_t.getComputedStyle(e,t),u=o.getPropertyValue("font-family").match(Zt),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!u)return e.removeChild(a),r();if(u&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Sharp"].indexOf(u[2])?qt:Bt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?Kt[f][u[2].toLowerCase()]:$t[f][s],d=function(e){var t=e.replace(ni,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=ri[0]&&n<=ri[1],i=2===t.length&&t[0]===t[1];return{value:Rn(i?t[0]:t),isSecondary:r||i}}(l),p=d.value,v=d.isSecondary,m=u[0].startsWith("FontAwesome"),y=Jn(h,p),g=y;if(m){var k=function(e){var t=Wn[e],n=Jn("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);k.iconName&&k.prefix&&(y=k.iconName,h=k.prefix)}if(!y||v||a&&a.getAttribute(Mt)===h&&a.getAttribute(jt)===g)r();else{e.setAttribute(n,g),a&&e.removeChild(a);var b={iconName:null,title:null,titleId:null,prefix:null,transform:dn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},w=b.extra;w.attributes[Dt]=t,Sr(y,h).then((function(i){var a=br(rt(rt({},b),{},{icons:{main:i,mask:tr()},prefix:h,iconName:g,extra:w,watchable:!0})),o=It.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return An(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function ai(e){return Promise.all([ii(e,"::before"),ii(e,"::after")])}function oi(e){return e.parentNode!==document.head&&!~Ut.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Dt)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function ui(e){if(Tt)return new Promise((function(t,n){var r=mn(e.querySelectorAll("*")).filter(oi).map(ai),i=Ar.begin("searchPseudoElements");Ur(),Promise.all(r).then((function(){i(),zr(),t()})).catch((function(){i(),zr(),n()}))}))}var si=!1,ci=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},li={mixout:function(){return{parse:{transform:function(e){return ci(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=ci(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(u," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:rt({},c.outer),children:[{tag:"g",attributes:rt({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:rt(rt({},t.icon.attributes),c.path)}]}]}}}},fi={x:0,y:0,width:"100%",height:"100%"};function hi(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var di={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?ir(n.split(" ").map((function(e){return e.trim()}))):tr();return r.prefix||(r.prefix=er()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:rt(rt({},fi),{},{fill:"white"})},p=c.children?{children:c.children.map(hi)}:{},v={tag:"g",attributes:rt({},h.inner),children:[hi(rt({tag:c.tag,attributes:rt(rt({},c.attributes),h.path)},p))]},m={tag:"g",attributes:rt({},h.outer),children:[v]},y="mask-".concat(o||vn()),g="clip-".concat(o||vn()),k={tag:"mask",attributes:rt(rt({},fi),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:rt({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},fi)}),{children:n,attributes:r}}}},pi={provides:function(e){var t=!1;_t.matchMedia&&(t=_t.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:rt(rt({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=rt(rt({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:rt(rt({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:rt(rt({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:rt(rt({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:rt(rt({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:rt(rt({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:rt(rt({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:rt(rt({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;or=e,ur={},Object.keys(sr).forEach((function(e){-1===cr.indexOf(e)&&delete sr[e]})),or.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===it(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){ur[e]||(ur[e]=[]),ur[e].push(r[e])}))}e.provides&&e.provides(sr)}))}([Sn,Zr,$r,ei,ti,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=ui,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?It:t;ln.searchPseudoElements&&ui(n)}}},{mixout:function(){return{dom:{unwatch:function(){Ur(),si=!0}}}},hooks:function(){return{bootstrap:function(){qr(lr("mutationObserverCallbacks",{}))},noAuto:function(){Br&&Br.disconnect()},watch:function(e){var t=e.observeMutationsRoot;si?zr():qr(lr("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},li,di,pi,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:yr});var vi=yr.parse,mi=yr.icon,yi=n(7),gi=n.n(yi);function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach((function(t){xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wi(e){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}function xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ii(e){return function(e){if(Array.isArray(e))return Si(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Si(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ei(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Ti=["style"];var Ci=!1;try{Ci=!0}catch(YU){}function Ni(e){return e&&"object"===wi(e)&&e.prefix&&e.iconName&&e.icon?e:vi.icon?vi.icon(e):null===e?null:e&&"object"===wi(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Ai(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?xi({},e,t):{}}var Pi=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,u=e.titleId,s=e.maskId,c=Ni(n),l=Ai("classes",[].concat(Ii(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,k=e.pull,b=(xi(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),xi(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),xi(t,"fa-pull-".concat(k),"undefined"!==typeof k&&null!==k),xi(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(e)),Ii(a.split(" ")))),f=Ai("transform","string"===typeof e.transform?vi.transform(e.transform):e.transform),h=Ai("mask",Ni(r)),d=mi(c,bi(bi(bi(bi({},l),f),h),{},{symbol:i,title:o,titleId:u,maskId:s}));if(!d)return function(){var e;!Ci&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=d.abstract,v={ref:t};return Object.keys(e).forEach((function(t){Pi.defaultProps.hasOwnProperty(t)||(v[t]=e[t])})),Oi(p[0],v)}));Pi.displayName="FontAwesomeIcon",Pi.propTypes={beat:gi().bool,border:gi().bool,beatFade:gi().bool,bounce:gi().bool,className:gi().string,fade:gi().bool,flash:gi().bool,mask:gi().oneOfType([gi().object,gi().array,gi().string]),maskId:gi().string,fixedWidth:gi().bool,inverse:gi().bool,flip:gi().oneOf([!0,!1,"horizontal","vertical","both"]),icon:gi().oneOfType([gi().object,gi().array,gi().string]),listItem:gi().bool,pull:gi().oneOf(["right","left"]),pulse:gi().bool,rotation:gi().oneOf([0,90,180,270]),shake:gi().bool,size:gi().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:gi().bool,spinPulse:gi().bool,spinReverse:gi().bool,symbol:gi().oneOfType([gi().bool,gi().string]),title:gi().string,titleId:gi().string,transform:gi().oneOfType([gi().string,gi().object]),swapOpacity:gi().bool},Pi.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Oi=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Ei(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Ei(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=_i(r,Ti);return a.attrs.style=bi(bi({},a.attrs.style),u),t.apply(void 0,[n.tag,bi(bi({},a.attrs),s)].concat(Ii(i)))}.bind(null,t.createElement),Ri={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z"]},Di=Ri,Li={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},Mi={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},ji={prefix:"fas",iconName:"hourglass",icon:[384,512,[9203,62032,"hourglass-empty"],"f254","M0 32C0 14.3 14.3 0 32 0H64 320h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V75c0 42.4-16.9 83.1-46.9 113.1L237.3 256l67.9 67.9c30 30 46.9 70.7 46.9 113.1v11c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 64 32c-17.7 0-32-14.3-32-32s14.3-32 32-32V437c0-42.4 16.9-83.1 46.9-113.1L146.7 256 78.9 188.1C48.9 158.1 32 117.4 32 75V64C14.3 64 0 49.7 0 32zM96 64V75c0 25.5 10.1 49.9 28.1 67.9L192 210.7l67.9-67.9c18-18 28.1-42.4 28.1-67.9V64H96zm0 384H288V437c0-25.5-10.1-49.9-28.1-67.9L192 301.3l-67.9 67.9c-18 18-28.1 42.4-28.1 67.9v11z"]},Fi={prefix:"fas",iconName:"user-doctor",icon:[448,512,["user-md"],"f0f0","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-96 55.2C54 332.9 0 401.3 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7c0-81-54-149.4-128-171.1V362c27.6 7.1 48 32.2 48 62v40c0 8.8-7.2 16-16 16H336c-8.8 0-16-7.2-16-16s7.2-16 16-16V424c0-17.7-14.3-32-32-32s-32 14.3-32 32v24c8.8 0 16 7.2 16 16s-7.2 16-16 16H256c-8.8 0-16-7.2-16-16V424c0-29.8 20.4-54.9 48-62V304.9c-6-.6-12.1-.9-18.3-.9H178.3c-6.2 0-12.3 .3-18.3 .9v65.4c23.1 6.9 40 28.3 40 53.7c0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.4 16.9-46.8 40-53.7V311.2zM144 448a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},Vi=Fi,Ui={prefix:"fas",iconName:"money-bill-1",icon:[576,512,["money-bill-alt"],"f3d1","M64 64C28.7 64 0 92.7 0 128V384c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H64zm64 320H64V320c35.3 0 64 28.7 64 64zM64 192V128h64c0 35.3-28.7 64-64 64zM448 384c0-35.3 28.7-64 64-64v64H448zm64-192c-35.3 0-64-28.7-64-64h64v64zM176 256a112 112 0 1 1 224 0 112 112 0 1 1 -224 0zm76-48c0 9.7 6.9 17.7 16 19.6V276h-4c-11 0-20 9-20 20s9 20 20 20h24 24c11 0 20-9 20-20s-9-20-20-20h-4V208c0-11-9-20-20-20H272c-11 0-20 9-20 20z"]},zi=Ui,Bi={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},qi={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Hi=qi,Gi={prefix:"fas",iconName:"store",icon:[576,512,[],"f54e","M547.6 103.8L490.3 13.1C485.2 5 476.1 0 466.4 0H109.6C99.9 0 90.8 5 85.7 13.1L28.3 103.8c-29.6 46.8-3.4 111.9 51.9 119.4c4 .5 8.1 .8 12.1 .8c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.2 0 49.3-11.4 65.2-29c16 17.6 39.1 29 65.2 29c4.1 0 8.1-.3 12.1-.8c55.5-7.4 81.8-72.5 52.1-119.4zM499.7 254.9l-.1 0c-5.3 .7-10.7 1.1-16.2 1.1c-12.4 0-24.3-1.9-35.4-5.3V384H128V250.6c-11.2 3.5-23.2 5.4-35.6 5.4c-5.5 0-11-.4-16.3-1.1l-.1 0c-4.1-.6-8.1-1.3-12-2.3V384v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V384 252.6c-4 1-8 1.8-12.3 2.3z"]},Wi={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"]},Ki={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M184 48H328c4.4 0 8 3.6 8 8V96H176V56c0-4.4 3.6-8 8-8zm-56 8V96H64C28.7 96 0 124.7 0 160v96H192 320 512V160c0-35.3-28.7-64-64-64H384V56c0-30.9-25.1-56-56-56H184c-30.9 0-56 25.1-56 56zM512 288H320v32c0 17.7-14.3 32-32 32H224c-17.7 0-32-14.3-32-32V288H0V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V288z"]},Qi=function(){var e=c((0,t.useState)("home"),2),n=e[0],r=e[1],i=function(e){r(e)};return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("div",{className:"container-nav",children:(0,et.jsxs)("nav",{className:"navbar",children:[(0,et.jsx)("div",{children:(0,et.jsxs)(Je,{to:"/",className:"navbar-item ".concat("home"===n?"active":""),onClick:function(){return i("home")},children:[(0,et.jsx)("span",{className:"text ".concat("home"===n?"active":""),children:"INICIO"}),(0,et.jsx)(Pi,{icon:Hi,size:"2x",className:"icon ".concat("home"===n?"active":"")})]})}),(0,et.jsx)("div",{children:(0,et.jsxs)(Je,{to:"/tratamientos",className:"navbar-item ".concat("treatments"===n?"active":""),onClick:function(){return i("treatments")},children:[(0,et.jsx)("span",{className:"text ".concat("treatments"===n?"active":""),children:"TRATAMIENTOS"}),(0,et.jsx)(Pi,{icon:Ki,size:"2x",className:"icon ".concat("treatments"===n?"active":"")})]})}),(0,et.jsx)("div",{children:(0,et.jsxs)(Je,{to:"https://dhermica.mitiendanube.com/",className:"navbar-item ".concat("products"===n?"active":""),onClick:function(){return i("products")},children:[(0,et.jsx)("span",{className:"text ".concat("products"===n?"active":""),children:"TIENDA"}),(0,et.jsx)(Pi,{icon:Gi,size:"2x",className:"icon ".concat("products"===n?"active":"")})]})}),(0,et.jsx)("div",{children:(0,et.jsxs)(Je,{to:"/contacto",className:"navbar-item ".concat("contact"===n?"active":""),onClick:function(){return i("contact")},children:[(0,et.jsx)("span",{className:"text ".concat("contact"===n?"active":""),children:"CONTACTO"}),(0,et.jsx)(Pi,{icon:Mi,size:"2x",className:"icon ".concat("contact"===n?"active":"")})]})})]})})})};function Yi(){Yi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),u=new P(r||[]);return i(o,"_invoke",{value:T(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function k(){}function b(){}var w={};c(w,o,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(O([])));_&&_!==n&&r.call(_,o)&&(w=_);var I=b.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=f(e[i],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==m(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=h;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var s=C(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(m(t)+" is not iterable")}return k.prototype=b,i(I,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:k,configurable:!0}),k.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},S(E.prototype),c(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(I),c(I,s,"Generator"),c(I,o,(function(){return this})),c(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Xi(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ji(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xi(a,r,i,o,u,"next",e)}function u(e){Xi(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Zi(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ea={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new ta;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ta=function(e){w(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return k(n)}(T(Error)),na=function(e){return function(e){var t=$i(e);return ea.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ra=function(e){try{return ea.decodeString(e,!0)}catch(YU){console.error("base64Decode failed: ",YU)}return null};function ia(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ia(e[n],t[n]));return e}var aa=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},oa=function(){try{return aa()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(YU){return}var t=e&&ra(e[1]);return t&&JSON.parse(t)}}()}catch(YU){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(YU))}},ua=function(){var e;return null===(e=oa())||void 0===e?void 0:e.config},sa=function(){function e(){var t=this;v(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return k(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ca(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function la(){var e,t=null===(e=oa())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(YU){return!1}}function fa(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ha(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function da(){var e=ca();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pa(){try{return"object"===typeof indexedDB}catch(YU){return!1}}var va=function(e){w(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(I(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(I(a),ma.prototype.create),a}return k(n)}(T(Error)),ma=function(){function e(t,n,r){v(this,e),this.service=t,this.serviceName=n,this.errors=r}return k(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ya,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new va(n,a,t)}}]),e}();var ya=/\{\$([^}]+)}/g;function ga(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ka(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ba(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(wa(u)&&wa(s)){if(!ba(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function wa(e){return null!==e&&"object"===typeof e}function xa(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function _a(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ia(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Sa(e,t){var n=new Ea(e,t);return n.subscribe.bind(n)}var Ea=function(){function e(t,n){var r=this;v(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return k(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=N(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ta),void 0===r.error&&(r.error=Ta),void 0===r.complete&&(r.complete=Ta);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(YU){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(YU){"undefined"!==typeof console&&console.error&&console.error(YU)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ta(){}function Ca(e){return e&&e._delegate?e._delegate:e}var Na=function(){function e(t,n,r){v(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return k(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Aa="[DEFAULT]",Pa=function(){function e(t,n){v(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return k(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new sa;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(YU){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(YU){if(r)return null;throw YU}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch(YU){}var t,n=N(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(YU){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(p(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),p(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=N(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1];r===this.normalizeInstanceIdentifier(s)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Aa?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa;return this.component?this.component.multipleInstances?e:Aa:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Oa,Ra,Da=function(){function e(t){v(this,e),this.name=t,this.providers=new Map}return k(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Pa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),La=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ra||(Ra={}));var Ma={debug:Ra.DEBUG,verbose:Ra.VERBOSE,info:Ra.INFO,warn:Ra.WARN,error:Ra.ERROR,silent:Ra.SILENT},ja=Ra.INFO,Fa=(Zi(Oa={},Ra.DEBUG,"log"),Zi(Oa,Ra.VERBOSE,"log"),Zi(Oa,Ra.INFO,"info"),Zi(Oa,Ra.WARN,"warn"),Zi(Oa,Ra.ERROR,"error"),Oa),Va=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Fa[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ua=function(){function e(t){v(this,e),this.name=t,this._logLevel=ja,this._logHandler=Va,this._userLogHandler=null,La.push(this)}return k(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ra))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ma[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ra.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ra.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ra.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ra.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ra.INFO].concat(t)),this._logHandler.apply(this,[this,Ra.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ra.WARN].concat(t)),this._logHandler.apply(this,[this,Ra.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ra.ERROR].concat(t)),this._logHandler.apply(this,[this,Ra.ERROR].concat(t))}}]),e}();function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(Object(n),!0).forEach((function(t){Zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qa,Ha,Ga=function(e,t){return t.some((function(t){return e instanceof t}))};var Wa=new WeakMap,Ka=new WeakMap,Qa=new WeakMap,Ya=new WeakMap,Xa=new WeakMap;var Ja={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ka.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Qa.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Za(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ha||(Ha=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(to(this),n),eo(Wa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return eo(e.apply(to(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[to(this),t].concat(r));return Qa.set(a,t.sort?t.sort():[t]),eo(a)}}function $a(e){return"function"===typeof e?Za(e):(e instanceof IDBTransaction&&function(e){if(!Ka.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ka.set(e,t)}}(e),Ga(e,qa||(qa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ja):e)}function eo(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(eo(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Wa.set(t,e)})).catch((function(){})),Xa.set(t,e),t}(e);if(Ya.has(e))return Ya.get(e);var t=$a(e);return t!==e&&(Ya.set(e,t),Xa.set(t,e)),t}var to=function(e){return Xa.get(e)};var no,ro,io,ao=["get","getKey","getAll","getAllKeys","count"],oo=["put","add","delete","clear"],uo=new Map;function so(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(uo.get(t))return uo.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=oo.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ao.includes(n))){var a=function(){var e=Ji(Yi().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return uo.set(t,a),a}}}no=function(e){return Ba(Ba({},e),{},{get:function(t,n,r){return so(t,n)||e.get(t,n,r)},has:function(t,n){return!!so(t,n)||e.has(t,n)}})},Ja=no(Ja);var co=function(){function e(t){v(this,e),this.container=t}return k(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var lo="@firebase/app",fo="0.9.19",ho=new Ua("@firebase/app"),po="[DEFAULT]",vo=(Zi(ro={},lo,"fire-core"),Zi(ro,"@firebase/app-compat","fire-core-compat"),Zi(ro,"@firebase/analytics","fire-analytics"),Zi(ro,"@firebase/analytics-compat","fire-analytics-compat"),Zi(ro,"@firebase/app-check","fire-app-check"),Zi(ro,"@firebase/app-check-compat","fire-app-check-compat"),Zi(ro,"@firebase/auth","fire-auth"),Zi(ro,"@firebase/auth-compat","fire-auth-compat"),Zi(ro,"@firebase/database","fire-rtdb"),Zi(ro,"@firebase/database-compat","fire-rtdb-compat"),Zi(ro,"@firebase/functions","fire-fn"),Zi(ro,"@firebase/functions-compat","fire-fn-compat"),Zi(ro,"@firebase/installations","fire-iid"),Zi(ro,"@firebase/installations-compat","fire-iid-compat"),Zi(ro,"@firebase/messaging","fire-fcm"),Zi(ro,"@firebase/messaging-compat","fire-fcm-compat"),Zi(ro,"@firebase/performance","fire-perf"),Zi(ro,"@firebase/performance-compat","fire-perf-compat"),Zi(ro,"@firebase/remote-config","fire-rc"),Zi(ro,"@firebase/remote-config-compat","fire-rc-compat"),Zi(ro,"@firebase/storage","fire-gcs"),Zi(ro,"@firebase/storage-compat","fire-gcs-compat"),Zi(ro,"@firebase/firestore","fire-fst"),Zi(ro,"@firebase/firestore-compat","fire-fst-compat"),Zi(ro,"fire-js","fire-js"),Zi(ro,"firebase","fire-js-all"),ro),mo=new Map,yo=new Map;function go(e,t){try{e.container.addComponent(t)}catch(YU){ho.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),YU)}}function ko(e,t){e.container.addOrOverwriteComponent(t)}function bo(e){var t=e.name;if(yo.has(t))return ho.debug("There were multiple attempts to register component ".concat(t,".")),!1;yo.set(t,e);var n,r=N(mo.values());try{for(r.s();!(n=r.n()).done;){go(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function wo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function xo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:po;wo(e,t).clearInstance(n)}function _o(){yo.clear()}var Io=(Zi(io={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Zi(io,"bad-app-name","Illegal App name: '{$appName}"),Zi(io,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Zi(io,"app-deleted","Firebase App named '{$appName}' already deleted"),Zi(io,"no-options","Need to provide options, when not being deployed to hosting via source."),Zi(io,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Zi(io,"invalid-log-argument","First argument to `onLog` must be null or a function."),Zi(io,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Zi(io,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Zi(io,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Zi(io,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),io),So=new ma("app","Firebase",Io),Eo=function(){function e(t,n,r){var i=this;v(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Na("app",(function(){return i}),"PUBLIC"))}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}]),e}(),To="10.4.0";function Co(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:po,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=ua()),!n)throw So.create("no-options");var a=mo.get(i);if(a){if(ba(n,a.options)&&ba(r,a.config))return a;throw So.create("duplicate-app",{appName:i})}var o,u=new Da(i),s=N(yo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Eo(n,r,u);return mo.set(i,l),l}function No(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po,t=mo.get(e);if(!t&&e===po&&ua())return Co();if(!t)throw So.create("no-app",{appName:e});return t}function Ao(){return Array.from(mo.values())}function Po(e){return Oo.apply(this,arguments)}function Oo(){return(Oo=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!mo.has(n)){e.next=6;break}return mo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e,t,n){var r,i=null!==(r=vo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ho.warn(u.join(" "))}bo(new Na("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Do(e,t){if(null!==e&&"function"!==typeof e)throw So.create("invalid-log-argument");!function(e,t){var n,r=N(La);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ma[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ra[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Lo(e){var t;t=e,La.forEach((function(e){e.setLogLevel(t)}))}var Mo="firebase-heartbeat-database",jo=1,Fo="firebase-heartbeat-store",Vo=null;function Uo(){return Vo||(Vo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=eo(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(eo(u.result),e.oldVersion,e.newVersion,eo(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Mo,jo,{upgrade:function(e,t){if(0===t)e.createObjectStore(Fo)}}).catch((function(e){throw So.create("idb-open",{originalErrorMessage:e.message})}))),Vo}function zo(e){return Bo.apply(this,arguments)}function Bo(){return Bo=Ji(Yi().mark((function e(t){var n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uo();case 3:return n=e.sent,e.next=6,n.transaction(Fo).objectStore(Fo).get(Go(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof va?ho.warn(e.t0.message):(i=So.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ho.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Bo.apply(this,arguments)}function qo(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=Ji(Yi().mark((function e(t,n){var r,i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uo();case 3:return r=e.sent,i=r.transaction(Fo,"readwrite"),a=i.objectStore(Fo),e.next=8,a.put(n,Go(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof va?ho.warn(e.t0.message):(o=So.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ho.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ho.apply(this,arguments)}function Go(e){return"".concat(e.name,"!").concat(e.options.appId)}var Wo=function(){function e(t){var n=this;v(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Jo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return k(e,[{key:"triggerHeartbeat",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ko(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ko(),n=Qo(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=na(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ko(){return(new Date).toISOString().substring(0,10)}function Qo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=N(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Zo(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Zo(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Yo,Xo,Jo=function(){function e(t){v(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return k(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,zo(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(p(r.heartbeats),p(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Zo(e){return na(JSON.stringify({version:2,heartbeats:e})).length}Yo="",bo(new Na("platform-logger",(function(e){return new co(e)}),"PRIVATE")),bo(new Na("heartbeat",(function(e){return new Wo(e)}),"PRIVATE")),Ro(lo,fo,Yo),Ro(lo,fo,"esm2017"),Ro("fire-js","");var $o=function(){function e(t,n){var r=this;v(this,e),this._delegate=t,this.firebase=n,go(t,new Na("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Po(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:po;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:po;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){go(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ko(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),eu=(Zi(Xo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Zi(Xo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Xo),tu=new ma("app-compat","Firebase",eu);var nu=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Co(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ga(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ro,setLogLevel:Lo,onLog:Do,apps:null,SDK_VERSION:To,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(bo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw tu.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ia(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ga(n,e=e||po))throw tu.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}($o);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ia(n,e)},createSubscribe:Sa,ErrorFactory:ma,deepExtend:ia}),n}(),ru=new Ua("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ru.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var iu=self.firebase.SDK_VERSION;iu&&iu.indexOf("LITE")>=0&&ru.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var au=nu;!function(e){Ro("@firebase/app-compat","0.2.19",e)}();function ou(){return ou="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ou.apply(this,arguments)}au.registerVersion("firebase","10.4.0","app-compat");var uu,su="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},cu={},lu=lu||{},fu=su||self;function hu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function du(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var pu="closure_uid_"+(1e9*Math.random()>>>0),vu=0;function mu(e,t,n){return e.call.apply(e.bind,arguments)}function yu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function gu(e,t,n){return(gu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mu:yu).apply(null,arguments)}function ku(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function bu(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function wu(){this.s=this.s,this.o=this.o}wu.prototype.s=!1,wu.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,pu)&&e[pu]||(e[pu]=++vu))},wu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _u(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Iu(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(hu(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Su(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Su.prototype.h=function(){this.defaultPrevented=!0};var Eu=function(){if(!fu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fu.addEventListener("test",(function(){}),t),fu.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Tu(e){return/^[\s\xa0]*$/.test(e)}function Cu(){var e=fu.navigator;return e&&(e=e.userAgent)?e:""}function Nu(e){return-1!=Cu().indexOf(e)}function Au(e){return Au[" "](e),e}Au[" "]=function(){};var Pu,Ou,Ru=Nu("Opera"),Du=Nu("Trident")||Nu("MSIE"),Lu=Nu("Edge"),Mu=Lu||Du,ju=Nu("Gecko")&&!(-1!=Cu().toLowerCase().indexOf("webkit")&&!Nu("Edge"))&&!(Nu("Trident")||Nu("MSIE"))&&!Nu("Edge"),Fu=-1!=Cu().toLowerCase().indexOf("webkit")&&!Nu("Edge");function Vu(){var e=fu.document;return e?e.documentMode:void 0}e:{var Uu="",zu=function(){var e=Cu();return ju?/rv:([^\);]+)(\)|;)/.exec(e):Lu?/Edge\/([\d\.]+)/.exec(e):Du?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Fu?/WebKit\/(\S+)/.exec(e):Ru?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(zu&&(Uu=zu?zu[1]:""),Du){var Bu=Vu();if(null!=Bu&&Bu>parseFloat(Uu)){Pu=String(Bu);break e}}Pu=Uu}if(fu.document&&Du){var qu=Vu();Ou=qu||(parseInt(Pu,10)||void 0)}else Ou=void 0;var Hu=Ou;function Gu(e,t){if(Su.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ju){e:{try{Au(t.nodeName);var i=!0;break e}catch(pj){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Wu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gu.$.h.call(this)}}bu(Gu,Su);var Wu={2:"touch",3:"pen",4:"mouse"};Gu.prototype.h=function(){Gu.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ku="closure_listenable_"+(1e6*Math.random()|0),Qu=0;function Yu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Qu,this.fa=this.ia=!1}function Xu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ju(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Zu(e){var t={};for(var n in e)t[n]=e[n];return t}var $u="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function es(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<$u.length;a++)n=$u[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ts(e){this.src=e,this.g={},this.h=0}function ns(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=xu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function rs(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}ts.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=rs(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Yu(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var is="closure_lm_"+(1e6*Math.random()|0),as={};function os(e,t,n,r,i){if(r&&r.once)return ss(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)os(e,t[a],n,r,i);return null}return n=vs(n),e&&e[Ku]?e.O(t,n,du(r)?!!r.capture:!!r,i):us(e,t,n,!1,r,i)}function us(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=du(i)?!!i.capture:!!i,u=ds(e);if(u||(e[is]=u=new ts(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=hs;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Eu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ss(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ss(e,t[a],n,r,i);return null}return n=vs(n),e&&e[Ku]?e.P(t,n,du(r)?!!r.capture:!!r,i):us(e,t,n,!0,r,i)}function cs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)cs(e,t[a],n,r,i);else r=du(r)?!!r.capture:!!r,n=vs(n),e&&e[Ku]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=rs(a=e.g[t],n,r,i))&&(Xu(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ds(e))&&(t=e.g[t.toString()],e=-1,t&&(e=rs(t,n,r,i)),(n=-1<e?t[e]:null)&&ls(n))}function ls(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ku])ns(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ds(t))?(ns(n,e),0==n.h&&(n.src=null,t[is]=null)):Xu(e)}}}function fs(e){return e in as?as[e]:as[e]="on"+e}function hs(e,t){if(e.fa)e=!0;else{t=new Gu(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ls(e),e=n.call(r,t)}return e}function ds(e){return(e=e[is])instanceof ts?e:null}var ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function vs(e){return"function"===typeof e?e:(e[ps]||(e[ps]=function(t){return e.handleEvent(t)}),e[ps])}function ms(){wu.call(this),this.i=new ts(this),this.S=this,this.J=null}function ys(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Su(t,e);else if(t instanceof Su)t.target=t.target||e;else{var i=t;es(t=new Su(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=gs(o,r,!0,t)&&i}if(i=gs(o=t.g=e,r,!0,t)&&i,i=gs(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=gs(o=t.g=n[a],r,!1,t)&&i}function gs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&ns(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}bu(ms,wu),ms.prototype[Ku]=!0,ms.prototype.removeEventListener=function(e,t,n,r){cs(this,e,t,n,r)},ms.prototype.N=function(){if(ms.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xu(n[r]);delete t.g[e],t.h--}}this.J=null},ms.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ms.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ks=fu.JSON.stringify,bs=function(){function e(t,n){v(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return k(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function ws(){var e=Ns,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xs=function(){function e(){v(this,e),this.h=this.g=null}return k(e,[{key:"add",value:function(e,t){var n=_s.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),_s=new bs((function(){return new Is}),(function(e){return e.reset()})),Is=function(){function e(){v(this,e),this.next=this.g=this.h=null}return k(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ss(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Es(e){fu.setTimeout((function(){throw e}),0)}var Ts,Cs=!1,Ns=new xs,As=function(){var e=fu.Promise.resolve(void 0);Ts=function(){e.then(Ps)}},Ps=function(){for(var e;e=ws();){try{e.h.call(e.g)}catch(n){Es(n)}var t=_s;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cs=!1};function Os(e,t){ms.call(this),this.h=e||1,this.g=t||fu,this.j=gu(this.qb,this),this.l=Date.now()}function Rs(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ds(e,t,n){if("function"===typeof e)n&&(e=gu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=gu(e.handleEvent,e)}return 2147483647<Number(t)?-1:fu.setTimeout(e,t||0)}function Ls(e){e.g=Ds((function(){e.g=null,e.i&&(e.i=!1,Ls(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}bu(Os,ms),(uu=Os.prototype).ga=!1,uu.T=null,uu.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ys(this,"tick"),this.ga&&(Rs(this),this.start()))}},uu.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},uu.N=function(){Os.$.N.call(this),Rs(this),delete this.g};var Ms=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return k(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ls(this)}},{key:"N",value:function(){ou(x(n.prototype),"N",this).call(this),this.g&&(fu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(wu);function js(e){wu.call(this),this.h=e,this.g={}}bu(js,wu);var Fs=[];function Vs(e,t,n,r){Array.isArray(n)||(n&&(Fs[0]=n.toString()),n=Fs);for(var i=0;i<n.length;i++){var a=os(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Us(e){Ju(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ls(e)}),e),e.g={}}function zs(){this.g=!0}function Bs(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ks(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}js.prototype.N=function(){js.$.N.call(this),Us(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zs.prototype.Ea=function(){this.g=!1},zs.prototype.info=function(){};var qs={},Hs=null;function Gs(){return Hs=Hs||new ms}function Ws(e){Su.call(this,qs.Ta,e)}function Ks(e){var t=Gs();ys(t,new Ws(t))}function Qs(e,t){Su.call(this,qs.STAT_EVENT,e),this.stat=t}function Ys(e){var t=Gs();ys(t,new Qs(t,e))}function Xs(e,t){Su.call(this,qs.Ua,e),this.size=t}function Js(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return fu.setTimeout((function(){e()}),t)}qs.Ta="serverreachability",bu(Ws,Su),qs.STAT_EVENT="statevent",bu(Qs,Su),qs.Ua="timingevent",bu(Xs,Su);var Zs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$s={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ec(){}function tc(e){return e.h||(e.h=e.i())}function nc(){}ec.prototype.h=null;var rc,ic={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ac(){Su.call(this,"d")}function oc(){Su.call(this,"c")}function uc(){}function sc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new js(this),this.P=lc,e=Mu?125:void 0,this.V=new Os(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cc}function cc(){this.i=null,this.g="",this.h=!1}bu(ac,Su),bu(oc,Su),bu(uc,ec),uc.prototype.g=function(){return new XMLHttpRequest},uc.prototype.i=function(){return{}},rc=new uc;var lc=45e3,fc={},hc={};function dc(e,t,n){e.L=1,e.v=Oc(Tc(t)),e.s=n,e.S=!0,pc(e,null)}function pc(e,t){e.G=Date.now(),gc(e),e.A=Tc(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Gc(n.i,"t",r),e.C=0,n=e.l.J,e.h=new cc,e.g=Wl(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ms(gu(e.Pa,e,e.g),e.O)),Vs(e.U,e.g,"readystatechange",e.nb),t=e.I?Zu(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ks(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function vc(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function mc(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=yc(e,n))==hc){4==t&&(e.o=4,Ys(14),i=!1),Bs(e.j,e.m,null,"[Incomplete Response]");break}if(r==fc){e.o=4,Ys(15),Bs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Bs(e.j,e.m,r,null),_c(e,r)}vc(e)&&r!=hc&&r!=fc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ys(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fl(t),t.M=!0,Ys(11))):(Bs(e.j,e.m,n,"[Invalid Chunked Response]"),xc(e),wc(e))}function yc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?hc:(n=Number(t.substring(n,r)),isNaN(n)?fc:(r+=1)+n>t.length?hc:(t=t.slice(r,r+n),e.C=r+n,t))}function gc(e){e.Y=Date.now()+e.P,kc(e,e.P)}function kc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Js(gu(e.lb,e),t)}function bc(e){e.B&&(fu.clearTimeout(e.B),e.B=null)}function wc(e){0==e.l.H||e.J||zl(e.l,e)}function xc(e){bc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Rs(e.V),Us(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function _c(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Zc(n.i,e)))if(!e.K&&Zc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ul(n),Al(n)}jl(n),Ys(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Js(gu(n.ib,n),6e3));if(1>=Jc(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else ql(n,11)}else if((e.K||n.g==e)&&Ul(n),!Tu(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&($c(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Pc(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Gl(r,r.J?r.pa:null,r.Y),d.K){el(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(bc(p),gc(p)),r.g=d}else Ml(r);0<n.j.length&&Ol(n)}else"stop"!=a[0]&&"close"!=a[0]||ql(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ql(n,7):Nl(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Ks()}catch(a){}}function Ic(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(hu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(hu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(hu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(uu=sc.prototype).setTimeout=function(e){this.P=e},uu.nb=function(e){e=e.target;var t=this.M;t&&3==_l(e)?t.l():this.Pa(e)},uu.Pa=function(e){try{if(e==this.g)e:{var t=_l(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Mu||this.g&&(this.h.h||this.g.ja()||Il(this.g)))){this.J||4!=t||7==n||Ks(),bc(this);var r=this.g.da();this.ca=r;t:if(vc(this)){var i=Il(this.g);e="";var a=i.length,o=4==_l(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){xc(this),wc(this);var u="";break t}this.h.i=new fu.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tu(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ys(12),xc(this),wc(this);break e}Bs(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_c(this,r)}this.S?(mc(this,t,u),Mu&&this.i&&3==t&&(Vs(this.U,this.V,"tick",this.mb),this.V.start())):(Bs(this.j,this.m,u,null),_c(this,u)),4==t&&xc(this),this.i&&!this.J&&(4==t?zl(this.l,this):(this.i=!1,gc(this)))}else(function(e){var t={};e=(e.g&&2<=_l(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Tu(e[n])){var r=Ss(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Ys(12)):(this.o=0,Ys(13)),xc(this),wc(this)}}}catch(t){}},uu.mb=function(){if(this.g){var e=_l(this.g),t=this.g.ja();this.C<t.length&&(bc(this),mc(this,e,t),this.i&&4!=e&&gc(this))}},uu.cancel=function(){this.J=!0,xc(this)},uu.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ks(),Ys(17)),xc(this),this.o=2,wc(this)):kc(this,this.Y-e)};var Sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ec(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ec){this.h=e.h,Cc(this,e.j),this.s=e.s,this.g=e.g,Nc(this,e.m),this.l=e.l;var t=e.i,n=new zc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ac(this,n),this.o=e.o}else e&&(t=String(e).match(Sc))?(this.h=!1,Cc(this,t[1]||"",!0),this.s=Rc(t[2]||""),this.g=Rc(t[3]||"",!0),Nc(this,t[4]),this.l=Rc(t[5]||"",!0),Ac(this,t[6]||"",!0),this.o=Rc(t[7]||"")):(this.h=!1,this.i=new zc(null,this.h))}function Tc(e){return new Ec(e)}function Cc(e,t,n){e.j=n?Rc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ac(e,t,n){t instanceof zc?(e.i=t,function(e,t){t&&!e.j&&(Bc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(qc(this,t),Gc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Dc(t,Vc)),e.i=new zc(t,e.h))}function Pc(e,t,n){e.i.set(t,n)}function Oc(e){return Pc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Rc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Lc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Lc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ec.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Dc(t,Mc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Dc(t,Mc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Dc(n,"/"==n.charAt(0)?Fc:jc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Dc(n,Uc)),e.join("")};var Mc=/[#\/\?@]/g,jc=/[#\?:]/g,Fc=/[#\?]/g,Vc=/[#\?@]/g,Uc=/#/g;function zc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qc(e,t){Bc(e),t=Wc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Hc(e,t){return Bc(e),t=Wc(e,t),e.g.has(t)}function Gc(e,t,n){qc(e,t),0<n.length&&(e.i=null,e.g.set(Wc(e,t),_u(n)),e.h+=n.length)}function Wc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(uu=zc.prototype).add=function(e,t){Bc(this),this.i=null,e=Wc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},uu.forEach=function(e,t){Bc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},uu.ta=function(){Bc(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},uu.Z=function(e){Bc(this);var t=[];if("string"===typeof e)Hc(this,e)&&(t=t.concat(this.g.get(Wc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},uu.set=function(e,t){return Bc(this),this.i=null,Hc(this,e=Wc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},uu.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},uu.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Kc=k((function e(t,n){v(this,e),this.g=t,this.map=n}));function Qc(e){this.l=e||Yc,fu.PerformanceNavigationTiming?e=0<(e=fu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(fu.g&&fu.g.Ka&&fu.g.Ka()&&fu.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yc=10;function Xc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Jc(e){return e.h?1:e.g?e.g.size:0}function Zc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $c(e,t){e.g?e.g.add(t):e.h=t}function el(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=N(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return _u(e.i)}Qc.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=N(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var nl,rl=function(){function e(){v(this,e)}return k(e,[{key:"stringify",value:function(e){return fu.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return fu.JSON.parse(e,void 0)}}]),e}();function il(){this.g=new rl}function al(e,t,n){var r=n||"";try{Ic(e,(function(e,n){var i=e;du(e)&&(i=ks(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(YU){throw t.push(r+"type="+encodeURIComponent("_badmap")),YU}}function ol(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(pj){}}function ul(e){this.l=e.ec||null,this.j=e.ob||!1}function sl(e,t){ms.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=cl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bu(ul,ec),ul.prototype.g=function(){return new sl(this.l,this.j)},ul.prototype.i=(nl={},function(){return nl}),bu(sl,ms);var cl=0;function ll(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function fl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hl(e)}function hl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(uu=sl.prototype).open=function(e,t){if(this.readyState!=cl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hl(this)},uu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||fu).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},uu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fl(this)),this.readyState=cl},uu.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hl(this)),this.g&&(this.readyState=3,hl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof fu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ll(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},uu.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fl(this):hl(this),3==this.readyState&&ll(this)}},uu.Za=function(e){this.g&&(this.response=this.responseText=e,fl(this))},uu.Ya=function(e){this.g&&(this.response=e,fl(this))},uu.ka=function(){this.g&&fl(this)},uu.setRequestHeader=function(e,t){this.v.append(e,t)},uu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},uu.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var dl=fu.JSON.parse;function pl(e){ms.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vl,this.L=this.M=!1}bu(pl,ms);var vl="",ml=/^https?$/i,yl=["POST","PUT"];function gl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,kl(e),wl(e)}function kl(e){e.F||(e.F=!0,ys(e,"complete"),ys(e,"error"))}function bl(e){if(e.h&&"undefined"!=typeof lu&&(!e.C[1]||4!=_l(e)||2!=e.da()))if(e.v&&4==_l(e))Ds(e.La,0,e);else if(ys(e,"readystatechange"),4==_l(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Sc)[1]||null;!a&&fu.self&&fu.self.location&&(a=fu.self.location.protocol.slice(0,-1)),i=!ml.test(a?a.toLowerCase():"")}t=i}if(t)ys(e,"complete"),ys(e,"success");else{e.m=6;try{var o=2<_l(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",kl(e)}}finally{wl(e)}}}function wl(e,t){if(e.g){xl(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||ys(e,"ready");try{n.onreadystatechange=r}catch(YU){}}}function xl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(fu.clearTimeout(e.A),e.A=null)}function _l(e){return e.g?e.g.readyState:0}function Il(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case vl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Of){return null}}function Sl(e){var t="";return Ju(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function El(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Sl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Pc(e,t,n))}function Tl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cl(e){this.Ga=0,this.j=[],this.l=new zs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Tl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Tl("baseRetryDelayMs",5e3,e),this.hb=Tl("retryDelaySeedMs",1e4,e),this.eb=Tl("forwardChannelMaxRetries",2,e),this.xa=Tl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Qc(e&&e.concurrentRequestLimit),this.Ja=new il,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Nl(e){if(Pl(e),3==e.H){var t=e.W++,n=Tc(e.I);if(Pc(n,"SID",e.K),Pc(n,"RID",t),Pc(n,"TYPE","terminate"),Dl(e,n),(t=new sc(e,e.l,t)).L=2,t.v=Oc(Tc(n)),n=!1,fu.navigator&&fu.navigator.sendBeacon)try{n=fu.navigator.sendBeacon(t.v.toString(),"")}catch(hn){}!n&&fu.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wl(t.l,null),t.g.ha(t.v)),t.G=Date.now(),gc(t)}Hl(e)}function Al(e){e.g&&(Fl(e),e.g.cancel(),e.g=null)}function Pl(e){Al(e),e.u&&(fu.clearTimeout(e.u),e.u=null),Ul(e),e.i.cancel(),e.m&&("number"===typeof e.m&&fu.clearTimeout(e.m),e.m=null)}function Ol(e){if(!Xc(e.i)&&!e.m){e.m=!0;var t=e.Na;Ts||As(),Cs||(Ts(),Cs=!0),Ns.add(t,e),e.C=0}}function Rl(e,t){var n;n=t?t.m:e.W++;var r=Tc(e.I);Pc(r,"SID",e.K),Pc(r,"RID",n),Pc(r,"AID",e.V),Dl(e,r),e.o&&e.s&&El(r,e.o,e.s),n=new sc(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ll(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),$c(e.i,n),dc(n,r,t)}function Dl(e,t){e.na&&Ju(e.na,(function(e,n){Pc(t,n,e)})),e.h&&Ic({},(function(e,n){Pc(t,n,e)}))}function Ll(e,t,n){n=Math.min(e.j.length,n);var r=e.h?gu(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{al(l,o,"req"+c+"_")}catch(Xh){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Ml(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ts||As(),Cs||(Ts(),Cs=!0),Ns.add(t,e),e.A=0}}function jl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Js(gu(e.Ma,e),Bl(e,e.A)),e.A++,!0)}function Fl(e){null!=e.B&&(fu.clearTimeout(e.B),e.B=null)}function Vl(e){e.g=new sc(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Tc(e.wa);Pc(t,"RID","rpc"),Pc(t,"SID",e.K),Pc(t,"AID",e.V),Pc(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Pc(t,"TO",e.qa),Pc(t,"TYPE","xmlhttp"),Dl(e,t),e.o&&e.s&&El(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Oc(Tc(t)),n.s=null,n.S=!0,pc(n,e)}function Ul(e){null!=e.v&&(fu.clearTimeout(e.v),e.v=null)}function zl(e,t){var n=null;if(e.g==t){Ul(e),Fl(e),e.g=null;var r=2}else{if(!Zc(e.i,t))return;n=t.F,el(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ys(r=Gs(),new Xs(r,n)),Ol(e)}else Ml(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Jc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Js(gu(e.Na,e,t),Bl(e,e.C)),e.C++,!0))}(e,t)||2==r&&jl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ql(e,5);break;case 4:ql(e,10);break;case 3:ql(e,6);break;default:ql(e,2)}}function Bl(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ql(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=gu(e.pb,e);n||(n=new Ec("//www.google.com/images/cleardot.gif"),fu.location&&"http"==fu.location.protocol||Cc(n,"https"),Oc(n)),function(e,t){var n=new zs;if(fu.Image){var r=new Image;r.onload=ku(ol,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ku(ol,n,r,"TestLoadImage: error",!1,t),r.onabort=ku(ol,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ku(ol,n,r,"TestLoadImage: timeout",!1,t),fu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ys(2);e.H=0,e.h&&e.h.za(t),Hl(e),Pl(e)}function Hl(e){if(e.H=0,e.ma=[],e.h){var t=tl(e.i);0==t.length&&0==e.j.length||(Iu(e.ma,t),Iu(e.ma,e.j),e.i.i.length=0,_u(e.j),e.j.length=0),e.h.ya()}}function Gl(e,t,n){var r=n instanceof Ec?Tc(n):new Ec(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Nc(r,r.m);else{var i=fu.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ec(null);r&&Cc(a,r),t&&(a.g=t),i&&Nc(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Pc(r,n,t),Pc(r,"VER",e.ra),Dl(e,r),r}function Wl(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new pl(new ul({ob:!0})):new pl(e.va)).Oa(e.J),t}function Kl(){}function Ql(){if(Du&&!(10<=Number(Hu)))throw Error("Environmental error: no available transport.")}function Yl(e,t){ms.call(this),this.g=new Cl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Tu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tu(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zl(this)}function Xl(e){ac.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Jl(){oc.call(this),this.status=1}function Zl(e){this.g=e}function $l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ef(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function tf(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(uu=pl.prototype).Oa=function(e){this.M=e},uu.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rc.g(),this.C=this.u?tc(this.u):tc(rc),this.g.onreadystatechange=gu(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void gl(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=N(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=fu.FormData&&e instanceof fu.FormData,!(0<=xu(yl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=N(n);try{for(l.s();!(s=l.n()).done;){var f=c(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xl(this),0<this.B&&((this.L=function(e){return Du&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gu(this.ua,this)):this.A=Ds(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){gl(this,u)}},uu.ua=function(){"undefined"!=typeof lu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ys(this,"timeout"),this.abort(8))},uu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ys(this,"complete"),ys(this,"abort"),wl(this))},uu.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wl(this,!0)),pl.$.N.call(this)},uu.La=function(){this.s||(this.G||this.v||this.l?bl(this):this.kb())},uu.kb=function(){bl(this)},uu.isActive=function(){return!!this.g},uu.da=function(){try{return 2<_l(this)?this.g.status:-1}catch(nl){return-1}},uu.ja=function(){try{return this.g?this.g.responseText:""}catch(nl){return""}},uu.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),dl(t)}},uu.Ia=function(){return this.m},uu.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(uu=Cl.prototype).ra=8,uu.H=1,uu.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new sc(this,this.l,e),n=this.s;if(this.U&&(n?es(n=Zu(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ll(this,t,r),Pc(i=Tc(this.I),"RID",e),Pc(i,"CVER",22),this.F&&Pc(i,"X-HTTP-Session-Id",this.F),Dl(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Sl(n)))+"&"+r:this.o&&El(i,this.o,n)),$c(this.i,t),this.bb&&Pc(i,"TYPE","init"),this.P?(Pc(i,"$req",r),Pc(i,"SID","null"),t.aa=!0,dc(t,i,null)):dc(t,i,r),this.H=2}}else 3==this.H&&(e?Rl(this,e):0==this.j.length||Xc(this.i)||Rl(this))},uu.Ma=function(){if(this.u=null,Vl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Js(gu(this.jb,this),e)}},uu.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ys(10),Al(this),Vl(this))},uu.ib=function(){null!=this.v&&(this.v=null,Al(this),jl(this),Ys(19))},uu.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ys(2)):(this.l.info("Failed to ping google.com"),Ys(1))},uu.isActive=function(){return!!this.h&&this.h.isActive(this)},(uu=Kl.prototype).Ba=function(){},uu.Aa=function(){},uu.za=function(){},uu.ya=function(){},uu.isActive=function(){return!0},uu.Va=function(){},Ql.prototype.g=function(e,t){return new Yl(e,t)},bu(Yl,ms),Yl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ys(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Gl(e,null,e.Y),Ol(e)},Yl.prototype.close=function(){Nl(this.g)},Yl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ks(e),e=n);t.j.push(new Kc(t.fb++,e)),3==t.H&&Ol(t)},Yl.prototype.N=function(){this.g.h=null,delete this.j,Nl(this.g),delete this.g,Yl.$.N.call(this)},bu(Xl,ac),bu(Jl,oc),bu(Zl,Kl),Zl.prototype.Ba=function(){ys(this.g,"a")},Zl.prototype.Aa=function(e){ys(this.g,new Xl(e))},Zl.prototype.za=function(e){ys(this.g,new Jl)},Zl.prototype.ya=function(){ys(this.g,"b")},bu($l,(function(){this.blockSize=-1})),$l.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$l.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)ef(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){ef(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){ef(this,r),i=0;break}}this.h=i,this.i+=t},$l.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var nf={};function rf(e){return-128<=e&&128>e?function(e,t){var n=nf;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new tf([0|e],0>e?-1:0)})):new tf([0|e],0>e?-1:0)}function af(e){if(isNaN(e)||!isFinite(e))return uf;if(0>e)return hf(af(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=of;return new tf(t,0)}var of=4294967296,uf=rf(0),sf=rf(1),cf=rf(16777216);function lf(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ff(e){return-1==e.h}function hf(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new tf(n,~e.h).add(sf)}function df(e,t){return e.add(hf(t))}function pf(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function vf(e,t){this.g=e,this.h=t}function mf(e,t){if(lf(t))throw Error("division by zero");if(lf(e))return new vf(uf,uf);if(ff(e))return t=mf(hf(e),t),new vf(hf(t.g),hf(t.h));if(ff(t))return t=mf(e,hf(t)),new vf(hf(t.g),t.h);if(30<e.g.length){if(ff(e)||ff(t))throw Error("slowDivide_ only works with positive integers.");for(var n=sf,r=t;0>=r.X(e);)n=yf(n),r=yf(r);var i=gf(n,1),a=gf(r,1);for(r=gf(r,2),n=gf(n,2);!lf(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=gf(r,1),n=gf(n,1)}return t=df(e,i.R(t)),new vf(i,t)}for(i=uf;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=af(n)).R(t);ff(o)||0<o.X(e);)o=(a=af(n-=r)).R(t);lf(a)&&(a=sf),i=i.add(a),e=df(e,o)}return new vf(i,e)}function yf(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new tf(n,e.h)}function gf(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new tf(i,e.h)}(uu=tf.prototype).ea=function(){if(ff(this))return-hf(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:of+r)*t,t*=of}return e},uu.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(lf(this))return"0";if(ff(this))return"-"+hf(this).toString(e);for(var t=af(Math.pow(e,6)),n=this,r="";;){var i=mf(n,t).g,a=((0<(n=df(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(lf(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},uu.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},uu.X=function(e){return ff(e=df(this,e))?-1:lf(e)?0:1},uu.abs=function(){return ff(this)?hf(this):this},uu.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new tf(n,-2147483648&n[n.length-1]?-1:0)},uu.R=function(e){if(lf(this)||lf(e))return uf;if(ff(this))return ff(e)?hf(this).R(hf(e)):hf(hf(this).R(e));if(ff(e))return hf(this.R(hf(e)));if(0>this.X(cf)&&0>e.X(cf))return af(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,pf(n,2*r+2*i),n[2*r+2*i+1]+=a*s,pf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,pf(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,pf(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new tf(n,0)},uu.gb=function(e){return mf(this,e).h},uu.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new tf(n,this.h&e.h)},uu.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new tf(n,this.h|e.h)},uu.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new tf(n,this.h^e.h)},Ql.prototype.createWebChannel=Ql.prototype.g,Yl.prototype.send=Yl.prototype.u,Yl.prototype.open=Yl.prototype.m,Yl.prototype.close=Yl.prototype.close,Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,$s.COMPLETE="complete",nc.EventType=ic,ic.OPEN="a",ic.CLOSE="b",ic.ERROR="c",ic.MESSAGE="d",ms.prototype.listen=ms.prototype.O,pl.prototype.listenOnce=pl.prototype.P,pl.prototype.getLastError=pl.prototype.Sa,pl.prototype.getLastErrorCode=pl.prototype.Ia,pl.prototype.getStatus=pl.prototype.da,pl.prototype.getResponseJson=pl.prototype.Wa,pl.prototype.getResponseText=pl.prototype.ja,pl.prototype.send=pl.prototype.ha,pl.prototype.setWithCredentials=pl.prototype.Oa,$l.prototype.digest=$l.prototype.l,$l.prototype.reset=$l.prototype.reset,$l.prototype.update=$l.prototype.j,tf.prototype.add=tf.prototype.add,tf.prototype.multiply=tf.prototype.R,tf.prototype.modulo=tf.prototype.gb,tf.prototype.compare=tf.prototype.X,tf.prototype.toNumber=tf.prototype.ea,tf.prototype.toString=tf.prototype.toString,tf.prototype.getBits=tf.prototype.D,tf.fromNumber=af,tf.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return hf(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=af(Math.pow(n,8)),i=uf,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=af(Math.pow(n,o)),i=i.R(o).add(af(u))):i=(i=i.R(r)).add(af(u))}return i};var kf=cu.createWebChannelTransport=function(){return new Ql},bf=cu.getStatEventTarget=function(){return Gs()},wf=cu.ErrorCode=Zs,xf=cu.EventType=$s,_f=cu.Event=qs,If=cu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Sf=(cu.FetchXmlHttpFactory=ul,cu.WebChannel=nc),Ef=cu.XhrIo=pl,Tf=cu.Md5=$l,Cf=cu.Integer=tf,Nf="@firebase/firestore",Af=function(){function e(t){v(this,e),this.uid=t}return k(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Af.UNAUTHENTICATED=new Af(null),Af.GOOGLE_CREDENTIALS=new Af("google-credentials-uid"),Af.FIRST_PARTY=new Af("first-party-uid"),Af.MOCK_USER=new Af("mock-user");var Pf="10.4.0",Of=new Ua("@firebase/firestore");function Rf(){return Of.logLevel}function Df(e){if(Of.logLevel<=Ra.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jf);Of.debug.apply(Of,["Firestore (".concat(Pf,"): ").concat(e)].concat(p(i)))}}function Lf(e){if(Of.logLevel<=Ra.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jf);Of.error.apply(Of,["Firestore (".concat(Pf,"): ").concat(e)].concat(p(i)))}}function Mf(e){if(Of.logLevel<=Ra.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jf);Of.warn.apply(Of,["Firestore (".concat(Pf,"): ").concat(e)].concat(p(i)))}}function jf(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ff(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Pf,") INTERNAL ASSERTION FAILED: ")+e;throw Lf(t),new Error(t)}function Vf(e,t){e||Ff()}function Uf(e,t){return e}var zf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Bf=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return k(n)}(va),qf=k((function e(){var t=this;v(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Hf=k((function e(t,n){v(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Gf=function(){function e(){v(this,e)}return k(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Af.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Wf=function(){function e(t){v(this,e),this.token=t,this.changeListener=null}return k(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Kf=function(){function e(t){v(this,e),this.t=t,this.currentUser=Af.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new qf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new qf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Df("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Df("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Df("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Vf("string"==typeof n.accessToken),new Hf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Vf(null===e||"string"==typeof e),new Af(e)}}]),e}(),Qf=function(){function e(t,n,r){v(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Af.FIRST_PARTY,this.I=new Map}return k(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Yf=function(){function e(t,n,r){v(this,e),this.l=t,this.h=n,this.P=r}return k(e,[{key:"getToken",value:function(){return Promise.resolve(new Qf(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Af.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Xf=k((function e(t){v(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Jf=function(){function e(t){v(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Df("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Df("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Df("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Df("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Vf("string"==typeof t.token),e.R=t.token,new Xf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Zf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var $f=function(){function e(){v(this,e)}return k(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Zf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function eh(e,t){return e<t?-1:e>t?1:0}function th(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function nh(e){return e+"\0"}var rh=function(){function e(t,n){if(v(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Bf(zf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Bf(zf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Bf(zf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Bf(zf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return k(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?eh(this.nanoseconds,e.nanoseconds):eh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ih=function(){function e(t){v(this,e),this.timestamp=t}return k(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new rh(0,0))}},{key:"max",value:function(){return new e(new rh(253402300799,999999999))}}]),e}(),ah=function(){function e(t,n,r){v(this,e),void 0===n?n=0:n>t.length&&Ff(),void 0===r?r=t.length-n:r>t.length-n&&Ff(),this.segments=t,this.offset=n,this.len=r}return k(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),oh=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Bf(zf.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,p(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ah),uh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sh=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return uh.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Bf(zf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Bf(zf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Bf(zf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Bf(zf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ah),ch=function(){function e(t){v(this,e),this.path=t}return k(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===oh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(oh.fromString(t))}},{key:"fromName",value:function(t){return new e(oh.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(oh.emptyPath())}},{key:"comparator",value:function(e,t){return oh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new oh(t.slice()))}}]),e}(),lh=k((function e(t,n,r,i){v(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function fh(e){return e.fields.find((function(e){return 2===e.kind}))}function hh(e){return e.fields.filter((function(e){return 2!==e.kind}))}lh.UNKNOWN_ID=-1;var dh=k((function e(t,n){v(this,e),this.fieldPath=t,this.kind=n}));var ph=function(){function e(t,n){v(this,e),this.sequenceNumber=t,this.offset=n}return k(e,null,[{key:"empty",value:function(){return new e(0,yh.min())}}]),e}();function vh(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ih.fromTimestamp(1e9===r?new rh(n+1,0):new rh(n,r));return new yh(i,ch.empty(),t)}function mh(e){return new yh(e.readTime,e.key,-1)}var yh=function(){function e(t,n,r){v(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return k(e,null,[{key:"min",value:function(){return new e(ih.min(),ch.empty(),-1)}},{key:"max",value:function(){return new e(ih.max(),ch.empty(),-1)}}]),e}();function gh(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ch.comparator(e.documentKey,t.documentKey))?n:eh(e.largestBatchId,t.largestBatchId)}var kh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bh=function(){function e(){v(this,e),this.onCommittedListeners=[]}return k(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function wh(e){return xh.apply(this,arguments)}function xh(){return(xh=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===zf.FAILED_PRECONDITION&&t.message===kh){e.next=2;break}throw t;case 2:Df("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _h=function(){function e(t){var n=this;v(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return k(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ff(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=N(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Ih=function(){function e(t,n){var r=this;v(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new qf,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Th(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=Oh(e.target.error);r.m.reject(new Th(t,n))}}return k(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(Df("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Nh(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Th(n,t)}}}]),e}(),Sh=function(){function e(t,n,r){v(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ca())&&Lf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return k(e,[{key:"N",value:function(){var e=Ji(Yi().mark((function e(t){var n=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Df("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Th(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Bf(zf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Bf(zf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Th(t,n))},i.onupgradeneeded=function(e){Df("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){Df("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ji(Yi().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Yi().mark((function e(){var n,u,s,l;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=Ih.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),_h.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Df("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Df("SimpleDb","Removing database:",e),Ah(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!pa())return!1;if(e.v())return!0;var t=ca(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"v",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Eh=function(){function e(t){v(this,e),this.q=t,this.K=!1,this.$=null}return k(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return Ah(this.q.delete())}}]),e}(),Th=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,zf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return k(n)}(Bf);function Ch(e){return"IndexedDbTransactionError"===e.name}var Nh=function(){function e(t){v(this,e),this.store=t}return k(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Df("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Df("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ah(n)}},{key:"add",value:function(e){return Df("SimpleDb","ADD",this.store.name,e,e),Ah(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ah(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Df("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Df("SimpleDb","DELETE",this.store.name,e),Ah(this.store.delete(e))}},{key:"count",value:function(){return Df("SimpleDb","COUNT",this.store.name),Ah(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new _h((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new _h((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Df("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new _h((function(n,r){t.onerror=function(e){var t=Oh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new _h((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Eh(i),o=t(i.primaryKey,i.value,a);if(o instanceof _h){var u=o.catch((function(e){return a.done(),_h.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return _h.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ah(e){return new _h((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Oh(e.target.error);n(t)}}))}var Ph=!1;function Oh(e){var t=Sh.D(ca());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Bf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ph||(Ph=!0,setTimeout((function(){throw r}),0)),r}}return e}var Rh=function(){function e(t,n){v(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return k(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;Df("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Df,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ch(e.t4)){e.next=17;break}Df("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,wh(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Dh=function(){function e(t,n){v(this,e),this.localStore=t,this.persistence=n}return k(e,[{key:"ne",value:function(){var e=Ji(Yi().mark((function e(){var t,n=this,r=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return _h.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Df("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return Df("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=mh(t);gh(r,n)>0&&(n=r)})),new yh(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Lh=function(){function e(t,n){var r=this;v(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return k(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function Mh(e){return null==e}function jh(e){return 0===e&&1/e==-1/0}function Fh(e){return"number"==typeof e&&Number.isInteger(e)&&!jh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Vh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zh(t)),t=Uh(e.get(n),t);return zh(t)}function Uh(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function zh(e){return e+"\x01\x01"}function Bh(e){var t=e.length;if(Vf(t>=2),2===t)return Vf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),oh.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ff(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ff()}a=o+2}return new oh(r)}Lh.ae=-1;var qh=["userId","batchId"];function Hh(e,t){return[e,Vh(t)]}function Gh(e,t,n){return[e,Vh(t),n]}var Wh={},Kh=["prefixPath","collectionGroup","readTime","documentId"],Qh=["prefixPath","collectionGroup","documentId"],Yh=["collectionGroup","readTime","prefixPath","documentId"],Xh=["canonicalId","targetId"],Jh=["targetId","path"],Zh=["path","targetId"],$h=["collectionId","parent"],ed=["indexId","uid"],td=["uid","sequenceNumber"],nd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rd=["indexId","uid","orderedDocumentKey"],id=["userId","collectionPath","documentId"],ad=["userId","collectionPath","largestBatchId"],od=["userId","collectionGroup","largestBatchId"],ud=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),sd=[].concat(p(ud),["documentOverlays"]),cd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ld=cd,fd=[].concat(ld,["indexConfiguration","indexState","indexEntries"]),hd=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return k(n)}(bh);function dd(e,t){var n=Uf(e);return Sh.O(n.ue,t)}function pd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function md(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var yd=function(){function e(t,n){v(this,e),this.comparator=t,this.root=n||kd.EMPTY}return k(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new gd(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new gd(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new gd(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new gd(this.root,e,this.comparator,!0)}}]),e}(),gd=function(){function e(t,n,r,i){v(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return k(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),kd=function(){function e(t,n,r,i,a){v(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return k(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ff();if(this.right.isRed())throw Ff();var e=this.left.check();if(e!==this.right.check())throw Ff();return e+(this.isRed()?0:1)}}]),e}();kd.EMPTY=null,kd.RED=!0,kd.BLACK=!1,kd.EMPTY=new(function(){function e(){v(this,e),this.size=0}return k(e,[{key:"key",get:function(){throw Ff()}},{key:"value",get:function(){throw Ff()}},{key:"color",get:function(){throw Ff()}},{key:"left",get:function(){throw Ff()}},{key:"right",get:function(){throw Ff()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new kd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var bd=function(){function e(t){v(this,e),this.comparator=t,this.data=new yd(this.comparator)}return k(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new wd(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new wd(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),wd=function(){function e(t){v(this,e),this.iter=t}return k(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function xd(e){return e.hasNext()?e.getNext():void 0}var _d=function(){function e(t){v(this,e),this.fields=t,t.sort(sh.comparator)}return k(e,[{key:"unionWith",value:function(t){var n,r=new bd(sh.comparator),i=N(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=N(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=N(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return th(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Id=function(e){w(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return k(n)}(T(Error));var Sd=function(e){function t(e){v(this,t),this.binaryString=e}return k(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return eh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Id("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Sd.EMPTY_BYTE_STRING=new Sd("");var Ed=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Td(e){if(Vf(!!e),"string"==typeof e){var t=0,n=Ed.exec(e);if(Vf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Cd(e.seconds),nanos:Cd(e.nanos)}}function Cd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Nd(e){return"string"==typeof e?Sd.fromBase64String(e):Sd.fromUint8Array(e)}function Ad(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pd(e){var t=e.mapValue.fields.__previous_value__;return Ad(t)?Pd(t):t}function Od(e){var t=Td(e.mapValue.fields.__local_write_time__.timestampValue);return new rh(t.seconds,t.nanos)}var Rd=k((function e(t,n,r,i,a,o,u,s,c){v(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),Dd=function(){function e(t,n){v(this,e),this.projectId=t,this.database=n||"(default)"}return k(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ld={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Md={nullValue:"NULL_VALUE"};function jd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ad(e)?4:Jd(e)?9007199254740991:10:Ff()}function Fd(e,t){if(e===t)return!0;var n=jd(e);if(n!==jd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Od(e).isEqual(Od(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Td(e.timestampValue),r=Td(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Nd(e.bytesValue).isEqual(Nd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cd(e.geoPointValue.latitude)===Cd(t.geoPointValue.latitude)&&Cd(e.geoPointValue.longitude)===Cd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cd(e.integerValue)===Cd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Cd(e.doubleValue),r=Cd(t.doubleValue);return n===r?jh(n)===jh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return th(e.arrayValue.values||[],t.arrayValue.values||[],Fd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(pd(n)!==pd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fd(n[i],r[i])))return!1;return!0}(e,t);default:return Ff()}}function Vd(e,t){return void 0!==(e.values||[]).find((function(e){return Fd(e,t)}))}function Ud(e,t){if(e===t)return 0;var n=jd(e),r=jd(t);if(n!==r)return eh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return eh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Cd(e.integerValue||e.doubleValue),r=Cd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zd(e.timestampValue,t.timestampValue);case 4:return zd(Od(e),Od(t));case 5:return eh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Nd(e),r=Nd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=eh(n[i],r[i]);if(0!==a)return a}return eh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=eh(Cd(e.latitude),Cd(t.latitude));return 0!==n?n:eh(Cd(e.longitude),Cd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ud(n[i],r[i]);if(a)return a}return eh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ld.mapValue&&t===Ld.mapValue)return 0;if(e===Ld.mapValue)return 1;if(t===Ld.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=eh(r[o],a[o]);if(0!==u)return u;var s=Ud(n[r[o]],i[a[o]]);if(0!==s)return s}return eh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ff()}}function zd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return eh(e,t);var n=Td(e),r=Td(t),i=eh(n.seconds,r.seconds);return 0!==i?i:eh(n.nanos,r.nanos)}function Bd(e){return qd(e)}function qd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Td(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Nd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ch.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=N(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=qd(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=N(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(qd(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ff()}function Hd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gd(e){return!!e&&"integerValue"in e}function Wd(e){return!!e&&"arrayValue"in e}function Kd(e){return!!e&&"nullValue"in e}function Qd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yd(e){return!!e&&"mapValue"in e}function Xd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return vd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xd(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xd(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Jd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zd(e){return"nullValue"in e?Md:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Hd(Dd.empty(),ch.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ff()}function $d(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Hd(Dd.empty(),ch.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ld:Ff()}function ep(e,t){var n=Ud(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function tp(e,t){var n=Ud(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var np=function(){function e(t){v(this,e),this.value=t}return k(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Yd(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xd(t)}},{key:"setAll",value:function(e){var t=this,n=sh.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xd(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Fd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Yd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){vd(t,(function(t,n){return e[t]=n}));var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xd(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function rp(e){var t=[];return vd(e.fields,(function(e,n){var r=new sh([e]);if(Yd(n)){var i=rp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=N(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new _d(t)}var ip=function(){function e(t,n,r,i,a,o,u){v(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return k(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(ih.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=np.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=np.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=ih.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ih.min(),ih.min(),ih.min(),np.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,ih.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ih.min(),ih.min(),np.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ih.min(),ih.min(),np.empty(),2)}}]),e}(),ap=k((function e(t,n){v(this,e),this.position=t,this.inclusive=n}));function op(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ch.comparator(ch.fromName(o.referenceValue),n.key):Ud(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function up(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Fd(e.position[n],t.position[n]))return!1;return!0}var sp=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";v(this,e),this.field=t,this.dir=n}));function cp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var lp=k((function e(){v(this,e)})),fp=function(e){w(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ud(t,this.value)):null!==t&&jd(this.value)===jd(t)&&this.matchesComparison(Ud(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ff()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new wp(e,t,r):"array-contains"===t?new Sp(e,r):"in"===t?new Ep(e,r):"not-in"===t?new Tp(e,r):"array-contains-any"===t?new Cp(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new xp(e,n):new _p(e,n)}}]),n}(lp),hp=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return k(n,[{key:"matches",value:function(e){return dp(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=N(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(lp);function dp(e){return"and"===e.op}function pp(e){return"or"===e.op}function vp(e){return mp(e)&&dp(e)}function mp(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof hp)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function yp(e){if(e instanceof fp)return e.field.canonicalString()+e.op.toString()+Bd(e.value);if(vp(e))return e.filters.map((function(e){return yp(e)})).join(",");var t=e.filters.map((function(e){return yp(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function gp(e,t){return e instanceof fp?function(e,t){return t instanceof fp&&e.op===t.op&&e.field.isEqual(t.field)&&Fd(e.value,t.value)}(e,t):e instanceof hp?function(e,t){return t instanceof hp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&gp(n,t.filters[r])}),!0)}(e,t):void Ff()}function kp(e,t){var n=e.filters.concat(t);return hp.create(n,e.op)}function bp(e){return e instanceof fp?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Bd(e.value))}(e):e instanceof hp?function(e){return e.op.toString()+" {"+e.getFilters().map(bp).join(" ,")+"}"}(e):"Filter"}var wp=function(e){w(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r,i)).key=ch.fromName(i.referenceValue),a}return k(n,[{key:"matches",value:function(e){var t=ch.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(fp),xp=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,"in",r)).keys=Ip("in",r),i}return k(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fp),_p=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,"not-in",r)).keys=Ip("not-in",r),i}return k(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fp);function Ip(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ch.fromName(e.referenceValue)}))}var Sp=function(e){w(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"array-contains",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Wd(t)&&Vd(t.arrayValue,this.value)}}]),n}(fp),Ep=function(e){w(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"in",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Vd(this.value.arrayValue,t)}}]),n}(fp),Tp=function(e){w(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"not-in",r)}return k(n,[{key:"matches",value:function(e){if(Vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Vd(this.value.arrayValue,t)}}]),n}(fp),Cp=function(e){w(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"array-contains-any",r)}return k(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Wd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Vd(t.value.arrayValue,e)}))}}]),n}(fp),Np=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;v(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function Ap(e){return new Np(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Pp(e){var t=Uf(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return yp(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Mh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Bd(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Bd(e)})).join(",")),t.he=n}return t.he}function Op(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!cp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!gp(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!up(e.startAt,t.startAt)&&up(e.endAt,t.endAt)}function Rp(e){return ch.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Dp(e,t){return e.filters.filter((function(e){return e instanceof fp&&e.field.isEqual(t)}))}function Lp(e,t,n){var r,i=Md,a=!0,o=N(Dp(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Md,c=!0;switch(u.op){case"<":case"<=":s=Zd(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Md}ep({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ep({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Mp(e,t,n){var r,i=Ld,a=!0,o=N(Dp(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ld,c=!0;switch(u.op){case">=":case">":s=$d(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ld}tp({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];tp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var jp=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;v(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}));function Fp(e,t,n,r,i,a,o,u){return new jp(e,t,n,r,i,a,o,u)}function Vp(e){return new jp(e)}function Up(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Bp(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function qp(e){return null!==e.collectionGroup}function Hp(e){var t=Uf(e);if(null===t.Pe){t.Pe=[];var n=Bp(t),r=zp(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new sp(n)),t.Pe.push(new sp(sh.keyField(),"asc"));else{var i,a=!1,o=N(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new sp(sh.keyField(),s))}}}return t.Pe}function Gp(e){var t=Uf(e);return t.Ie||(t.Ie=Wp(t,Hp(e))),t.Ie}function Wp(e,t){if("F"===e.limitType)return Ap(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new sp(e.field,t)}));var n=e.endAt?new ap(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ap(e.startAt.position,e.startAt.inclusive):null;return Ap(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Kp(e,t){t.getFirstInequalityField(),Bp(e);var n=e.filters.concat([t]);return new jp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qp(e,t,n){return new jp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yp(e,t){return Op(Gp(e),Gp(t))&&e.limitType===t.limitType}function Xp(e){return"".concat(Pp(Gp(e)),"|lt:").concat(e.limitType)}function Jp(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return bp(e)})).join(", "),"]")),Mh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Bd(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Bd(e)})).join(",")),"Target(".concat(t,")")}(Gp(e)),"; limitType=").concat(e.limitType,")")}function Zp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ch.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=N(Hp(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=N(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=op(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hp(e),t))&&!(e.endAt&&!function(e,t,n){var r=op(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hp(e),t))}(e,t)}function $p(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ev(e){return function(t,n){var r,i=!1,a=N(Hp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=tv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function tv(e,t,n){var r=e.field.isKeyField()?ch.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ud(r,i):Ff()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ff()}}var nv=function(){function e(t,n){v(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return k(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){vd(this.inner,(function(t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return md(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),rv=new yd(ch.comparator);function iv(){return rv}var av=new yd(ch.comparator);function ov(){for(var e=av,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function uv(e){var t=av;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function sv(){return lv()}function cv(){return lv()}function lv(){return new nv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var fv=new yd(ch.comparator),hv=new bd(ch.comparator);function dv(){for(var e=hv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var pv=new bd(eh);function vv(){return pv}function mv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(t)?"-0":t}}function yv(e){return{integerValue:""+e}}function gv(e,t){return Fh(t)?yv(t):mv(e,t)}var kv=k((function e(){v(this,e),this._=void 0}));function bv(e,t,n){return e instanceof _v?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ad(t)&&(t=Pd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Iv?Sv(e,t):e instanceof Ev?Tv(e,t):function(e,t){var n=xv(e,t),r=Nv(n)+Nv(e.Te);return Gd(n)&&Gd(e.Te)?yv(r):mv(e.serializer,r)}(e,t)}function wv(e,t,n){return e instanceof Iv?Sv(e,t):e instanceof Ev?Tv(e,t):n}function xv(e,t){return e instanceof Cv?function(e){return Gd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var _v=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n)}(kv),Iv=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).elements=e,r}return k(n)}(kv);function Sv(e,t){var n,r=Av(t),i=N(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Fd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ev=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).elements=e,r}return k(n)}(kv);function Tv(e,t){var n,r=Av(t),i=N(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Fd(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Cv=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return k(n)}(kv);function Nv(e){return Cd(e.integerValue||e.doubleValue)}function Av(e){return Wd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Pv=k((function e(t,n){v(this,e),this.field=t,this.transform=n}));var Ov=k((function e(t,n){v(this,e),this.version=t,this.transformResults=n})),Rv=function(){function e(t,n){v(this,e),this.updateTime=t,this.exists=n}return k(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Dv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Lv=k((function e(){v(this,e)}));function Mv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qv(e.key,Rv.none()):new zv(e.key,e.data,Rv.none());var n,r=e.data,i=np.empty(),a=new bd(sh.comparator),o=N(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Bv(e.key,i,new _d(a.toArray()),Rv.none())}function jv(e,t,n){e instanceof zv?function(e,t,n){var r=e.value.clone(),i=Hv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bv?function(e,t,n){if(Dv(e.precondition,t)){var r=Hv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fv(e,t,n,r){return e instanceof zv?function(e,t,n,r){if(!Dv(e.precondition,t))return n;var i=e.value.clone(),a=Gv(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bv?function(e,t,n,r){if(!Dv(e.precondition,t))return n;var i=Gv(e.fieldTransforms,r,t),a=t.data;return a.setAll(qv(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Dv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Vv(e,t){var n,r=null,i=N(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=xv(a.transform,o||null);null!=u&&(null===r&&(r=np.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Uv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&th(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Iv&&t instanceof Iv||e instanceof Ev&&t instanceof Ev?th(e.elements,t.elements,Fd):e instanceof Cv&&t instanceof Cv?Fd(e.Te,t.Te):e instanceof _v&&t instanceof _v}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var zv=function(e){w(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return v(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Lv),Bv=function(e){w(n,e);var t=S(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return v(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return k(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Lv);function qv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Hv(e,t,n){var r=new Map;Vf(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,wv(o,u,n[i]))}return r}function Gv(e,t,n){var r,i=new Map,a=N(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,bv(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Wv,Kv,Qv=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Lv),Yv=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Lv),Xv=function(){function e(t,n,r,i){v(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return k(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&jv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=N(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Fv(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=N(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Fv(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=cv();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Mv(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(ih.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),dv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&th(this.mutations,e.mutations,(function(e,t){return Uv(e,t)}))&&th(this.baseMutations,e.baseMutations,(function(e,t){return Uv(e,t)}))}}]),e}(),Jv=function(){function e(t,n,r,i){v(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return k(e,null,[{key:"from",value:function(t,n,r){Vf(t.mutations.length===r.length);for(var i=fv,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Zv=function(){function e(t,n){v(this,e),this.largestBatchId=t,this.mutation=n}return k(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),$v=k((function e(t,n){v(this,e),this.count=t,this.unchangedNames=n}));function em(e){switch(e){default:return Ff();case zf.CANCELLED:case zf.UNKNOWN:case zf.DEADLINE_EXCEEDED:case zf.RESOURCE_EXHAUSTED:case zf.INTERNAL:case zf.UNAVAILABLE:case zf.UNAUTHENTICATED:return!1;case zf.INVALID_ARGUMENT:case zf.NOT_FOUND:case zf.ALREADY_EXISTS:case zf.PERMISSION_DENIED:case zf.FAILED_PRECONDITION:case zf.ABORTED:case zf.OUT_OF_RANGE:case zf.UNIMPLEMENTED:case zf.DATA_LOSS:return!0}}function tm(e){if(void 0===e)return Lf("GRPC error has no .code"),zf.UNKNOWN;switch(e){case Wv.OK:return zf.OK;case Wv.CANCELLED:return zf.CANCELLED;case Wv.UNKNOWN:return zf.UNKNOWN;case Wv.DEADLINE_EXCEEDED:return zf.DEADLINE_EXCEEDED;case Wv.RESOURCE_EXHAUSTED:return zf.RESOURCE_EXHAUSTED;case Wv.INTERNAL:return zf.INTERNAL;case Wv.UNAVAILABLE:return zf.UNAVAILABLE;case Wv.UNAUTHENTICATED:return zf.UNAUTHENTICATED;case Wv.INVALID_ARGUMENT:return zf.INVALID_ARGUMENT;case Wv.NOT_FOUND:return zf.NOT_FOUND;case Wv.ALREADY_EXISTS:return zf.ALREADY_EXISTS;case Wv.PERMISSION_DENIED:return zf.PERMISSION_DENIED;case Wv.FAILED_PRECONDITION:return zf.FAILED_PRECONDITION;case Wv.ABORTED:return zf.ABORTED;case Wv.OUT_OF_RANGE:return zf.OUT_OF_RANGE;case Wv.UNIMPLEMENTED:return zf.UNIMPLEMENTED;case Wv.DATA_LOSS:return zf.DATA_LOSS;default:return Ff()}}(Kv=Wv||(Wv={}))[Kv.OK=0]="OK",Kv[Kv.CANCELLED=1]="CANCELLED",Kv[Kv.UNKNOWN=2]="UNKNOWN",Kv[Kv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kv[Kv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kv[Kv.NOT_FOUND=5]="NOT_FOUND",Kv[Kv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kv[Kv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kv[Kv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kv[Kv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kv[Kv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kv[Kv.ABORTED=10]="ABORTED",Kv[Kv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kv[Kv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kv[Kv.INTERNAL=13]="INTERNAL",Kv[Kv.UNAVAILABLE=14]="UNAVAILABLE",Kv[Kv.DATA_LOSS=15]="DATA_LOSS";var nm=null;function rm(){return new TextEncoder}var im=new Cf([4294967295,4294967295],0);function am(e){var t=rm().encode(e),n=new Tf;return n.update(t),new Uint8Array(n.digest())}function om(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Cf([n,r],0),new Cf([i,a],0)]}var um=function(){function e(t,n,r){if(v(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sm("Invalid padding: ".concat(n));if(r<0)throw new sm("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new sm("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new sm("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=Cf.fromNumber(this.Ae)}return k(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(Cf.fromNumber(n)));return 1===r.compare(im)&&(r=new Cf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=c(om(am(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=c(om(am(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),sm=function(e){w(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return k(n)}(T(Error)),cm=function(){function e(t,n,r,i,a){v(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return k(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,lm.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(ih.min(),i,new yd(eh),iv(),dv())}}]),e}(),lm=function(){function e(t,n,r,i,a){v(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return k(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,dv(),dv(),dv())}}]),e}(),fm=k((function e(t,n,r,i){v(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),hm=k((function e(t,n){v(this,e),this.targetId=t,this.ye=n})),dm=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),pm=function(){function e(){v(this,e),this.we=0,this.Se=ym(),this.be=Sd.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}return k(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"ve",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.Ce}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}},{key:"xe",value:function(){var e=dv(),t=dv(),n=dv();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ff()}})),new lm(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.Ce=!1,this.Se=ym()}},{key:"Ne",value:function(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.Ce=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.Ce=!0,this.De=!0}}]),e}(),vm=function(){function e(t){v(this,e),this.Qe=t,this.Ke=new Map,this.$e=iv(),this.Ue=mm(),this.We=new yd(eh)}return k(e,[{key:"Ge",value:function(e){var t,n=N(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(u){n.e(u)}finally{n.f()}var i,a=N(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(u){a.e(u)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:Ff()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var i=r.target;if(Rp(i))if(0===n){var a=new ch(i.path);this.je(t,a,ip.newNoDocument(a,ih.min()))}else Vf(1===n);else{var o=this.tt(t);if(o!==n){var u=this.nt(e),s=u?this.rt(u,e,o):1;if(0!==s){this.Ze(t);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,c)}null==nm||nm.it(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ye,this.Qe.st(),u,s))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=Nd(o).toUint8Array()}catch(e){if(e instanceof Id)return Mf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new um(n,s,l)}catch(e){return Mf(e instanceof sm?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.st(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&Rp(a.target)){var o=new ch(a.target.path);null!==t.$e.get(o)||t.ut(i,o)||t.je(i,o,ip.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=dv();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new cm(e,n,this.We,this.$e,r);return this.$e=iv(),this.Ue=mm(),this.We=new yd(eh),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new pm,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new bd(eh),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||Df("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new pm),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function mm(){return new yd(ch.comparator)}function ym(){return new yd(ch.comparator)}var gm={asc:"ASCENDING",desc:"DESCENDING"},km={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bm={and:"AND",or:"OR"},wm=k((function e(t,n){v(this,e),this.databaseId=t,this.useProto3Json=n}));function xm(e,t){return e.useProto3Json||Mh(t)?t:{value:t}}function _m(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Im(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sm(e,t){return _m(e,t.toTimestamp())}function Em(e){return Vf(!!e),ih.fromTimestamp(function(e){var t=Td(e);return new rh(t.seconds,t.nanos)}(e))}function Tm(e,t){return function(e){return new oh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Cm(e){var t=oh.fromString(e);return Vf(Jm(t)),t}function Nm(e,t){return Tm(e.databaseId,t.path)}function Am(e,t){var n=Cm(t);if(n.get(1)!==e.databaseId.projectId)throw new Bf(zf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bf(zf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ch(Dm(n))}function Pm(e,t){return Tm(e.databaseId,t)}function Om(e){var t=Cm(e);return 4===t.length?oh.emptyPath():Dm(t)}function Rm(e){return new oh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dm(e){return Vf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lm(e,t,n){return{name:Nm(e,t),fields:n.value.mapValue.fields}}function Mm(e,t,n){var r=Am(e,t.name),i=Em(t.updateTime),a=t.createTime?Em(t.createTime):ih.min(),o=new np({mapValue:{fields:t.fields}}),u=ip.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function jm(e,t){return"found"in t?function(e,t){Vf(!!t.found),t.found.name,t.found.updateTime;var n=Am(e,t.found.name),r=Em(t.found.updateTime),i=t.found.createTime?Em(t.found.createTime):ih.min(),a=new np({mapValue:{fields:t.found.fields}});return ip.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Vf(!!t.missing),Vf(!!t.readTime);var n=Am(e,t.missing),r=Em(t.readTime);return ip.newNoDocument(n,r)}(e,t):Ff()}function Fm(e,t){var n;if(t instanceof zv)n={update:Lm(e,t.key,t.value)};else if(t instanceof Qv)n={delete:Nm(e,t.key)};else if(t instanceof Bv)n={update:Lm(e,t.key,t.data),updateMask:Xm(t.fieldMask)};else{if(!(t instanceof Yv))return Ff();n={verify:Nm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof _v)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Iv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ev)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Cv)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw Ff()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ff()}(e,t.precondition)),n}function Vm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Rv.updateTime(Em(e.updateTime)):void 0!==e.exists?Rv.exists(e.exists):Rv.none()}(t.currentDocument):Rv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Vf("REQUEST_TIME"===t.setToServerValue),n=new _v;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Iv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ev(i)}else"increment"in t?n=new Cv(e,t.increment):Ff();var a=sh.fromServerFormat(t.fieldPath);return new Pv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Am(e,t.update.name),a=new np({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new _d(t.map((function(e){return sh.fromServerFormat(e)})))}(t.updateMask);return new Bv(i,a,o,n,r)}return new zv(i,a,n,r)}if(t.delete){var u=Am(e,t.delete);return new Qv(u,n)}if(t.verify){var s=Am(e,t.verify);return new Yv(s,n)}return Ff()}function Um(e,t){return{documents:[Pm(e,t.path)]}}function zm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Pm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Ym(hp.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Km(e.field),direction:Hm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=xm(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Bm(e){var t=Om(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Vf(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=qm(e);return t instanceof hp&&vp(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new sp(Qm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return Mh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ap(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ap(n,t)}(n.endAt)),Fp(t,i,u,o,s,"F",c,l)}function qm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Qm(e.unaryFilter.field);return fp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Qm(e.unaryFilter.field);return fp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qm(e.unaryFilter.field);return fp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qm(e.unaryFilter.field);return fp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ff()}}(e):void 0!==e.fieldFilter?function(e){return fp.create(Qm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ff()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hp.create(e.compositeFilter.filters.map((function(e){return qm(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ff()}}(e.compositeFilter.op))}(e):Ff()}function Hm(e){return gm[e]}function Gm(e){return km[e]}function Wm(e){return bm[e]}function Km(e){return{fieldPath:e.canonicalString()}}function Qm(e){return sh.fromServerFormat(e.fieldPath)}function Ym(e){return e instanceof fp?function(e){if("=="===e.op){if(Qd(e.value))return{unaryFilter:{field:Km(e.field),op:"IS_NAN"}};if(Kd(e.value))return{unaryFilter:{field:Km(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qd(e.value))return{unaryFilter:{field:Km(e.field),op:"IS_NOT_NAN"}};if(Kd(e.value))return{unaryFilter:{field:Km(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Km(e.field),op:Gm(e.op),value:e.value}}}(e):e instanceof hp?function(e){var t=e.getFilters().map((function(e){return Ym(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Wm(e.op),filters:t}}}(e):Ff()}function Xm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Jm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Zm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ih.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ih.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Sd.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;v(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return k(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),$m=k((function e(t){v(this,e),this.ht=t}));function ey(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ty(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Nm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:_m(e,t.version.toTimestamp()),createTime:_m(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ny(t.version)};else{if(!t.isUnknownDocument())return Ff();r.unknownDocument={path:n.path.toArray(),version:ny(t.version)}}return r}function ty(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ny(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ry(e){var t=new rh(e.seconds,e.nanoseconds);return ih.fromTimestamp(t)}function iy(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Vm(e.ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Vm(e.ht,t)})),u=rh.fromMillis(t.localWriteTimeMs);return new Xv(t.batchId,u,n,o)}function ay(e){var t,n=ry(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?ry(e.lastLimboFreeSnapshotVersion):ih.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return Vf(1===e.documents.length),Gp(Vp(Om(e.documents[0])))}(e.query):function(e){return Gp(Bm(e))}(e.query),new Zm(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,Sd.fromBase64String(e.resumeToken))}function oy(e,t){var n,r=ny(t.snapshotVersion),i=ny(t.lastLimboFreeSnapshotVersion);n=Rp(t.target)?Um(e.ht,t.target):zm(e.ht,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Pp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function uy(e){var t=Bm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qp(t,t.limit,"L"):t}function sy(e,t){return new Zv(t.largestBatchId,Vm(e.ht,t.overlayMutation))}function cy(e,t){var n=t.path.lastSegment();return[e,Vh(t.path.popLast()),n]}function ly(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ny(r.readTime),documentKey:Vh(r.documentKey.path),largestBatchId:r.largestBatchId}}var fy=function(){function e(){v(this,e)}return k(e,[{key:"getBundleMetadata",value:function(e,t){return hy(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:ry(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return hy(e).put(function(e){return{bundleId:e.id,createTime:ny(Em(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return dy(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:uy(e.bundledQuery),readTime:ry(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return dy(e).put(function(e){return{name:e.name,readTime:ny(Em(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function hy(e){return dd(e,"bundles")}function dy(e){return dd(e,"namedQueries")}var py=function(){function e(t,n){v(this,e),this.serializer=t,this.userId=n}return k(e,[{key:"getOverlay",value:function(e,t){var n=this;return vy(e).get(cy(this.userId,t)).next((function(e){return e?sy(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=sv();return _h.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Zv(t,a);i.push(r.It(e,o))})),_h.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Vh(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(vy(e).J("collectionPathOverlayIndex",i))})),_h.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=sv(),a=Vh(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return vy(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=sy(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=sv(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vy(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=sy(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"It",value:function(e,t){return vy(e).put(function(e,t,n){var r=c(cy(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Fm(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"Pt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function vy(e){return dd(e,"documentOverlays")}var my=function(){function e(){v(this,e)}return k(e,[{key:"dt",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(Cd(e.integerValue));else if("doubleValue"in e){var n=Cd(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),jh(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Nd(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?Jd(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):Ff()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Tt(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),ch.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();function yy(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function gy(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=yy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}my.Ct=new my;var ky=function(){function e(){v(this,e),this.buffer=new Uint8Array(1024),this.position=0}return k(e,[{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ot(n.value),n=t.next();this.Nt()}},{key:"Bt",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Lt",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{var a=r.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Nt()}},{key:"kt",value:function(e){var t=this.qt(e),n=gy(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Kt",value:function(e){var t=this.qt(e),n=gy(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"Wt",value:function(){this.Gt(255),this.Gt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"zt",value:function(){return this.buffer.slice(0,this.position)}},{key:"qt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}},{key:"Ot",value:function(e){var t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}},{key:"Mt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Nt",value:function(){this.Gt(0),this.Gt(1)}},{key:"Ut",value:function(e){this.Qt(1),this.buffer[this.position++]=e}},{key:"Gt",value:function(e){this.Qt(1),this.buffer[this.position++]=~e}},{key:"Qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),by=function(){function e(t){v(this,e),this.jt=t}return k(e,[{key:"yt",value:function(e){this.jt.vt(e)}},{key:"Vt",value:function(e){this.jt.Bt(e)}},{key:"Rt",value:function(e){this.jt.kt(e)}},{key:"Et",value:function(){this.jt.$t()}}]),e}(),wy=function(){function e(t){v(this,e),this.jt=t}return k(e,[{key:"yt",value:function(e){this.jt.xt(e)}},{key:"Vt",value:function(e){this.jt.Lt(e)}},{key:"Rt",value:function(e){this.jt.Kt(e)}},{key:"Et",value:function(){this.jt.Wt()}}]),e}(),xy=function(){function e(){v(this,e),this.jt=new ky,this.Ht=new by(this.jt),this.Jt=new wy(this.jt)}return k(e,[{key:"seed",value:function(e){this.jt.seed(e)}},{key:"Yt",value:function(e){return 0===e?this.Ht:this.Jt}},{key:"zt",value:function(){return this.jt.zt()}},{key:"reset",value:function(){this.jt.reset()}}]),e}(),_y=function(){function e(t,n,r,i){v(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return k(e,[{key:"Zt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Iy(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Sy(e.arrayValue,t.arrayValue))?n:0!==(n=Sy(e.directionalValue,t.directionalValue))?n:ch.comparator(e.documentKey,t.documentKey)}function Sy(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ey=function(){function e(t){v(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Xt=t.orderBy,this.en=[];var n,r=N(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.tn=i:this.en.push(i)}}catch(a){r.e(a)}finally{r.f()}}return k(e,[{key:"nn",value:function(e){Vf(e.collectionGroup===this.collectionId);var t=fh(e);if(void 0!==t&&!this.rn(t))return!1;for(var n=hh(e),r=new Set,i=0,a=0;i<n.length&&this.rn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.tn){if(!r.has(this.tn.field.canonicalString())){var o=n[i];if(!this.sn(this.tn,o)||!this.on(this.Xt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Xt.length||!this.on(this.Xt[a++],u))return!1}return!0}},{key:"_n",value:function(){var e,t=new bd(sh.comparator),n=[],r=N(this.en);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new dh(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new dh(i.field,0))}}}catch(s){r.e(s)}finally{r.f()}var a,o=N(this.Xt);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||t.has(u.field)||(t=t.add(u.field),n.push(new dh(u.field,"asc"===u.dir?0:1)))}}catch(s){o.e(s)}finally{o.f()}return new lh(lh.UNKNOWN_ID,this.collectionId,n,ph.empty())}},{key:"rn",value:function(e){var t,n=N(this.en);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.sn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"sn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"on",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Ty(e){var t,n;if(Vf(e instanceof fp||e instanceof hp),e instanceof fp){if(e instanceof Ep){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return fp.create(e.field,"==",t)})))||[];return hp.create(r,"or")}return e}var i=e.filters.map((function(e){return Ty(e)}));return hp.create(i,e.op)}function Cy(e){if(0===e.getFilters().length)return[];var t=Oy(Ty(e));return Vf(Py(t)),Ny(t)||Ay(t)?[t]:t.getFilters()}function Ny(e){return e instanceof fp}function Ay(e){return e instanceof hp&&vp(e)}function Py(e){return Ny(e)||Ay(e)||function(e){if(e instanceof hp&&pp(e)){var t,n=N(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Ny(r)&&!Ay(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Oy(e){if(Vf(e instanceof fp||e instanceof hp),e instanceof fp)return e;if(1===e.filters.length)return Oy(e.filters[0]);var t=e.filters.map((function(e){return Oy(e)})),n=hp.create(t,e.op);return Py(n=Ly(n))?n:(Vf(n instanceof hp),Vf(dp(n)),Vf(n.filters.length>1),n.filters.reduce((function(e,t){return Ry(e,t)})))}function Ry(e,t){var n;return Vf(e instanceof fp||e instanceof hp),Vf(t instanceof fp||t instanceof hp),n=e instanceof fp?t instanceof fp?function(e,t){return hp.create([e,t],"and")}(e,t):Dy(e,t):t instanceof fp?Dy(t,e):function(e,t){if(Vf(e.filters.length>0&&t.filters.length>0),dp(e)&&dp(t))return kp(e,t.getFilters());var n=pp(e)?e:t,r=pp(e)?t:e,i=n.filters.map((function(e){return Ry(e,r)}));return hp.create(i,"or")}(e,t),Ly(n)}function Dy(e,t){if(dp(t))return kp(t,e.getFilters());var n=t.filters.map((function(t){return Ry(e,t)}));return hp.create(n,"or")}function Ly(e){if(Vf(e instanceof fp||e instanceof hp),e instanceof fp)return e;var t=e.getFilters();if(1===t.length)return Ly(t[0]);if(mp(e))return e;var n=t.map((function(e){return Ly(e)})),r=[];return n.forEach((function(t){t instanceof fp?r.push(t):t instanceof hp&&(t.op===e.op?r.push.apply(r,p(t.filters)):r.push(t))})),1===r.length?r[0]:hp.create(r,e.op)}var My=function(){function e(){v(this,e),this.an=new jy}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.an.add(t),_h.resolve()}},{key:"getCollectionParents",value:function(e,t){return _h.resolve(this.an.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return _h.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return _h.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return _h.resolve()}},{key:"createTargetIndexes",value:function(e,t){return _h.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return _h.resolve(null)}},{key:"getIndexType",value:function(e,t){return _h.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return _h.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return _h.resolve(null)}},{key:"getMinOffset",value:function(e,t){return _h.resolve(yh.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return _h.resolve(yh.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return _h.resolve()}},{key:"updateIndexEntries",value:function(e,t){return _h.resolve()}}]),e}(),jy=function(){function e(){v(this,e),this.index={}}return k(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bd(oh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new bd(oh.comparator)).toArray()}}]),e}(),Fy=new Uint8Array(0),Vy=function(){function e(t,n){v(this,e),this.user=t,this.databaseId=n,this.un=new jy,this.cn=new nv((function(e){return Pp(e)}),(function(e,t){return Op(e,t)})),this.uid=t.uid||""}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.un.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.un.add(t)}));var a={collectionId:r,parent:Vh(i)};return Uy(e).put(a)}return _h.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[nh(t),""],!1,!0);return Uy(e).G(r).next((function(e){var r,i=N(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Bh(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=By(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=qy(e);return a.next((function(e){o.put(ly(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=By(e),r=qy(e),i=zy(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=By(e),n=zy(e),r=qy(e);return t.J().next((function(){return n.J()})).next((function(){return r.J()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return _h.forEach(this.ln(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new Ey(t);return n.addFieldIndex(e,i._n())}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=zy(e),i=!0,a=new Map;return _h.forEach(this.ln(t),(function(t){return n.hn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=dv(),o=[];return _h.forEach(a,(function(i,a){Df("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Pp(t)));var u=function(e,t){var n=fh(t);if(void 0===n)return null;var r,i=N(Dp(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=N(hh(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=N(Dp(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=N(hh(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Lp(e,o.fieldPath,e.startAt):Mp(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ap(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=N(hh(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Mp(e,o.fieldPath,e.endAt):Lp(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ap(r,i)}(a,i),f=n.Pn(i,a,c),h=n.Pn(i,a,l),d=n.In(i,a,s),p=n.dn(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return _h.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=ch.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return _h.resolve(null)}))}},{key:"ln",value:function(e){var t=this.cn.get(e);return t||(t=0===e.filters.length?[e]:Cy(hp.create(e.filters,"and")).map((function(t){return Ap(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.cn.set(e,t),t)}},{key:"dn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Tn(t[h/c]):Fy,f=u.En(e,s,n[h%c],r),d=u.An(e,s,i[h%c],a),v=o.map((function(t){return u.En(e,s,t,!0)}));l.push.apply(l,p(u.createRange(f,d,v)))},h=0;h<s;++h)f();return l}},{key:"En",value:function(e,t,n,r){var i=new _y(e,ch.empty(),t,n);return r?i:i.Zt()}},{key:"An",value:function(e,t,n,r){var i=new _y(e,ch.empty(),t,n);return r?i.Zt():i}},{key:"hn",value:function(e,t){var n=new Ey(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.nn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.ln(t);return _h.forEach(i,(function(t){return n.hn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new bd(sh.comparator),r=!1,i=N(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=N(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=N(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"Rn",value:function(e,t){var n,r=new xy,i=N(hh(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Yt(a.kind);my.Ct.dt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.zt()}},{key:"Tn",value:function(e){var t=new xy;return my.Ct.dt(e,t.Yt(0)),t.zt()}},{key:"Vn",value:function(e,t){var n=new xy;return my.Ct.dt(Hd(this.databaseId,t),n.Yt(function(e){var t=hh(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}},{key:"In",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new xy);var i,a=0,o=N(hh(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=N(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.mn(t,s.fieldPath)&&Wd(c))r=this.fn(r,s,c);else{var h=f.Yt(s.kind);my.Ct.dt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.gn(r)}},{key:"Pn",value:function(e,t,n){return this.In(e,t,n.position)}},{key:"gn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].zt();return t}},{key:"fn",value:function(e,t,n){var r,i=p(e),a=[],o=N(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=N(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new xy;f.seed(l.zt()),my.Ct.dt(s,f.Yt(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"mn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof fp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=By(e),i=qy(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return _h.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ph(t.sequenceNumber,new yh(ry(t.readTime),new ch(Bh(t.documentKey)),t.largestBatchId)):ph.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new dh(sh.fromServerFormat(n),r)}));return new lh(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:eh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=By(e),a=qy(e);return this.pn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return _h.forEach(t,(function(t){return a.put(ly(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return _h.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?_h.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),_h.forEach(a,(function(r){return n.yn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?_h.resolve():n.Sn(e,i,r,t,a)}))}))}))}))}},{key:"bn",value:function(e,t,n,r){return zy(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Vn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Dn",value:function(e,t,n,r){return zy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Vn(n,t.key),t.key.path.toArray()])}},{key:"yn",value:function(e,t,n){var r=zy(e),i=new bd(Iy);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Vn(n,t)])},(function(e,r){i=i.add(new _y(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new bd(Iy),r=this.Rn(t,e);if(null==r)return n;var i=fh(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Wd(a)){var o,u=N(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new _y(t.indexId,e.key,this.Tn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new _y(t.indexId,e.key,Fy,r));return n}},{key:"Sn",value:function(e,t,n,r,i){var a=this;Df("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=xd(a),s=xd(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=xd(o)):l?(i(u),u=xd(a)):(u=xd(a),s=xd(o))}}(r,i,Iy,(function(r){o.push(a.bn(e,t,n,r))}),(function(r){o.push(a.Dn(e,t,n,r))})),_h.waitFor(o)}},{key:"pn",value:function(e){var t=1;return qy(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Iy(e,t)})).filter((function(e,t,n){return!t||0!==Iy(e,n[t-1])}));var r=[];r.push(e);var i,a=N(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Iy(o,e),s=Iy(o,t);if(0===u)r[0]=e.Zt();else if(u>0&&s<0)r.push(o),r.push(o.Zt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Cn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Fy,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Fy,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Cn",value:function(e,t){return Iy(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Hy)}},{key:"getMinOffset",value:function(e,t){var n=this;return _h.mapArray(this.ln(t),(function(t){return n.hn(e,t).next((function(e){return e||Ff()}))})).next(Hy)}}]),e}();function Uy(e){return dd(e,"collectionParents")}function zy(e){return dd(e,"indexEntries")}function By(e){return dd(e,"indexConfiguration")}function qy(e){return dd(e,"indexState")}function Hy(e){Vf(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;gh(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new yh(t.readTime,t.documentKey,n)}var Gy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wy=function(){function e(t,n,r){v(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return k(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ky(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Vf(1===u)})));var c,l=[],f=N(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Gh(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return _h.waitFor(a).next((function(){return l}))}function Qy(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ff();t=e.noDocument}return JSON.stringify(t).length}Wy.DEFAULT_COLLECTION_PERCENTILE=10,Wy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wy.DEFAULT=new Wy(41943040,Wy.DEFAULT_COLLECTION_PERCENTILE,Wy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wy.DISABLED=new Wy(-1,0,0);var Yy=function(){function e(t,n,r,i){v(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}return k(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jy(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Zy(e),o=Jy(e);return o.add({}).next((function(u){Vf("number"==typeof u);var s,c=new Xv(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Fm(e.ht,t)})),i=n.mutations.map((function(t){return Fm(e.ht,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new bd((function(e,t){return eh(e.canonicalString(),t.canonicalString())})),d=N(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Gh(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Wh))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.vn[u]=c.keys()})),_h.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Jy(e).get(t).next((function(e){return e?(Vf(e.userId===n.userId),iy(n.serializer,e)):null}))}},{key:"Fn",value:function(e,t){var n=this;return this.vn[t]?_h.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Jy(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Vf(t.batchId>=r),a=iy(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Jy(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jy(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return iy(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Hh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Zy(e).Z({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=Bh(l);if(s===n.userId&&t.path.isEqual(h))return Jy(e).get(f).next((function(e){if(!e)throw Ff();Vf(e.userId===n.userId),a.push(iy(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bd(eh),i=[];return t.forEach((function(t){var a=Hh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Zy(e).Z({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=Bh(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),_h.waitFor(i).next((function(){return n.Mn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Hh(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new bd(eh);return Zy(e).Z({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=Bh(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Mn(e,u)}))}},{key:"Mn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Jy(e).get(t).next((function(e){if(null===e)throw Ff();Vf(e.userId===n.userId),r.push(iy(n.serializer,e))})))})),_h.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ky(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.xn(t.batchId)})),_h.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"xn",value:function(e){delete this.vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return _h.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return Zy(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Bh(e[1]);i.push(a)}else r.done()})).next((function(){Vf(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Xy(e,this.userId,t)}},{key:"On",value:function(e){var t=this;return $y(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Pt",value:function(t,n,r,i){return Vf(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Xy(e,t,n){var r=Hh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Zy(e).Z({range:a,Y:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Jy(e){return dd(e,"mutations")}function Zy(e){return dd(e,"documentMutations")}function $y(e){return dd(e,"mutationQueues")}var eg=function(){function e(t){v(this,e),this.Nn=t}return k(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"Bn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}(),tg=function(){function e(t,n){v(this,e),this.referenceDelegate=t,this.serializer=n}return k(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.kn(e).next((function(n){var r=new eg(n.highestTargetId);return n.highestTargetId=r.next(),t.qn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.kn(e).next((function(e){return ih.fromTimestamp(new rh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.kn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.kn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.qn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Qn(e,t).next((function(){return n.kn(e).next((function(r){return r.targetCount+=1,n.Kn(t,r),n.qn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ng(e).delete(t.targetId)})).next((function(){return n.kn(e)})).next((function(t){return Vf(t.targetCount>0),t.targetCount-=1,n.qn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ng(e).Z((function(o,u){var s=ay(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return _h.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ng(e).Z((function(e,n){var r=ay(n);t(r)}))}},{key:"kn",value:function(e){return rg(e).get("targetGlobalKey").next((function(e){return Vf(null!==e),e}))}},{key:"qn",value:function(e,t){return rg(e).put("targetGlobalKey",t)}},{key:"Qn",value:function(e,t){return ng(e).put(oy(this.serializer,t))}},{key:"Kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.kn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Pp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ng(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=ay(n);Op(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ig(e);return t.forEach((function(t){var o=Vh(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),_h.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ig(e);return _h.forEach(t,(function(t){var a=Vh(t.path);return _h.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ig(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ig(e),i=dv();return r.Z({range:n,Y:!0},(function(e,t,n){var r=Bh(e[1]),a=new ch(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Vh(t.path),r=IDBKeyRange.bound([n],[nh(n)],!1,!0),i=0;return ig(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"lt",value:function(e,t){return ng(e).get(t).next((function(e){return e?ay(e):null}))}}]),e}();function ng(e){return dd(e,"targets")}function rg(e){return dd(e,"targetGlobal")}function ig(e){return dd(e,"targetDocuments")}function ag(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=eh(r,o);return 0===s?eh(i,u):s}var og=function(){function e(t){v(this,e),this.$n=t,this.buffer=new bd(ag),this.Un=0}return k(e,[{key:"Wn",value:function(){return++this.Un}},{key:"Gn",value:function(e){var t=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ag(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ug=function(){function e(t,n,r){v(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.zn=null}return k(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.jn(6e4)}},{key:"stop",value:function(){this.zn&&(this.zn.cancel(),this.zn=null)}},{key:"started",get:function(){return null!==this.zn}},{key:"jn",value:function(e){var t=this;Df("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.zn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ch(e.t0)){e.next=12;break}Df("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,wh(e.t0);case 14:return e.next=16,t.jn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),sg=function(){function e(t,n){v(this,e),this.Hn=t,this.params=n}return k(e,[{key:"calculateTargetCount",value:function(e,t){return this.Hn.Jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return _h.resolve(Lh.ae);var r=new og(t);return this.Hn.forEachTarget(e,(function(e){return r.Gn(e.sequenceNumber)})).next((function(){return n.Hn.Yn(e,(function(e){return r.Gn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Hn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Hn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Df("LruGarbageCollector","Garbage collection skipped; disabled"),_h.resolve(Gy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Df("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Gy):n.Zn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Hn.getCacheSize(e)}},{key:"Zn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Df("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Rf()<=Ra.DEBUG&&Df("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),_h.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function cg(e,t){return new sg(e,t)}var lg=function(){function e(t,n){v(this,e),this.db=t,this.garbageCollector=cg(this,n)}return k(e,[{key:"Jn",value:function(e){var t=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Xn",value:function(e){var t=0;return this.Yn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Yn",value:function(e,t){return this.er(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return fg(e,n)}},{key:"removeReference",value:function(e,t,n){return fg(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return fg(e,t)}},{key:"tr",value:function(e,t){return function(e,t){var n=!1;return $y(e).X((function(r){return Xy(e,r,t).next((function(e){return e&&(n=!0),_h.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.er(e,(function(o,u){if(u<=t){var s=n.tr(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ih.min()),ig(e).delete(function(e){return[0,Vh(e.path)]}(o))}))}));i.push(s)}})).next((function(){return _h.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return fg(e,t)}},{key:"er",value:function(e,t){var n,r=ig(e),i=Lh.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Lh.ae&&t(new ch(Bh(n)),i),i=s,n=u):i=Lh.ae})).next((function(){i!==Lh.ae&&t(new ch(Bh(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function fg(e,t){return ig(e).put(function(e,t){return{targetId:0,path:Vh(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var hg=function(){function e(){v(this,e),this.changes=new nv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return k(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ip.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?_h.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),dg=function(){function e(t){v(this,e),this.serializer=t}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return yg(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return yg(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ty(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.nr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ip.newInvalidDocument(t);return yg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(gg(t))},(function(e,i){r=n.rr(t,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r={size:0,document:ip.newInvalidDocument(t)};return yg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(gg(t))},(function(e,i){r={document:n.rr(t,i),size:Qy(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=iv();return this.sr(e,t,(function(e,t){var i=n.rr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"_r",value:function(e,t){var n=this,r=iv(),i=new yd(ch.comparator);return this.sr(e,t,(function(e,t){var a=n.rr(e,t);r=r.insert(e,a),i=i.insert(e,Qy(t))})).next((function(){return{documents:r,ar:i}}))}},{key:"sr",value:function(e,t,n){if(t.isEmpty())return _h.resolve();var r=new bd(bg);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(gg(r.first()),gg(r.last())),a=r.getIterator(),o=a.getNext();return yg(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ch.fromSegments([].concat(p(t.prefixPath),[t.collectionGroup,t.documentId]));o&&bg(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(gg(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,u=[o.popLast().toArray(),o.lastSegment(),ty(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yg(e).G(IDBKeyRange.bound(u,s,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=iv(),u=N(e);try{for(u.s();!(n=u.n()).done;){var s=n.value,c=a.rr(ch.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);c.isFoundDocument()&&(Zp(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){u.e(l)}finally{u.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=iv(),o=kg(t,n),u=kg(t,yh.max());return yg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.rr(ch.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new vg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return mg(e).get("remoteDocumentGlobalKey").next((function(e){return Vf(!!e),e}))}},{key:"nr",value:function(e,t){return mg(e).put("remoteDocumentGlobalKey",t)}},{key:"rr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Mm(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ch.fromSegments(t.noDocument.path),i=ry(t.noDocument.readTime);n=ip.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ff();var a=ch.fromSegments(t.unknownDocument.path),o=ry(t.unknownDocument.version);n=ip.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new rh(e[0],e[1]);return ih.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(ih.min()))return n}return ip.newInvalidDocument(e)}}]),e}();function pg(e){return new dg(e)}var vg=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).ur=e,i.trackRemovals=r,i.cr=new nv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new bd((function(e,t){return eh(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.cr.get(a);if(n.push(t.ur.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=ey(t.ur.serializer,o);i=i.add(a.path.popLast());var c=Qy(s);r+=c-u.size,n.push(t.ur.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=ey(t.ur.serializer,o.convertToNoDocument(ih.min()));n.push(t.ur.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ur.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ur.updateMetadata(e,r)),_h.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ur.ir(e,t).next((function(e){return n.cr.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ur._r(e,t).next((function(e){var t=e.documents;return e.ar.forEach((function(e,r){n.cr.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(hg);function mg(e){return dd(e,"remoteDocumentGlobal")}function yg(e){return dd(e,"remoteDocumentsV14")}function gg(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function kg(e,t){var n=t.documentKey.path.toArray();return[e,ty(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bg(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=eh(n[a],r[a]))return i;return(i=eh(n.length,r.length))||((i=eh(n[n.length-2],r[r.length-2]))||eh(n[n.length-1],r[r.length-1]))}var wg=k((function e(t,n){v(this,e),this.overlayedDocument=t,this.mutatedFields=n})),xg=function(){function e(t,n,r,i){v(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return k(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Fv(r.mutation,e,_d.empty(),rh.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,dv()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dv(),i=sv();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=ov();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=sv();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,dv())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=iv(),a=lv(),o=lv();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Bv)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Fv(o.mutation,t,o.mutation.getFieldMask(),rh.now())):a.set(t.key,_d.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new wg(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=lv(),i=new yd((function(e,t){return e-t})),a=dv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=N(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||_d.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||dv()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=cv();c.forEach((function(e){if(!a.has(e)){var n=Mv(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return _h.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return ch.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):_h.resolve(sv()),u=-1,s=a;return o.next((function(t){return _h.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?_h.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,dv())})).next((function(e){return{batchId:u,changes:uv(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ch(t)).next((function(e){var t=ov();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=ov();return this.indexManager.getCollectionParents(e,a).next((function(u){return _h.forEach(u,(function(u){var s=function(e,t){return new jp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(a));return i.getDocumentsMatchingCollectionQuery(e,s,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ip.newInvalidDocument(r)))}));var n=ov();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&Fv(a.mutation,r,_d.empty(),rh.now()),Zp(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),_g=function(){function e(t){v(this,e),this.serializer=t,this.lr=new Map,this.hr=new Map}return k(e,[{key:"getBundleMetadata",value:function(e,t){return _h.resolve(this.lr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Em(e.createTime)}}(t)),_h.resolve()}},{key:"getNamedQuery",value:function(e,t){return _h.resolve(this.hr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:uy(e.bundledQuery),readTime:Em(e.readTime)}}(t)),_h.resolve()}}]),e}(),Ig=function(){function e(){v(this,e),this.overlays=new yd(ch.comparator),this.Pr=new Map}return k(e,[{key:"getOverlay",value:function(e,t){return _h.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=sv();return _h.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),_h.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Pr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Pr.delete(n)),_h.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=sv(),i=t.length+1,a=new ch(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return _h.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new yd((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=sv(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=sv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return _h.resolve(s)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Zv(t,n));var a=this.Pr.get(t);void 0===a&&(a=dv(),this.Pr.set(t,a)),this.Pr.set(t,a.add(n.key))}}]),e}(),Sg=function(){function e(){v(this,e),this.Ir=new bd(Eg.dr),this.Tr=new bd(Eg.Er)}return k(e,[{key:"isEmpty",value:function(){return this.Ir.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Eg(e,t);this.Ir=this.Ir.add(n),this.Tr=this.Tr.add(n)}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Rr(new Eg(e,t))}},{key:"Vr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"mr",value:function(e){var t=this,n=new ch(new oh([])),r=new Eg(n,e),i=new Eg(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Rr(e),a.push(e.key)})),a}},{key:"gr",value:function(){var e=this;this.Ir.forEach((function(t){return e.Rr(t)}))}},{key:"Rr",value:function(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}},{key:"pr",value:function(e){var t=new ch(new oh([])),n=new Eg(t,e),r=new Eg(t,e+1),i=dv();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Eg(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Eg=function(){function e(t,n){v(this,e),this.key=t,this.yr=n}return k(e,null,[{key:"dr",value:function(e,t){return ch.comparator(e.key,t.key)||eh(e.yr,t.yr)}},{key:"Er",value:function(e,t){return eh(e.yr,t.yr)||ch.comparator(e.key,t.key)}}]),e}(),Tg=function(){function e(t,n){v(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new bd(Eg.dr)}return k(e,[{key:"checkEmpty",value:function(e){return _h.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Xv(i,t,n,r);this.mutationQueue.push(a);var o,u=N(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Sr=this.Sr.add(new Eg(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return _h.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return _h.resolve(this.br(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Dr(n),i=r<0?0:r;return _h.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return _h.resolve(0===this.mutationQueue.length?-1:this.wr-1)}},{key:"getAllMutationBatches",value:function(e){return _h.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Eg(t,0),i=new Eg(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,i],(function(e){var t=n.br(e.yr);a.push(t)})),_h.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bd(eh);return t.forEach((function(e){var t=new Eg(e,0),i=new Eg(e,Number.POSITIVE_INFINITY);n.Sr.forEachInRange([t,i],(function(e){r=r.add(e.yr)}))})),_h.resolve(this.Cr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ch.isDocumentKey(i)||(i=i.child(""));var a=new Eg(new ch(i),0),o=new bd(eh);return this.Sr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.yr)),!0)}),a),_h.resolve(this.Cr(o))}},{key:"Cr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.br(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Vf(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Sr;return _h.forEach(t.mutations,(function(i){var a=new Eg(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Sr=r}))}},{key:"xn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Eg(t,0),r=this.Sr.firstAfterOrEqual(n);return _h.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,_h.resolve()}},{key:"vr",value:function(e,t){return this.Dr(e)}},{key:"Dr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"br",value:function(e){var t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Cg=function(){function e(t){v(this,e),this.Fr=t,this.docs=new yd(ch.comparator),this.size=0}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return _h.resolve(n?n.document.mutableCopy():ip.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=iv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ip.newInvalidDocument(e))})),_h.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=iv(),a=t.path,o=new ch(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||gh(mh(l),n)<=0||(r.has(l.key)||Zp(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return _h.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ff()}},{key:"Mr",value:function(e,t){return _h.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ng(this)}},{key:"getSize",value:function(e){return _h.resolve(this.size)}}]),e}(),Ng=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).ur=e,r}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ur.addEntry(e,i)):t.ur.removeEntry(r)})),_h.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ur.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ur.getEntries(e,t)}}]),n}(hg),Ag=function(){function e(t){v(this,e),this.persistence=t,this.Or=new nv((function(e){return Pp(e)}),Op),this.lastRemoteSnapshotVersion=ih.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Sg,this.targetCount=0,this.Lr=eg.Bn()}return k(e,[{key:"forEachTarget",value:function(e,t){return this.Or.forEach((function(e,n){return t(n)})),_h.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return _h.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return _h.resolve(this.Nr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),_h.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),_h.resolve()}},{key:"Qn",value:function(e){this.Or.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new eg(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Qn(t),this.targetCount+=1,_h.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Qn(t),_h.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,_h.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Or.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Or.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),_h.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return _h.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Or.get(t)||null;return _h.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Br.Ar(t,n),_h.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Br.Vr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),_h.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Br.mr(t),_h.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Br.pr(t);return _h.resolve(n)}},{key:"containsKey",value:function(e,t){return _h.resolve(this.Br.containsKey(t))}}]),e}(),Pg=function(){function e(t,n){var r=this;v(this,e),this.kr={},this.overlays={},this.qr=new Lh(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new Ag(this),this.indexManager=new My,this.remoteDocumentCache=function(e){return new Cg(e)}((function(e){return r.referenceDelegate.$r(e)})),this.serializer=new $m(n),this.Ur=new _g(this.serializer)}return k(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ig,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.kr[e.toKey()];return n||(n=new Tg(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;Df("MemoryPersistence","Starting transaction:",e);var i=new Og(this.qr.next());return this.referenceDelegate.Wr(),n(i).next((function(e){return r.referenceDelegate.Gr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zr",value:function(e,t){return _h.or(Object.values(this.kr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Og=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return k(n)}(bh),Rg=function(){function e(t){v(this,e),this.persistence=t,this.jr=new Sg,this.Hr=null}return k(e,[{key:"Yr",get:function(){if(this.Hr)return this.Hr;throw Ff()}},{key:"addReference",value:function(e,t,n){return this.jr.addReference(n,t),this.Yr.delete(n.toString()),_h.resolve()}},{key:"removeReference",value:function(e,t,n){return this.jr.removeReference(n,t),this.Yr.add(n.toString()),_h.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Yr.add(t.toString()),_h.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.jr.mr(t.targetId).forEach((function(e){return n.Yr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Yr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Wr",value:function(){this.Hr=new Set}},{key:"Gr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _h.forEach(this.Yr,(function(r){var i=ch.fromPath(r);return t.Zr(e,i).next((function(e){e||n.removeEntry(i,ih.min())}))})).next((function(){return t.Hr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zr(e,t).next((function(e){e?n.Yr.delete(t.toString()):n.Yr.add(t.toString())}))}},{key:"$r",value:function(e){return 0}},{key:"Zr",value:function(e,t){var n=this;return _h.or([function(){return _h.resolve(n.jr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zr(e,t)}])}}],[{key:"Jr",value:function(t){return new e(t)}}]),e}(),Dg=function(){function e(t){v(this,e),this.serializer=t}return k(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new Ih("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qh,{unique:!0}),e.createObjectStore("documentMutations")}(e),Lg(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=_h.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Lg(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ih.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qh,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return _h.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.ei(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ti(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ni(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ri(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ii(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:id});t.createIndex("collectionPathOverlayIndex",ad,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",od,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Kh});t.createIndex("documentKeyIndex",Qh),t.createIndex("collectionGroupIndex",Yh)}(e)})).next((function(){return i.si(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.oi(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ed}).createIndex("sequenceNumberIndex",td,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:nd}).createIndex("documentKeyIndex",rd,{unique:!1})}(e)}))),o}},{key:"ti",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Qy(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"ei",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return _h.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return _h.forEach(r,(function(r){Vf(r.userId===n.userId);var i=iy(t.serializer,r);return Ky(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ni",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new oh(n),o=function(e){return[0,Vh(e)]}(a);r.push(t.get(o).next((function(n){return n?_h.resolve():function(n){return t.put({targetId:0,path:Vh(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return _h.waitFor(r)}))}))}},{key:"ri",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:$h});var n=t.store("collectionParents"),r=new jy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Vh(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new oh(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Bh(r));return i(a.popLast())}))}))}},{key:"ii",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=ay(r),a=oy(t.serializer,i);return n.put(a)}))}},{key:"si",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new ch(oh.fromString(e.document.name).popFirst(5)):e.noDocument?ch.fromSegments(e.noDocument.path):e.unknownDocument?ch.fromSegments(e.unknownDocument.path):Ff()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return _h.waitFor(r)}))}},{key:"oi",value:function(e,t){var n=this,r=t.store("mutations"),i=pg(this.serializer),a=new Pg(Rg.Jr,this.serializer.ht);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:dv();iy(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),_h.forEach(r,(function(e,r){var o=new Af(r),u=py.Pt(n.serializer,o),s=a.getIndexManager(o),c=Yy.Pt(o,n.serializer,s,a.referenceDelegate);return new xg(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new hd(t,Lh.ae),e).next()}))}))}}]),e}();function Lg(e){e.createObjectStore("targetDocuments",{keyPath:Jh}).createIndex("documentTargetsIndex",Zh,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xh,{unique:!0}),e.createObjectStore("targetGlobal")}var Mg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jg=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(v(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this._i=a,this.window=o,this.document=u,this.ai=c,this.ui=l,this.ci=f,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=function(e){return Promise.resolve()},!e.C())throw new Bf(zf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lg(this,i),this.Ti=n+"main",this.serializer=new $m(s),this.Ei=new Sh(this.Ti,this.ci,new Dg(this.serializer)),this.Kr=new tg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pg(this.serializer),this.Ur=new fy,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,!1===l&&Lf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return k(e,[{key:"start",value:function(){var e=this;return this.Ri().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Bf(zf.FAILED_PRECONDITION,Mg);return e.Vi(),e.mi(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Kr.getHighestSequenceNumber(t)}))})).then((function(t){e.qr=new Lh(t,e.ai)})).then((function(){e.Qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"gi",value:function(e){var t=this;return this.di=function(){var n=Ji(Yi().mark((function n(r){return Yi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.k(function(){var t=Ji(Yi().mark((function t(n){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ri();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Vg(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.pi(t).next((function(t){t||(e.isPrimary=!1,e._i.enqueueRetryable((function(){return e.di(!1)})))}))})).next((function(){return e.yi(t)})).next((function(n){return e.isPrimary&&!n?e.wi(t).next((function(){return!1})):!!n&&e.Si(t).next((function(){return!0}))}))})).catch((function(t){if(Ch(t))return Df("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Df("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e._i.enqueueRetryable((function(){return e.di(t)})),e.isPrimary=t}))}},{key:"pi",value:function(e){var t=this;return Fg(e).get("owner").next((function(e){return _h.resolve(t.bi(e))}))}},{key:"Di",value:function(e){return Vg(e).delete(this.clientId)}},{key:"Ci",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r,i,a=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vi(this.Ii,18e5)){e.next=6;break}return this.Ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=dd(e,"clientMetadata");return t.G().next((function(e){var n=a.Fi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return _h.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ai){n=N(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ai.removeItem(this.Mi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ri().then((function(){return e.Ci()})).then((function(){return e.fi()}))}))}},{key:"bi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"yi",value:function(e){var t=this;return this.ui?_h.resolve(!0):Fg(e).get("owner").next((function(n){if(null!==n&&t.vi(n.leaseTimestampMs,5e3)&&!t.xi(n.ownerId)){if(t.bi(n)&&t.networkEnabled)return!0;if(!t.bi(n)){if(!n.allowTabSynchronization)throw new Bf(zf.FAILED_PRECONDITION,Mg);return!1}}return!(!t.networkEnabled||!t.inForeground)||Vg(e).G().next((function(e){return void 0===t.Fi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Df("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ji(Yi().mark((function e(){var t=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new hd(e,Lh.ae);return t.wi(n).next((function(){return t.Di(n)}))}));case 7:this.Ei.close(),this.Li();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fi",value:function(e,t){var n=this;return e.filter((function(e){return n.vi(e.updateTimeMs,t)&&!n.xi(e.clientId)}))}},{key:"ki",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Vg(t).G().next((function(t){return e.Fi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Qr}},{key:"getMutationQueue",value:function(e,t){return Yy.Pt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Vy(e,this.serializer.ht.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return py.Pt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;Df("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?fd:14===e?ld:13===e?cd:12===e?sd:11===e?ud:void Ff()}(this.ci);return this.Ei.runTransaction(e,a,o,(function(a){return i=new hd(a,r.qr?r.qr.next():Lh.ae),"readwrite-primary"===t?r.pi(i).next((function(e){return!!e||r.yi(i)})).next((function(t){if(!t)throw Lf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r._i.enqueueRetryable((function(){return r.di(!1)})),new Bf(zf.FAILED_PRECONDITION,kh);return n(i)})).next((function(e){return r.Si(i).next((function(){return e}))})):r.qi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"qi",value:function(e){var t=this;return Fg(e).get("owner").next((function(e){if(null!==e&&t.vi(e.leaseTimestampMs,5e3)&&!t.xi(e.ownerId)&&!t.bi(e)&&!(t.ui||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Bf(zf.FAILED_PRECONDITION,Mg)}))}},{key:"Si",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fg(e).put("owner",t)}},{key:"wi",value:function(e){var t=this,n=Fg(e);return n.get("owner").next((function(e){return t.bi(e)?(Df("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):_h.resolve()}))}},{key:"vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Lf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Vi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.hi=function(){e._i.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ri()}))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}},{key:"mi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.li=function(){t.Oi();var e=/(?:Version|Mobile)\/1[456]/;!la()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t._i.enterRestrictedMode(!0),t._i.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.li))}},{key:"Bi",value:function(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}},{key:"xi",value:function(e){var t;try{var n=null!==(null===(t=this.Ai)||void 0===t?void 0:t.getItem(this.Mi(e)));return Df("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Lf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Oi",value:function(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(YU){Lf("Failed to set zombie client id.",YU)}}},{key:"Li",value:function(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch(YU){}}},{key:"Mi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Sh.C()}}]),e}();function Fg(e){return dd(e,"owner")}function Vg(e){return dd(e,"clientMetadata")}function Ug(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var zg=function(){function e(t,n,r,i){v(this,e),this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=i}return k(e,null,[{key:"$i",value:function(t,n){var r,i=dv(),a=dv(),o=N(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Bg=function(){function e(){v(this,e),this._documentReadCount=0}return k(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),qg=function(){function e(){v(this,e),this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}return k(e,[{key:"initialize",value:function(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.Hi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new Bg;return i.Yi(e,t,n).next((function(r){if(a.result=r,i.Wi)return i.Zi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Zi",value:function(e,t,n,r){return n.documentReadCount<this.Gi?(Rf()<=Ra.DEBUG&&Df("QueryEngine","SDK will not create cache indexes for query:",Jp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),_h.resolve()):(Rf()<=Ra.DEBUG&&Df("QueryEngine","Query:",Jp(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.zi*r?(Rf()<=Ra.DEBUG&&Df("QueryEngine","The SDK decides to create cache indexes for query:",Jp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gp(t))):_h.resolve())}},{key:"Hi",value:function(e,t){var n=this;if(Up(t))return _h.resolve(null);var r=Gp(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Qp(t,null,"F"),r=Gp(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=dv.apply(void 0,p(i));return n.ji.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Xi(t,i);return n.es(t,o,a,r.readTime)?n.Hi(e,Qp(t,null,"F")):n.ts(e,o,t,r)}))}))})))}))}},{key:"Ji",value:function(e,t,n,r){var i=this;return Up(t)||r.isEqual(ih.min())?_h.resolve(null):this.ji.getDocuments(e,n).next((function(a){var o=i.Xi(t,a);return i.es(t,o,n,r)?_h.resolve(null):(Rf()<=Ra.DEBUG&&Df("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jp(t)),i.ts(e,o,t,vh(r,-1)).next((function(e){return e})))}))}},{key:"Xi",value:function(e,t){var n=new bd(ev(e));return t.forEach((function(t,r){Zp(e,r)&&(n=n.add(r))})),n}},{key:"es",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Yi",value:function(e,t,n){return Rf()<=Ra.DEBUG&&Df("QueryEngine","Using full collection scan to execute query:",Jp(t)),this.ji.getDocumentsMatchingQuery(e,t,yh.min(),n)}},{key:"ts",value:function(e,t,n,r){return this.ji.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Hg=function(){function e(t,n,r,i){v(this,e),this.persistence=t,this.ns=n,this.serializer=i,this.rs=new yd(eh),this.ss=new nv((function(e){return Pp(e)}),Op),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}return k(e,[{key:"us",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xg(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.rs)}))}}]),e}();function Gg(e,t,n,r){return new Hg(e,t,n,r)}function Wg(e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.us(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=dv(),s=N(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=N(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=N(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=N(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{cs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Qg(e,t){var n=Uf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n._s.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=_h.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Vf(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=dv(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Yg(e){var t=Uf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Kr.getLastRemoteSnapshotVersion(e)}))}function Xg(e,t){var n=Uf(e),r=t.snapshotVersion,i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Kr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Kr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(Sd.EMPTY_BYTE_STRING,ih.min()).withLastLimboFreeSnapshotVersion(ih.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Kr.updateTargetData(e,c))}}));var u=iv(),s=dv();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Jg(e,a,t.documentUpdates).next((function(e){u=e.ls,s=e.hs}))),!r.isEqual(ih.min())){var c=n.Kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return _h.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.rs=i,e}))}function Jg(e,t,n){var r=dv(),i=dv();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=iv();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ih.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Df("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ls:r,hs:i}}))}function Zg(e,t){var n=Uf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function $g(e,t){var n=Uf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Kr.getTargetData(e,t).next((function(i){return i?(r=i,_h.resolve(r)):n.Kr.allocateTargetId(e).next((function(i){return r=new Zm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.rs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.rs=n.rs.insert(e.targetId,e),n.ss.set(t,e.targetId)),e}))}function ek(e,t,n){return tk.apply(this,arguments)}function tk(){return tk=Ji(Yi().mark((function e(t,n,r){var i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uf(t),a=i.rs.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ch(e.t1)){e.next=12;break}throw e.t1;case 12:Df("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.rs=i.rs.remove(n),i.ss.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),tk.apply(this,arguments)}function nk(e,t,n){var r=Uf(e),i=ih.min(),a=dv();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=Uf(e),i=r.ss.get(n);return void 0!==i?_h.resolve(r.rs.get(i)):r.Kr.getTargetData(t,n)}(r,e,Gp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ns.getDocumentsMatchingQuery(e,t,n?i:ih.min(),n?a:dv())})).next((function(e){return ak(r,$p(t),e),{documents:e,Ps:a}}))}))}function rk(e,t){var n=Uf(e),r=Uf(n.Kr),i=n.rs.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function ik(e,t){var n=Uf(e),r=n.os.get(t)||ih.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n._s.getAllFromCollectionGroup(e,t,vh(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ak(n,t,e),e}))}function ak(e,t,n){var r=e.os.get(t)||ih.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.os.set(t,r)}function ok(e,t,n,r){return uk.apply(this,arguments)}function uk(){return uk=Ji(Yi().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Uf(t),o=dv(),u=iv(),s=N(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Is(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ds(l)).setReadTime(n.Ts(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a._s.newChangeBuffer({trackRemovals:!0}),e.next=7,$g(a,function(e){return Gp(Vp(oh.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Jg(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Kr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Kr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ls,t.hs)})).next((function(){return t.ls}))}))})));case 9:case"end":return e.stop()}}),e)}))),uk.apply(this,arguments)}function sk(e,t){return ck.apply(this,arguments)}function ck(){return ck=Ji(Yi().mark((function e(t,n){var r,i,a,o=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:dv(),e.next=3,$g(t,Gp(uy(n.bundledQuery)));case 3:return i=e.sent,a=Uf(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Em(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ur.saveNamedQuery(e,n);var o=i.withResumeToken(Sd.EMPTY_BYTE_STRING,t);return a.rs=a.rs.insert(o.targetId,o),a.Kr.updateTargetData(e,o).next((function(){return a.Kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ur.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function fk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var dk=function(){function e(t,n,r,i){v(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return k(e,[{key:"As",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Bf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Lf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),pk=function(){function e(t,n,r){v(this,e),this.targetId=t,this.state=n,this.error=r}return k(e,[{key:"As",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Bf(i.error.code,i.error.message))),a?new e(t,i.state,r):(Lf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),vk=function(){function e(t,n){v(this,e),this.clientId=t,this.activeTargetIds=n}return k(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=vv(),o=0;i&&o<r.activeTargetIds.length;++o)i=Fh(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Lf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),mk=function(){function e(t,n){v(this,e),this.clientId=t,this.onlineState=n}return k(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Lf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),yk=function(){function e(){v(this,e),this.activeTargetIds=vv()}return k(e,[{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Vs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"As",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),gk=function(){function e(t,n,r,i,a){v(this,e),this.window=t,this._i=n,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new yd(eh),this.started=!1,this.ws=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Ss=lk(this.persistenceKey,this.fs),this.bs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new yk),this.Ds=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Cs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.vs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Fs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ms=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}return k(e,[{key:"start",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ki();case 2:t=e.sent,n=N(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.fs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(lk(this.persistenceKey,i)))&&(o=vk.Es(i,a))&&(this.ys=this.ys.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.xs(),(u=this.storage.getItem(this.Fs))&&(s=this.Os(u))&&this.Ns(s),c=N(this.ws);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ps(f)}catch(d){c.e(d)}finally{c.f()}this.ws=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.bs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Bs(this.ys)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ys.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ls(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ls(e,t,n),this.ks(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(hk(this.persistenceKey,e));if(n){var r=pk.Es(e,n);r&&(t=r.state)}}return this.qs.Rs(e),this.xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.qs.Vs(e),this.xs()}},{key:"isLocalQueryTarget",value:function(e){return this.qs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(hk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.ks(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ks(e)}},{key:"notifyBundleLoaded",value:function(e){this.$s(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Df("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Df("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Df("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ps",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Df("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void Lf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(Ji(Yi().mark((function e(){var r,i,a,o,u,s,c;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ds.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Us(n.key),e.abrupt("return",t.Ws(r,null));case 6:if(!(i=t.Gs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ws(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Cs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.zs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.js(a));case 16:e.next=41;break;case 18:if(!t.vs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Hs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Fs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Os(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ns(u));case 30:e.next=41;break;case 32:if(n.key!==t.bs){e.next=37;break}s=function(e){var t=Lh.ae;if(null!=e)try{var n=JSON.parse(e);Vf("number"==typeof n),t=n}catch(e){Lf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Lh.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Ms){e.next=41;break}return c=t.Ys(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Zs(e)})));case 41:e.next=44;break;case 43:t.ws.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"qs",get:function(){return this.ys.get(this.fs)}},{key:"xs",value:function(){this.setItem(this.Ss,this.qs.As())}},{key:"Ls",value:function(e,t,n){var r=new dk(this.currentUser,e,t,n),i=fk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.As())}},{key:"ks",value:function(e){var t=fk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ks",value:function(e){var t={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(t))}},{key:"Qs",value:function(e,t,n){var r=hk(this.persistenceKey,e),i=new pk(e,t,n);this.setItem(r,i.As())}},{key:"$s",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Ms,t)}},{key:"Us",value:function(e){var t=this.Ds.exec(e);return t?t[1]:null}},{key:"Gs",value:function(e,t){var n=this.Us(e);return vk.Es(n,t)}},{key:"zs",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return dk.Es(new Af(i),r,t)}},{key:"Hs",value:function(e,t){var n=this.vs.exec(e),r=Number(n[1]);return pk.Es(r,t)}},{key:"Os",value:function(e){return mk.Es(e)}},{key:"Ys",value:function(e){return JSON.parse(e)}},{key:"js",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Xs(t.batchId,t.state,t.error));case 2:Df("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Js",value:function(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}},{key:"Ws",value:function(e,t){var n=this,r=t?this.ys.insert(e,t):this.ys.remove(e),i=this.Bs(this.ys),a=this.Bs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.no(o,u).then((function(){n.ys=r}))}},{key:"Ns",value:function(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Bs",value:function(e){var t=vv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),kk=function(){function e(){v(this,e),this.ro=new yk,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return k(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.ro.Rs(e),this.io[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.io[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.ro.Vs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.io[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.ro.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"start",value:function(){return this.ro=new yk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),bk=function(){function e(){v(this,e)}return k(e,[{key:"so",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),wk=function(){function e(){var t=this;v(this,e),this.oo=function(){return t._o()},this.ao=function(){return t.uo()},this.co=[],this.lo()}return k(e,[{key:"so",value:function(e){this.co.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}},{key:"lo",value:function(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}},{key:"_o",value:function(){Df("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=N(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"uo",value:function(){Df("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=N(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),xk=null;function _k(){return null===xk?xk=268435456+Math.round(2147483648*Math.random()):xk++,"0x"+xk.toString(16)}var Ik={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Sk=function(){function e(t){v(this,e),this.ho=t.ho,this.Po=t.Po}return k(e,[{key:"Io",value:function(e){this.To=e}},{key:"Eo",value:function(e){this.Ao=e}},{key:"onMessage",value:function(e){this.Ro=e}},{key:"close",value:function(){this.Po()}},{key:"send",value:function(e){this.ho(e)}},{key:"Vo",value:function(){this.To()}},{key:"mo",value:function(e){this.Ao(e)}},{key:"fo",value:function(e){this.Ro(e)}}]),e}(),Ek="WebChannelConnection",Tk=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return k(n,[{key:"vo",value:function(e,t,n,r){var i=_k();return new Promise((function(a,o){var u=new Ef;u.setWithCredentials(!0),u.listenOnce(xf.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case wf.NO_ERROR:var t=u.getResponseJson();Df(Ek,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case wf.TIMEOUT:Df(Ek,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Bf(zf.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:var n=u.getStatus();if(Df(Ek,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(zf).indexOf(t)>=0?t:zf.UNKNOWN}(s.status);o(new Bf(c,s.message))}else o(new Bf(zf.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Bf(zf.UNAVAILABLE,"Connection failed."));break;default:Ff()}}finally{Df(Ek,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Df(Ek,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Mo",value:function(e,t,n){var r=_k(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=kf(),o=bf(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Co(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");Df(Ek,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new Sk({ho:function(t){h?Df(Ek,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Df(Ek,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Df(Ek,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Po:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Sf.EventType.OPEN,(function(){h||Df(Ek,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Sf.EventType.CLOSE,(function(){h||(h=!0,Df(Ek,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.mo())})),p(l,Sf.EventType.ERROR,(function(t){h||(h=!0,Mf(Ek,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.mo(new Bf(zf.UNAVAILABLE,"The operation could not be completed")))})),p(l,Sf.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Vf(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Df(Ek,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Wv[e];if(void 0!==t)return tm(t)}(u),c=o.message;void 0===s&&(s=zf.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.mo(new Bf(s,c)),l.close()}else Df(Ek,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.fo(i)}})),p(o,_f.STAT_EVENT,(function(t){t.stat===If.PROXY?Df(Ek,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===If.NOPROXY&&Df(Ek,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Vo()}),0),d}}]),n}(function(){function e(t){v(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo="projects/".concat(r,"/databases/").concat(i),this.wo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return k(e,[{key:"So",get:function(){return!1}},{key:"bo",value:function(e,t,n,r,i){var a=_k(),o=this.Do(e,t);Df("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,r,i),this.vo(e,o,u,n).then((function(t){return Df("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Mf("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Fo",value:function(e,t,n,r,i,a){return this.bo(e,t,n,r,i)}},{key:"Co",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Do",value:function(e,t){var n=Ik[e];return"".concat(this.po,"/v1/").concat(t,":").concat(n)}}]),e}());function Ck(){return"undefined"!=typeof window?window:null}function Nk(){return"undefined"!=typeof document?document:null}function Ak(e){return new wm(e,!0)}var Pk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;v(this,e),this._i=t,this.timerId=n,this.xo=r,this.Oo=i,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}return k(e,[{key:"reset",value:function(){this.Bo=0}},{key:"qo",value:function(){this.Bo=this.No}},{key:"Qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&Df("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,(function(){return t.ko=Date.now(),e()})),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}},{key:"$o",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Ko",value:function(){return(Math.random()-.5)*this.Bo}}]),e}(),Ok=function(){function e(t,n,r,i,a,o,u,s){v(this,e),this._i=t,this.Uo=r,this.Wo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new Pk(t,n)}return k(e,[{key:"Jo",value:function(){return 1===this.state||5===this.state||this.Yo()}},{key:"Yo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Zo()}},{key:"stop",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xo",value:function(){this.state=0,this.Ho.reset()}},{key:"e_",value:function(){var e=this;this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,(function(){return e.t_()})))}},{key:"n_",value:function(e){this.r_(),this.stream.send(e)}},{key:"t_",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Yo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"i_",value:function(){this.jo&&(this.jo.cancel(),this.jo=null)}},{key:"close",value:function(){var e=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.r_(),this.i_(),this.Ho.cancel(),this.Go++,4!==t?this.Ho.reset():n&&n.code===zf.RESOURCE_EXHAUSTED?(Lf(n.toString()),Lf("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===zf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"s_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Go===n&&e.__(i,a)}),(function(n){t((function(){var t=new Bf(zf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.a_(t)}))}))}},{key:"__",value:function(e,t){var n=this,r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io((function(){r((function(){return n.state=2,n.jo=n._i.enqueueAfterDelay(n.Wo,1e4,(function(){return n.Yo()&&(n.state=3),Promise.resolve()})),n.listener.Io()}))})),this.stream.Eo((function(e){r((function(){return n.a_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Zo",value:function(){var e=this;this.state=5,this.Ho.Qo(Ji(Yi().mark((function t(){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"a_",value:function(e){return Df("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"o_",value:function(e){var t=this;return function(n){t._i.enqueueAndForget((function(){return t.Go===e?n():(Df("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Rk=function(e){w(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return v(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return k(n,[{key:"u_",value:function(e,t){return this.connection.Mo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ho.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ff()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Vf(void 0===t||"string"==typeof t),Sd.fromBase64String(t||"")):(Vf(void 0===t||t instanceof Uint8Array),Sd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?zf.UNKNOWN:tm(e.code);return new Bf(t,e.message||"")}(o);n=new dm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Am(e,s.document.name),l=Em(s.document.updateTime),f=s.document.createTime?Em(s.document.createTime):ih.min(),h=new np({mapValue:{fields:s.document.fields}}),d=ip.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new fm(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Am(e,m.document),g=m.readTime?Em(m.readTime):ih.min(),k=ip.newNoDocument(y,g),b=m.removedTargetIds||[];n=new fm([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Am(e,w.document),_=w.removedTargetIds||[];n=new fm([],_,x,null)}else{if(!("filter"in t))return Ff();t.filter;var I=t.filter;I.targetId;var S=I.count,E=void 0===S?0:S,T=I.unchangedNames,C=new $v(E,T),N=I.targetId;n=new hm(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ih.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ih.min():t.readTime?Em(t.readTime):ih.min()}(e);return this.listener.c_(t,n)}},{key:"l_",value:function(e){var t={};t.database=Rm(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Rp(r)?{documents:Um(e,r)}:{query:zm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Im(e,t.resumeToken);var i=xm(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(ih.min())>0){n.readTime=_m(e,t.snapshotVersion.toTimestamp());var a=xm(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ff()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.n_(t)}},{key:"h_",value:function(e){var t={};t.database=Rm(this.serializer),t.removeTarget=e,this.n_(t)}}]),n}(Ok),Dk=function(e){w(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return v(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.P_=!1,s}return k(n,[{key:"I_",get:function(){return this.P_}},{key:"start",value:function(){this.P_=!1,this.lastStreamToken=void 0,ou(x(n.prototype),"start",this).call(this)}},{key:"s_",value:function(){this.P_&&this.d_([])}},{key:"u_",value:function(e,t){return this.connection.Mo("Write",e,t)}},{key:"onMessage",value:function(e){if(Vf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();var t=function(e,t){return e&&e.length>0?(Vf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Em(e.updateTime):Em(t);return n.isEqual(ih.min())&&(n=Em(t)),new Ov(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Em(e.commitTime);return this.listener.T_(n,t)}return Vf(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}},{key:"A_",value:function(){var e={};e.database=Rm(this.serializer),this.n_(e)}},{key:"d_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Fm(t.serializer,e)}))};this.n_(n)}}]),n}(Ok),Lk=function(e){w(n,e);var t=S(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.R_=!1,o}return k(n,[{key:"V_",value:function(){if(this.R_)throw new Bf(zf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"bo",value:function(e,t,n){var r=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.connection.bo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===zf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Bf(zf.UNKNOWN,e.toString())}))}},{key:"Fo",value:function(e,t,n,r){var i=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.connection.Fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===zf.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Bf(zf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.R_=!0}}]),n}(k((function e(){v(this,e)})));var Mk=function(){function e(t,n){v(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}return k(e,[{key:"y_",value:function(){var e=this;0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.g_=null,e.S_("Backend didn't respond within 10 seconds."),e.w_("Offline"),Promise.resolve()})))}},{key:"b_",value:function(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.w_("Offline")))}},{key:"set",value:function(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}},{key:"w_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"S_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.p_?(Lf(t),this.p_=!1):Df("OnlineStateTracker",t)}},{key:"D_",value:function(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}]),e}(),jk=k((function e(t,n,r,i,a){var o=this;v(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so((function(e){r.enqueueAndForget(Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Qk(o),!e.t0){e.next=5;break}return Df("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Uf(t)).F_.add(4),e.next=4,Uk(n);case 4:return n.O_.set("Unknown"),n.F_.delete(4),e.next=8,Fk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.O_=new Mk(r,i)}));function Fk(e){return Vk.apply(this,arguments)}function Vk(){return(Vk=Ji(Yi().mark((function e(t){var n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qk(t)){e.next=18;break}n=N(t.M_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Uk(e){return zk.apply(this,arguments)}function zk(){return(zk=Ji(Yi().mark((function e(t){var n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N(t.M_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Bk(e,t){var n=Uf(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),Kk(n)?Wk(n):_b(n).Yo()&&Hk(n,t))}function qk(e,t){var n=Uf(e),r=_b(n);n.v_.delete(t),r.Yo()&&Gk(n,t),0===n.v_.size&&(r.Yo()?r.e_():Qk(n)&&n.O_.set("Unknown"))}function Hk(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ih.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_b(e).l_(t)}function Gk(e,t){e.N_.Le(t),_b(e).h_(t)}function Wk(e){e.N_=new vm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.v_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),_b(e).start(),e.O_.y_()}function Kk(e){return Qk(e)&&!_b(e).Jo()&&e.v_.size>0}function Qk(e){return 0===Uf(e).F_.size}function Yk(e){e.N_=void 0}function Xk(e){return Jk.apply(this,arguments)}function Jk(){return(Jk=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.v_.forEach((function(e,n){Hk(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zk(e,t){return $k.apply(this,arguments)}function $k(){return($k=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yk(t),Kk(t)?(t.O_.b_(n),Wk(t)):t.O_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eb(e,t,n){return tb.apply(this,arguments)}function tb(){return tb=Ji(Yi().mark((function e(t,n,r){var i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.O_.set("Online"),!(n instanceof dm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ji(Yi().mark((function e(t,n){var r,i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=N(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.v_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.v_.delete(o),t.N_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Df("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,nb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof fm?t.N_.Ge(n):n instanceof hm?t.N_.Xe(n):t.N_.He(n),r.isEqual(ih.min())){e.next=29;break}return e.prev=14,e.next=17,Yg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.N_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.v_.get(r);i&&e.v_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.v_.get(t);if(r){e.v_.set(t,r.withResumeToken(Sd.EMPTY_BYTE_STRING,r.snapshotVersion)),Gk(e,t);var i=new Zm(r.target,t,n,r.sequenceNumber);Hk(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Df("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,nb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),tb.apply(this,arguments)}function nb(e,t,n){return rb.apply(this,arguments)}function rb(){return(rb=Ji(Yi().mark((function e(t,n,r){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ch(n)){e.next=2;break}throw n;case 2:return t.F_.add(1),e.next=5,Uk(t);case 5:t.O_.set("Offline"),r||(r=function(){return Yg(t.localStore)}),t.asyncQueue.enqueueRetryable(Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Df("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.F_.delete(1),e.next=6,Fk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ib(e,t){return t().catch((function(n){return nb(e,n,t)}))}function ab(e){return ob.apply(this,arguments)}function ob(){return ob=Ji(Yi().mark((function e(t){var n,r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Uf(t),r=Ib(n),i=n.C_.length>0?n.C_[n.C_.length-1].batchId:-1;case 2:if(!ub(n)){e.next=19;break}return e.prev=3,e.next=6,Zg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.C_.length&&r.e_(),e.abrupt("break",19);case 10:i=a.batchId,sb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,nb(n,e.t0);case 17:e.next=2;break;case 19:cb(n)&&lb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ob.apply(this,arguments)}function ub(e){return Qk(e)&&e.C_.length<10}function sb(e,t){e.C_.push(t);var n=Ib(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function cb(e){return Qk(e)&&!Ib(e).Jo()&&e.C_.length>0}function lb(e){Ib(e).start()}function fb(e){return hb.apply(this,arguments)}function hb(){return(hb=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ib(t).A_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function db(e){return pb.apply(this,arguments)}function pb(){return(pb=Ji(Yi().mark((function e(t){var n,r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ib(t),r=N(t.C_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.d_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vb(e,t,n){return mb.apply(this,arguments)}function mb(){return mb=Ji(Yi().mark((function e(t,n,r){var i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.C_.shift(),a=Jv.from(i,n,r),e.next=3,ib(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ab(t);case 5:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function yb(e,t){return gb.apply(this,arguments)}function gb(){return gb=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ib(t).I_,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return em(e)&&e!==zf.ABORTED}(n.code)){e.next=7;break}return r=t.C_.shift(),Ib(t).Xo(),e.next=5,ib(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ab(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:cb(t)&&lb(t);case 5:case"end":return e.stop()}}),e)}))),gb.apply(this,arguments)}function kb(e,t){return bb.apply(this,arguments)}function bb(){return bb=Ji(Yi().mark((function e(t,n){var r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Uf(t)).asyncQueue.verifyOperationInProgress(),Df("RemoteStore","RemoteStore received new credentials"),i=Qk(r),r.F_.add(3),e.next=6,Uk(r);case 6:return i&&r.O_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.F_.delete(3),e.next=12,Fk(r);case 12:case"end":return e.stop()}}),e)}))),bb.apply(this,arguments)}function wb(e,t){return xb.apply(this,arguments)}function xb(){return(xb=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uf(t),!n){e.next=7;break}return r.F_.delete(2),e.next=5,Fk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.F_.add(2),e.next=12,Uk(r);case 12:r.O_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _b(e){return e.B_||(e.B_=function(e,t,n){var r=Uf(e);return r.V_(),new Rk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:Xk.bind(null,e),Eo:Zk.bind(null,e),c_:eb.bind(null,e)}),e.M_.push(function(){var t=Ji(Yi().mark((function t(n){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.B_.Xo(),Kk(e)?Wk(e):e.O_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.B_.stop();case 6:Yk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}function Ib(e){return e.L_||(e.L_=function(e,t,n){var r=Uf(e);return r.V_(),new Dk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:fb.bind(null,e),Eo:yb.bind(null,e),E_:db.bind(null,e),T_:vb.bind(null,e)}),e.M_.push(function(){var t=Ji(Yi().mark((function t(n){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Xo(),t.next=4,ab(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.C_.length>0&&(Df("RemoteStore","Stopping write stream with ".concat(e.C_.length," pending writes")),e.C_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.L_}var Sb=function(){function e(t,n,r,i,a){v(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return k(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bf(zf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Eb(e,t){if(Lf("AsyncQueue","".concat(t,": ").concat(e)),Ch(e))return new Bf(zf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Tb=function(){function e(t){v(this,e),this.comparator=t?function(e,n){return t(e,n)||ch.comparator(e.key,n.key)}:function(e,t){return ch.comparator(e.key,t.key)},this.keyedMap=ov(),this.sortedSet=new yd(this.comparator)}return k(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Cb=function(){function e(){v(this,e),this.k_=new yd(ch.comparator)}return k(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.k_.get(t);n?0!==e.type&&3===n.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==n.type?this.k_=this.k_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.k_=this.k_.remove(t):1===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):Ff():this.k_=this.k_.insert(t,e)}},{key:"q_",value:function(){var e=[];return this.k_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Nb=function(){function e(t,n,r,i,a,o,u,s,c){v(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return k(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Tb.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Ab=k((function e(){v(this,e),this.Q_=void 0,this.listeners=[]})),Pb=k((function e(){v(this,e),this.queries=new nv((function(e){return Xp(e)}),Yp),this.onlineState="Unknown",this.K_=new Set}));function Ob(e,t){return Rb.apply(this,arguments)}function Rb(){return Rb=Ji(Yi().mark((function e(t,n){var r,i,a,o,u;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Ab),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Eb(e.t0,"Initialization of query '".concat(Jp(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.U_(r.onlineState),o.Q_&&n.W_(o.Q_)&&Fb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Rb.apply(this,arguments)}function Db(e,t){return Lb.apply(this,arguments)}function Lb(){return Lb=Ji(Yi().mark((function e(t,n){var r,i,a,o,u;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function Mb(e,t){var n,r=Uf(e),i=!1,a=N(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=N(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.W_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&Fb(r)}function jb(e,t,n){var r=Uf(e),i=r.queries.get(t);if(i){var a,o=N(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Fb(e){e.K_.forEach((function(e){e.next()}))}var Vb=function(){function e(t,n,r){v(this,e),this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}return k(e,[{key:"W_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=N(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Nb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.z_?this.H_(e)&&(this.G_.next(e),a=!0):this.J_(e,this.onlineState)&&(this.Y_(e),a=!0),this.j_=e,a}},{key:"onError",value:function(e){this.G_.error(e)}},{key:"U_",value:function(e){this.onlineState=e;var t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}},{key:"J_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"H_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Y_",value:function(e){e=Nb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}]),e}(),Ub=function(){function e(t,n){v(this,e),this.X_=t,this.byteLength=n}return k(e,[{key:"ea",value:function(){return"metadata"in this.X_}}]),e}(),zb=function(){function e(t){v(this,e),this.serializer=t}return k(e,[{key:"Is",value:function(e){return Am(this.serializer,e)}},{key:"ds",value:function(e){return e.metadata.exists?Mm(this.serializer,e.document,!1):ip.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return Em(e)}}]),e}(),Bb=function(){function e(t,n,r){v(this,e),this.ta=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qb(t)}return k(e,[{key:"na",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;var n=oh.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ra",value:function(e){var t,n=new Map,r=new zb(this.serializer),i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Is(a.metadata.name),s=N(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||dv()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ok(this.localStore,new zb(this.serializer),this.documents,this.ta.id);case 2:t=e.sent,n=this.ra(this.documents),r=N(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,sk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function qb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Hb=k((function e(t){v(this,e),this.key=t})),Gb=k((function e(t){v(this,e),this.key=t})),Wb=function(){function e(t,n){v(this,e),this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=dv(),this.mutatedKeys=dv(),this.ua=ev(t),this.ca=new Tb(this.ua)}return k(e,[{key:"la",get:function(){return this.oa}},{key:"ha",value:function(e,t){var n=this,r=t?t.Pa:new Cb,i=t?t.ca:this.ca,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Zp(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ia(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ua(f,s)>0||c&&n.ua(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,es:u,mutatedKeys:a}}},{key:"Ia",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;var a=e.Pa.q_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ff()}};return n(e)-n(t)}(e.type,t.type)||r.ua(e.doc,t.doc)})),this.da(n);var o=t?this.Ta():[],u=0===this.aa.size&&this.current?1:0,s=u!==this._a;return this._a=u,0!==a.length||s?{snapshot:new Nb(this.query,e.ca,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"U_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Cb,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}},{key:"Aa",value:function(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}},{key:"da",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.oa=t.oa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.oa=t.oa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this.aa;this.aa=dv(),this.ca.forEach((function(t){e.Aa(t.key)&&(e.aa=e.aa.add(t.key))}));var n=[];return t.forEach((function(t){e.aa.has(t)||n.push(new Gb(t))})),this.aa.forEach((function(e){t.has(e)||n.push(new Hb(e))})),n}},{key:"Ra",value:function(e){this.oa=e.Ps,this.aa=dv();var t=this.ha(e.documents);return this.applyChanges(t,!0)}},{key:"Va",value:function(){return Nb.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}]),e}(),Kb=k((function e(t,n,r){v(this,e),this.query=t,this.targetId=n,this.view=r})),Qb=k((function e(t){v(this,e),this.key=t,this.ma=!1})),Yb=function(){function e(t,n,r,i,a,o){v(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new nv((function(e){return Xp(e)}),Yp),this.pa=new Map,this.ya=new Set,this.wa=new yd(ch.comparator),this.Sa=new Map,this.ba=new Sg,this.Da={},this.Ca=new Map,this.va=eg.Ln(),this.onlineState="Unknown",this.Fa=void 0}return k(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function Xb(e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=Ji(Yi().mark((function e(t,n){var r,i,a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qw(t),!(o=r.ga.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Va(),e.next=15;break;case 6:return e.next=8,$g(r.localStore,Gp(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,Zb(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Bk(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Zb(e,t,n,r,i){return $b.apply(this,arguments)}function $b(){return $b=Ji(Yi().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ma=function(e,n,r){return function(){var e=Ji(Yi().mark((function e(t,n,r,i){var a,o,u;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ha(r),e.t0=a.es,!e.t0){e.next=6;break}return e.next=5,nk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ha(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(kw(t,n.targetId,u.Ea),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,nk(t.localStore,n,!0);case 3:return o=e.sent,u=new Wb(n,o.Ps),s=u.ha(o.documents),c=lm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),kw(t,r,l.Ea),f=new Kb(n,r,u),e.abrupt("return",(t.ga.set(n,f),t.pa.has(r)?t.pa.get(r).push(n):t.pa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),$b.apply(this,arguments)}function ew(e,t){return tw.apply(this,arguments)}function tw(){return tw=Ji(Yi().mark((function e(t,n){var r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uf(t),i=r.ga.get(n),!((a=r.pa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.pa.set(i.targetId,a.filter((function(e){return!Yp(e,n)}))),void r.ga.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ek(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),qk(r.remoteStore,i.targetId),yw(r,i.targetId)})).catch(wh);case 9:e.next=14;break;case 11:return yw(r,i.targetId),e.next=14,ek(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),tw.apply(this,arguments)}function nw(e,t,n){return rw.apply(this,arguments)}function rw(){return rw=Ji(Yi().mark((function e(t,n,r){var i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hw(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Uf(e),a=rh.now(),o=t.reduce((function(e,t){return e.add(t.key)}),dv());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=iv(),s=dv();return i._s.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=N(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Vv(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Bv(c.key,l,rp(l.value.mapValue),Rv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:uv(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new yd(eh)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,xw(i,a.changes);case 9:return e.next=11,ab(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Eb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),rw.apply(this,arguments)}function iw(e,t){return aw.apply(this,arguments)}function aw(){return aw=Ji(Yi().mark((function e(t,n){var r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),e.prev=1,e.next=4,Xg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Sa.get(t);n&&(Vf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ma=!0:e.modifiedDocuments.size>0?Vf(n.ma):e.removedDocuments.size>0&&(Vf(n.ma),n.ma=!1))})),e.next=8,xw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,wh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),aw.apply(this,arguments)}function ow(e,t,n){var r=Uf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Uf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=N(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.U_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Fb(n)}(r.eventManager,t),i.length&&r.fa.c_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function uw(e,t,n){return sw.apply(this,arguments)}function sw(){return sw=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s,c;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Uf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Sa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new yd(ch.comparator)).insert(o,ip.newNoDocument(o,ih.min())),s=dv().add(o),c=new cm(ih.min(),new Map,new yd(eh),u,s),e.next=9,iw(i,c);case 9:i.wa=i.wa.remove(o),i.Sa.delete(n),ww(i),e.next=16;break;case 14:return e.next=16,ek(i.localStore,n,!1).then((function(){return yw(i,n,r)})).catch(wh);case 16:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}function cw(e,t){return lw.apply(this,arguments)}function lw(){return lw=Ji(Yi().mark((function e(t,n){var r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),i=n.batch.batchId,e.prev=1,e.next=4,Qg(r.localStore,n);case 4:return a=e.sent,mw(r,i,null),vw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,xw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),lw.apply(this,arguments)}function fw(e,t,n){return hw.apply(this,arguments)}function hw(){return hw=Ji(Yi().mark((function e(t,n,r){var i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Uf(t),e.prev=1,e.next=4,function(e,t){var n=Uf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Vf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,mw(i,n,r),vw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,xw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hw.apply(this,arguments)}function dw(e,t){return pw.apply(this,arguments)}function pw(){return pw=Ji(Yi().mark((function e(t,n){var r,i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qk((r=Uf(t)).remoteStore)||Df("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Uf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ca.get(i)||[]).push(n),r.Ca.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Eb(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),pw.apply(this,arguments)}function vw(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function mw(e,t,n){var r=Uf(e),i=r.Da[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function yw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=N(e.pa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ga.delete(a),n&&e.fa.xa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach((function(t){e.ba.containsKey(t)||gw(e,t)}))}function gw(e,t){e.ya.delete(t.path.canonicalString());var n=e.wa.get(t);null!==n&&(qk(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),ww(e))}function kw(e,t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Hb?(e.ba.addReference(a.key,t),bw(e,a)):a instanceof Gb?(Df("SyncEngine","Document no longer in limbo: "+a.key),e.ba.removeReference(a.key,t),e.ba.containsKey(a.key)||gw(e,a.key)):Ff()}}catch(o){i.e(o)}finally{i.f()}}function bw(e,t){var n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Df("SyncEngine","New document in limbo: "+n),e.ya.add(r),ww(e))}function ww(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){var t=e.ya.values().next().value;e.ya.delete(t);var n=new ch(oh.fromString(t)),r=e.va.next();e.Sa.set(r,new Qb(n)),e.wa=e.wa.insert(n,r),Bk(e.remoteStore,new Zm(Gp(Vp(n.path)),r,"TargetPurposeLimboResolution",Lh.ae))}}function xw(e,t,n){return _w.apply(this,arguments)}function _w(){return _w=Ji(Yi().mark((function e(t,n,r){var i,a,o,u;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uf(t),a=[],o=[],u=[],e.t0=i.ga.isEmpty(),e.t0){e.next=9;break}return i.ga.forEach((function(e,t){u.push(i.Ma(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=zg.$i(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.fa.c_(a),e.next=9,function(){var e=Ji(Yi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _h.forEach(n,(function(t){return _h.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return _h.forEach(t.Ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ch(e.t0)){e.next=10;break}throw e.t0;case 10:Df("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=N(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.rs.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.rs=r.rs.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),_w.apply(this,arguments)}function Iw(e,t){return Sw.apply(this,arguments)}function Sw(){return(Sw=Ji(Yi().mark((function e(t,n){var r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Uf(t)).currentUser.isEqual(n)){e.next=11;break}return Df("SyncEngine","User change. New user:",n.toKey()),e.next=5,Wg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new Bf(zf.CANCELLED,t))}))})),e.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,xw(r,i.cs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ew(e,t){var n=Uf(e),r=n.Sa.get(t);if(r&&r.ma)return dv().add(r.key);var i=dv(),a=n.pa.get(t);if(!a)return i;var o,u=N(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ga.get(s);i=i.unionWith(c.view.la)}}catch(l){u.e(l)}finally{u.f()}return i}function Tw(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=Ji(Yi().mark((function e(t,n){var r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),e.next=3,nk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ra(i),e.abrupt("return",(r.isPrimaryClient&&kw(r,n.targetId,a.Ea),a));case 6:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function Nw(e,t){return Aw.apply(this,arguments)}function Aw(){return(Aw=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),e.abrupt("return",ik(r.localStore,n).then((function(e){return xw(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pw(e,t,n,r){return Ow.apply(this,arguments)}function Ow(){return Ow=Ji(Yi().mark((function e(t,n,r,i){var a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Uf(t),e.next=3,function(e,t){var n=Uf(e),r=Uf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Fn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):_h.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ab(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(mw(a,n,i||null),vw(a,n),function(e,t){Uf(Uf(e).mutationQueue).xn(t)}(a.localStore,n)):Ff();case 11:return e.next=13,xw(a,o);case 13:e.next=16;break;case 15:Df("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}function Rw(e,t){return Dw.apply(this,arguments)}function Dw(){return(Dw=Ji(Yi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qw(r=Uf(t)),Hw(r),!0!==n||!0===r.Fa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Lw(r,i.toArray());case 5:return a=e.sent,r.Fa=!0,e.next=9,wb(r.remoteStore,!0);case 9:o=N(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Bk(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Fa){e.next=25;break}return c=[],l=Promise.resolve(),r.pa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return yw(r,t),ek(r.localStore,t,!0)})),qk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Lw(r,c);case 21:return function(e){var t=Uf(e);t.Sa.forEach((function(e,n){qk(t.remoteStore,n)})),t.ba.gr(),t.Sa=new Map,t.wa=new yd(ch.comparator)}(r),r.Fa=!1,e.next=25,wb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lw(e,t,n){return Mw.apply(this,arguments)}function Mw(){return Mw=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Uf(t),a=[],o=[],u=N(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.pa.get(c))||0===f.length){e.next=34;break}return e.next=11,$g(i.localStore,Gp(f[0]));case 11:l=e.sent,h=N(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ga.get(p),e.next=20,Tw(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,rk(i.localStore,c);case 36:return y=e.sent,e.next=39,$g(i.localStore,y);case 39:return l=e.sent,e.next=42,Zb(i,jw(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.fa.c_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Mw.apply(this,arguments)}function jw(e){return Fp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Fw(e){return function(e){return Uf(Uf(e).persistence).ki()}(Uf(e).localStore)}function Vw(e,t,n,r){return Uw.apply(this,arguments)}function Uw(){return Uw=Ji(Yi().mark((function e(t,n,r,i){var a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Uf(t)).Fa){e.next=3;break}return e.abrupt("return",void Df("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.pa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ik(a.localStore,$p(o[0]));case 10:return u=e.sent,s=cm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Sd.EMPTY_BYTE_STRING),e.next=14,xw(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,ek(a.localStore,n,!0);case 17:return yw(a,n,i),e.abrupt("break",20);case 19:Ff();case 20:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function zw(e,t,n){return Bw.apply(this,arguments)}function Bw(){return Bw=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=qw(t)).Fa){e.next=45;break}a=N(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.pa.has(u)){e.next=10;break}return Df("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,rk(i.localStore,u);case 12:return s=e.sent,e.next=15,$g(i.localStore,s);case 15:return c=e.sent,e.next=18,Zb(i,jw(s),c.targetId,!1,c.resumeToken);case 18:Bk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=N(r),e.prev=30,h=Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.pa.has(t),!e.t0){e.next=5;break}return e.next=5,ek(i.localStore,t,!1).then((function(){qk(i.remoteStore,t),yw(i,t)})).catch(wh);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Bw.apply(this,arguments)}function qw(e){var t=Uf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ew.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uw.bind(null,t),t.fa.c_=Mb.bind(null,t.eventManager),t.fa.xa=jb.bind(null,t.eventManager),t}function Hw(e){var t=Uf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fw.bind(null,t),t}function Gw(e,t,n){var r=Uf(e);(function(){var e=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Uf(e),r=Em(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ur.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(qb(i)),a=new Bb(i,t.localStore,n.serializer),e.next=15,n.Oa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.na(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Oa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,xw(t,s.sa,void 0);case 31:return e.next=33,function(e,t){var n=Uf(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ur.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.ia));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Mf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Ww=function(){function e(){v(this,e),this.synchronizeTabs=!1}return k(e,[{key:"initialize",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Ak(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Gg(this.persistence,new qg,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Pg(Rg.Jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new kk}},{key:"terminate",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Kw=function(e){w(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).Na=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return k(n,[{key:"initialize",value:function(){var e=Ji(Yi().mark((function e(t){var r=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(x(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Na.initialize(this,t);case 4:return e.next=6,Hw(this.Na.syncEngine);case 6:return e.next=8,ab(this.Na.remoteStore);case 8:return e.next=10,this.persistence.gi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Gg(this.persistence,new qg,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new ug(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Dh(t,this.persistence);return new Rh(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Ug(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Wy.withCacheSize(this.cacheSizeBytes):Wy.DEFAULT;return new jg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ck(),Nk(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new kk}}]),n}(Ww),Qw=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r,!1)).Na=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return k(n,[{key:"initialize",value:function(){var e=Ji(Yi().mark((function e(t){var r,i=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(x(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Na.syncEngine,e.t0=this.sharedClientState instanceof gk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Xs:Pw.bind(null,r),eo:Vw.bind(null,r),no:zw.bind(null,r),ki:Fw.bind(null,r),Zs:Nw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.gi(function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rw(i.Na.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Ck();if(!gk.C(t))throw new Bf(zf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ug(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Kw),Yw=function(){function e(){v(this,e)}return k(e,[{key:"initialize",value:function(){var e=Ji(Yi().mark((function e(t,n){var r=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ow(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Iw.bind(null,this.syncEngine),e.next=12,wb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Pb}},{key:"createDatastore",value:function(e){var t=Ak(e.databaseInfo.databaseId),n=function(e){return new Tk(e)}(e.databaseInfo);return function(e,t,n,r){return new Lk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new jk(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return ow(t.syncEngine,e,0)}),wk.C()?new wk:new bk)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Yb(e,t,n,r,i,a);return o&&(u.Fa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uf(t),Df("RemoteStore","RemoteStore shutting down."),n.F_.add(5),e.next=5,Uk(n);case 5:n.x_.shutdown(),n.O_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Xw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ji(Yi().mark((function r(){var i;return Yi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var Jw=function(){function e(t){v(this,e),this.observer=t,this.muted=!1}return k(e,[{key:"next",value:function(e){this.observer.next&&this.Ba(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ba(this.observer.error,e):Lf("Uncaught Error in snapshot listener:",e.toString())}},{key:"La",value:function(){this.muted=!0}},{key:"Ba",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Zw=function(){function e(t,n){var r=this;v(this,e),this.ka=t,this.serializer=n,this.metadata=new qf,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((function(e){e&&e.ea()?r.metadata.resolve(e.X_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(function(e){return r.metadata.reject(e)}))}return k(e,[{key:"close",value:function(){return this.ka.cancel()}},{key:"getMetadata",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oa",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Qa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qa",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ka();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.qa.decode(t),r=Number(n),isNaN(r)&&this.$a("length string (".concat(n,") is not valid number")),e.next=9,this.Ua(r);case 9:return i=e.sent,e.abrupt("return",new Ub(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ka",value:function(){var e=Ji(Yi().mark((function e(){var t,n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Wa()<0)){e.next=7;break}return e.next=3,this.Ga();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Wa())<0&&this.$a("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ua",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ga();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.$a("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.qa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"$a",value:function(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ga",value:function(){var e=Ji(Yi().mark((function e(){var t,n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ka.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),$w=function(){function e(t){v(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return k(e,[{key:"lookup",value:function(){var e=Ji(Yi().mark((function e(t){var n,r=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Bf(zf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ji(Yi().mark((function e(t,n){var r,i,a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),i=Rm(r.serializer)+"/documents",a={documents:n.map((function(e){return Nm(r.serializer,e)}))},e.next=5,r.Fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=jm(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Vf(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Qv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ji(Yi().mark((function e(){var t,n=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ch.fromPath(t);n.mutations.push(new Yv(r,n.precondition(r)))})),e.next=7,function(){var e=Ji(Yi().mark((function e(t,n){var r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t),i=Rm(r.serializer)+"/documents",a={writes:n.map((function(e){return Fm(r.serializer,e)}))},e.next=3,r.bo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ff();t=ih.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Bf(zf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ih.min())?Rv.exists(!1):Rv.updateTime(t):Rv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ih.min()))throw new Bf(zf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rv.updateTime(t)}return Rv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ex=function(){function e(t,n,r,i,a){v(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.za=r.maxAttempts,this.Ho=new Pk(this.asyncQueue,"transaction_retry")}return k(e,[{key:"run",value:function(){this.za-=1,this.ja()}},{key:"ja",value:function(){var e=this;this.Ho.Qo(Ji(Yi().mark((function t(){var n,r;return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new $w(e.datastore),(r=e.Ha(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ja(t)}))}))})).catch((function(t){e.Ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ha",value:function(e){try{var t=this.updateFunction(e);return!Mh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ja",value:function(e){var t=this;this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((function(){return t.ja(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ya",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!em(t)}return!1}}]),e}(),tx=function(){function e(t,n,r,i){var a=this;v(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Af.UNAUTHENTICATED,this.clientId=$f.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Df("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Df("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return k(e,[{key:"getConfiguration",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Bf(zf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new qf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ji(Yi().mark((function n(){var r;return Yi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Eb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function nx(e,t){return rx.apply(this,arguments)}function rx(){return rx=Ji(Yi().mark((function e(t,n){var r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Df("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Wg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e,t){return ax.apply(this,arguments)}function ax(){return ax=Ji(Yi().mark((function e(t,n){var r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ux(t);case 3:return r=e.sent,Df("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return kb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return kb(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e){return"FirebaseError"===e.name?e.code===zf.FAILED_PRECONDITION||e.code===zf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function ux(e){return sx.apply(this,arguments)}function sx(){return(sx=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Df("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,nx(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),ox(n=e.t0)){e.next=13;break}throw n;case 13:return Mf("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,nx(t,new Ww);case 16:e.next=21;break;case 18:return Df("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,nx(t,new Ww);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function cx(e){return lx.apply(this,arguments)}function lx(){return(lx=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Df("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,ix(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Df("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,ix(t,new Yw);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fx(e){return ux(e).then((function(e){return e.persistence}))}function hx(e){return ux(e).then((function(e){return e.localStore}))}function dx(e){return cx(e).then((function(e){return e.remoteStore}))}function px(e){return cx(e).then((function(e){return e.syncEngine}))}function vx(e){return cx(e).then((function(e){return e.datastore}))}function mx(e){return yx.apply(this,arguments)}function yx(){return(yx=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Xb.bind(null,n.syncEngine),r.onUnlisten=ew.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new qf;return e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function i(){return Yi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Jw({next:function(a){t.enqueueAndForget((function(){return Db(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Bf(zf.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Bf(zf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Vb(Vp(n.path),a,{includeMetadataChanges:!0,Z_:!0});return Ob(e,o)},i.next=3,mx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new qf;return e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function i(){return Yi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Jw({next:function(n){t.enqueueAndForget((function(){return Db(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Bf(zf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Vb(n,a,{includeMetadataChanges:!0,Z_:!0});return Ob(e,o)},i.next=3,mx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function bx(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var wx=new Map;function xx(e,t,n){if(!n)throw new Bf(zf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function _x(e,t,n,r){if(!0===t&&!0===r)throw new Bf(zf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Ix(e){if(!ch.isDocumentKey(e))throw new Bf(zf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sx(e){if(ch.isDocumentKey(e))throw new Bf(zf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ex(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ff()}function Tx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bf(zf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ex(e);throw new Bf(zf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Cx(e,t){if(t<=0)throw new Bf(zf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Nx=function(){function e(t){var n,r;if(v(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Bf(zf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Bf(zf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_x("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bx(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Bf(zf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Bf(zf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Bf(zf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return k(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Ax=function(){function e(t,n,r,i){v(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nx({}),this._settingsFrozen=!1}return k(e,[{key:"app",get:function(){if(!this._app)throw new Bf(zf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Bf(zf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Gf;switch(e.type){case"firstParty":return new Yf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Bf(zf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=wx.get(e);t&&(Df("ComponentProvider","Removing Datastore"),wx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Px(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Tx(e,Ax))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Mf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=Af.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[na(JSON.stringify({alg:"none",type:"JWT"})),na(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Bf(zf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Af(c)}e._authCredentials=new Wf(new Hf(u,s))}}var Ox=function(){function e(t,n,r){v(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return k(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Rx=function(){function e(t,n,r){v(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return k(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Dx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Dx=function(e){w(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,e,r,Vp(i)))._path=i,a.type="collection",a}return k(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Rx(this.firestore,null,new ch(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ox);function Lx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ca(e),xx("collection","path",t),e instanceof Ax){var a=oh.fromString.apply(oh,[t].concat(r));return Sx(a),new Dx(e,null,a)}if(!(e instanceof Rx||e instanceof Dx))throw new Bf(zf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(oh.fromString.apply(oh,[t].concat(r)));return Sx(o),new Dx(e.firestore,null,o)}function Mx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ca(e),1===arguments.length&&(t=$f.V()),xx("doc","path",t),e instanceof Ax){var a=oh.fromString.apply(oh,[t].concat(r));return Ix(a),new Rx(e,null,new ch(a))}if(!(e instanceof Rx||e instanceof Dx))throw new Bf(zf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(oh.fromString.apply(oh,[t].concat(r)));return Ix(o),new Rx(e.firestore,e instanceof Dx?e.converter:null,new ch(o))}function jx(e,t){return e=Ca(e),t=Ca(t),(e instanceof Rx||e instanceof Dx)&&(t instanceof Rx||t instanceof Dx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fx(e,t){return e=Ca(e),t=Ca(t),e instanceof Ox&&t instanceof Ox&&e.firestore===t.firestore&&Yp(e._query,t._query)&&e.converter===t.converter}var Vx=function(){function e(){var t=this;v(this,e),this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new Pk(this,"async_queue_retry"),this.ou=function(){var e=Nk();e&&Df("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ho.$o()};var n=Nk();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.ou)}return k(e,[{key:"isShuttingDown",get:function(){return this.eu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this._u(),this.au(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.eu){this.eu=!0,this.iu=e||!1;var t=Nk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}},{key:"enqueue",value:function(e){var t=this;if(this._u(),this.eu)return new Promise((function(){}));var n=new qf;return this.au((function(){return t.eu&&t.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Xa.push(e),t.uu()}))}},{key:"uu",value:function(){var e=Ji(Yi().mark((function e(){var t=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Xa.length){e.next=14;break}return e.prev=1,e.next=4,this.Xa[0]();case 4:this.Xa.shift(),this.Ho.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ch(e.t0)){e.next=12;break}throw e.t0;case 12:Df("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Xa.length>0&&this.Ho.Qo((function(){return t.uu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"au",value:function(e){var t=this,n=this.Za.then((function(){return t.ru=!0,e().catch((function(e){t.nu=e,t.ru=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Lf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.ru=!1,e}))}));return this.Za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this._u(),this.su.indexOf(e)>-1&&(t=0);var i=Sb.createAndSchedule(this,e,t,n,(function(e){return r.cu(e)}));return this.tu.push(i),i}},{key:"_u",value:function(){this.nu&&Ff()}},{key:"verifyOperationInProgress",value:function(){}},{key:"lu",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Za,e.next=3,t;case 3:if(t!==this.Za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t,n=N(this.tu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.lu().then((function(){t.tu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=N(t.tu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.lu()}))}},{key:"Iu",value:function(e){this.su.push(e)}},{key:"cu",value:function(e){var t=this.tu.indexOf(e);this.tu.splice(t,1)}}]),e}();function Ux(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=N(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var zx=function(){function e(){v(this,e),this._progressObserver={},this._taskCompletionResolver=new qf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return k(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Bx=function(e){w(n,e);var t=S(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Vx,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return k(n,[{key:"_terminate",value:function(){return this._firestoreClient||Hx(this),this._firestoreClient.terminate()}}]),n}(Ax);function qx(e){return e._firestoreClient||Hx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Hx(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Rd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,bx(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new tx(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Gx(e,t,n){var r=new qf;return e.asyncQueue.enqueue(Ji(Yi().mark((function i(){var a;return Yi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nx(e,n);case 3:return i.next=5,ix(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),ox(a=i.t0)){i.next=13;break}throw a;case 13:Mf("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Wx(e){return function(e){var t=new qf;return e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function n(){return Yi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=dw,n.next=3,px(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(qx(e=Tx(e,Bx)))}function Kx(e){return function(e){return e.asyncQueue.enqueue(Ji(Yi().mark((function t(){var n,r;return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fx(e);case 2:return n=t.sent,t.next=5,dx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Uf(e);return t.F_.delete(0),Fk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(qx(e=Tx(e,Bx)))}function Qx(e){return function(e){return e.asyncQueue.enqueue(Ji(Yi().mark((function t(){var n,r;return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fx(e);case 2:return n=t.sent,t.next=5,dx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Uf(t)).F_.add(0),e.next=4,Uk(n);case 4:n.O_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(qx(e=Tx(e,Bx)))}function Yx(e,t){var n=qx(e=Tx(e,Bx)),r=new zx;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Zw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Xw(e,t);if(e instanceof ArrayBuffer)return Xw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?rm().encode(e):e),t)}(n,Ak(t));e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function t(){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gw,t.next=3,px(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Xx(e,t){return function(e,t){return e.asyncQueue.enqueue(Ji(Yi().mark((function n(){return Yi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Uf(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ur.getNamedQuery(e,t)}))},n.next=3,hx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(qx(e=Tx(e,Bx)),t).then((function(t){return t?new Ox(e,null,t.query):null}))}function Jx(e){if(e._initialized||e._terminated)throw new Bf(zf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Zx=function(){function e(t){v(this,e),this._byteString=t}return k(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Sd.fromBase64String(t))}catch(t){throw new Bf(zf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Sd.fromUint8Array(t))}}]),e}(),$x=function(){function e(){v(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Bf(zf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sh(n)}return k(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var e_=k((function e(t){v(this,e),this._methodName=t})),t_=function(){function e(t,n){if(v(this,e),!isFinite(t)||t<-90||t>90)throw new Bf(zf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Bf(zf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return k(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return eh(this._lat,e._lat)||eh(this._long,e._long)}}]),e}(),n_=/^__.*__$/,r_=function(){function e(t,n,r){v(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Bv(e,this.data,this.fieldMask,t,this.fieldTransforms):new zv(e,this.data,t,this.fieldTransforms)}}]),e}(),i_=function(){function e(t,n,r){v(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return new Bv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function a_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ff()}}var o_=function(){function e(t,n,r,i,a,o){v(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.du(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return k(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Au",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.Vu(e),r}},{key:"mu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.du(),r}},{key:"fu",value:function(e){return this.Eu({path:void 0,Ru:!0})}},{key:"gu",value:function(e){return E_(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"du",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}},{key:"Vu",value:function(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(a_(this.Tu)&&n_.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}]),e}(),u_=function(){function e(t,n,r){v(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ak(t)}return k(e,[{key:"wu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new o_({Tu:e,methodName:t,yu:n,path:sh.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function s_(e){var t=e._freezeSettings(),n=Ak(e._databaseId);return new u_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function c_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wu(a.merge||a.mergeFields?2:0,t,n,i);x_("Data must be an object, but it was:",o,r);var u,s,c=b_(r,o);if(a.merge)u=new _d(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=N(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=__(t,l.value,n);if(!o.contains(d))throw new Bf(zf.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));T_(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new _d(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new r_(new np(c),u,s)}var l_=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.gu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(e_);function f_(e,t,n){return new o_({Tu:3,yu:t.settings.yu,methodName:e._methodName,Ru:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var h_=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){return new Pv(e.path,new _v)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(e_),d_=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).Su=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=f_(this,e,!0),n=this.Su.map((function(e){return k_(e,t)})),r=new Iv(n);return new Pv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(e_),p_=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).Su=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=f_(this,e,!0),n=this.Su.map((function(e){return k_(e,t)})),r=new Ev(n);return new Pv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(e_),v_=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e)).bu=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=new Cv(e.serializer,gv(e.serializer,this.bu));return new Pv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(e_);function m_(e,t,n,r){var i=e.wu(1,t,n);x_("Data must be an object, but it was:",i,r);var a=[],o=np.empty();vd(r,(function(e,r){var u=S_(t,e,n);r=Ca(r);var s=i.mu(u);if(r instanceof l_)a.push(u);else{var c=k_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new _d(a);return new i_(o,u,i.fieldTransforms)}function y_(e,t,n,r,i,a){var o=e.wu(1,t,n),u=[__(t,r,n)],s=[i];if(a.length%2!=0)throw new Bf(zf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(__(t,a[c])),s.push(a[c+1]);for(var l=[],f=np.empty(),h=u.length-1;h>=0;--h)if(!T_(l,u[h])){var d=u[h],p=s[h];p=Ca(p);var v=o.mu(d);if(p instanceof l_)l.push(d);else{var m=k_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new _d(l);return new i_(f,y,o.fieldTransforms)}function g_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return k_(n,e.wu(r?4:3,t))}function k_(e,t){if(w_(e=Ca(e)))return x_("Unsupported field value:",t,e),b_(e,t);if(e instanceof e_)return function(e,t){if(!a_(t.Tu))throw t.gu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&4!==t.Tu)throw t.gu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=N(e);try{for(a.s();!(n=a.n()).done;){var o=k_(n.value,t.fu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ca(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=rh.fromDate(e);return{timestampValue:_m(t.serializer,n)}}if(e instanceof rh){var r=new rh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_m(t.serializer,r)}}if(e instanceof t_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Zx)return{bytesValue:Im(t.serializer,e._byteString)};if(e instanceof Rx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.gu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Tm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.gu("Unsupported field value: ".concat(Ex(e)))}(e,t)}function b_(e,t){var n={};return md(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vd(e,(function(e,r){var i=k_(r,t.Au(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function w_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rh||e instanceof t_||e instanceof Zx||e instanceof Rx||e instanceof e_)}function x_(e,t,n){if(!w_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ex(n);throw"an object"===r?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function __(e,t,n){if((t=Ca(t))instanceof $x)return t._internalPath;if("string"==typeof t)return S_(e,t);throw E_("Field path arguments must be of type string or ",e,!1,void 0,n)}var I_=new RegExp("[~\\*/\\[\\]]");function S_(e,t,n){if(t.search(I_)>=0)throw E_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E($x,p(t.split(".")))._internalPath}catch(bu){throw E_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function E_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Bf(zf.INVALID_ARGUMENT,u+e+s)}function T_(e,t){return e.some((function(e){return e.isEqual(t)}))}var C_=function(){function e(t,n,r,i,a){v(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return k(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Rx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new N_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(A_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),N_=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){return ou(x(n.prototype),"data",this).call(this)}}]),n}(C_);function A_(e,t){return"string"==typeof t?S_(e,t):t instanceof $x?t._internalPath:t._delegate._internalPath}function P_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Bf(zf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var O_=k((function e(){v(this,e)})),R_=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n)}(O_);function D_(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof O_&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof M_})).length,n=e.filter((function(e){return e instanceof L_})).length;if(t>1||t>0&&n>0)throw new Bf(zf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=N(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var L_=function(e){w(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return k(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Q_(e._query,t),new Ox(e.firestore,e.converter,Kp(e._query,t))}},{key:"_parse",value:function(e){var t=s_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Bf(zf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){K_(o,a);var s,c=[],l=N(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(W_(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=W_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||K_(o,a),u=g_(n,t,o,"in"===a||"not-in"===a);return fp.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(R_);var M_=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return k(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:hp.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=N(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Q_(r,a),r=Kp(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Ox(e.firestore,e.converter,Kp(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(O_);var j_=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return k(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new sp(t,n);return function(e,t){if(null===zp(e)){var n=Bp(e);null!==n&&Y_(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Ox(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new jp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(R_);var F_=function(e){w(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return k(n,[{key:"_apply",value:function(e){return new Ox(e.firestore,e.converter,Qp(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(R_);var V_=function(e){w(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return k(n,[{key:"_apply",value:function(e){var t=G_(e,this.type,this._docOrFields,this._inclusive);return new Ox(e.firestore,e.converter,function(e,t){return new jp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(R_);function U_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return V_._create("startAt",t,!0)}function z_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return V_._create("startAfter",t,!1)}var B_=function(e){w(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return k(n,[{key:"_apply",value:function(e){var t=G_(e,this.type,this._docOrFields,this._inclusive);return new Ox(e.firestore,e.converter,function(e,t){return new jp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(R_);function q_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return B_._create("endBefore",t,!1)}function H_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return B_._create("endAt",t,!0)}function G_(e,t,n,r){if(n[0]=Ca(n[0]),n[0]instanceof C_)return function(e,t,n,r,i){if(!r)throw new Bf(zf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=N(Hp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Hd(t,r.key));else{var c=r.data.field(s.field);if(Ad(c))throw new Bf(zf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ap(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=s_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Bf(zf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!qp(e)&&-1!==c.indexOf("/"))throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(oh.fromString(c));if(!ch.isDocumentKey(l))throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ch(l);u.push(Hd(t,f))}else{var h=g_(n,r,c);u.push(h)}}return new ap(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function W_(e,t,n){if("string"==typeof(n=Ca(n))){if(""===n)throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qp(t)&&-1!==n.indexOf("/"))throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(oh.fromString(n));if(!ch.isDocumentKey(r))throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Hd(e,new ch(r))}if(n instanceof Rx)return Hd(e,n._key);throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ex(n),"."))}function K_(e,t){if(!Array.isArray(e)||0===e.length)throw new Bf(zf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Q_(e,t){if(t.isInequality()){var n=Bp(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=zp(e);null!==i&&Y_(e,r,i)}var a=function(e,t){var n,r=N(e);try{for(r.s();!(n=r.n()).done;){var i,a=N(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Bf(zf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Bf(zf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Y_(e,t,n){if(!n.isEqual(t))throw new Bf(zf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var X_=function(){function e(){v(this,e)}return k(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ff()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return vd(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new t_(Cd(e.latitude),Cd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Pd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Od(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Td(e);return new rh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=oh.fromString(e);Vf(Jm(n));var r=new Dd(n.get(1),n.get(3)),i=new ch(n.popFirst(5));return r.isEqual(t)||Lf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function J_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Z_=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new Zx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rx(this.firestore,null,t)}}]),n}(X_);var $_=function(){function e(t,n){v(this,e),this.hasPendingWrites=t,this.fromCache=n}return k(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),eI=function(e){w(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return v(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return k(n,[{key:"exists",value:function(){return ou(x(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new tI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(A_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(C_),tI=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ou(x(n.prototype),"data",this).call(this,e)}}]),n}(eI),nI=function(){function e(t,n,r,i){v(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new $_(i.hasPendingWrites,i.fromCache),this.query=r}return k(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new tI(n._firestore,n._userDataWriter,r.key,r,new $_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Bf(zf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new tI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new tI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:rI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function rI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ff()}}function iI(e,t){return e instanceof eI&&t instanceof eI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof nI&&t instanceof nI&&e._firestore===t._firestore&&Fx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var aI=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new Zx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rx(this.firestore,null,t)}}]),n}(X_);function oI(e){e=Tx(e,Rx);var t=Tx(e.firestore,Bx),n=qx(t),r=new aI(t);return function(e,t){var n=new qf;return e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function r(){return Yi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ji(Yi().mark((function e(t,n,r){var i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Uf(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Bf(zf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Eb(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new eI(t,r,e._key,n,new $_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function uI(e){e=Tx(e,Ox);var t=Tx(e.firestore,Bx),n=qx(t),r=new aI(t);return P_(e._query),kx(n,e._query).then((function(n){return new nI(t,r,e,n)}))}function sI(e){e=Tx(e,Ox);var t=Tx(e.firestore,Bx),n=qx(t),r=new aI(t);return function(e,t){var n=new qf;return e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function r(){return Yi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nk(t,n,!0);case 3:i=e.sent,a=new Wb(n,i.Ps),o=a.ha(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Eb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new nI(t,r,e,n)}))}function cI(e){e=Tx(e,Ox);var t=Tx(e.firestore,Bx),n=qx(t),r=new aI(t);return kx(n,e._query,{source:"server"}).then((function(n){return new nI(t,r,e,n)}))}function lI(e,t,n){e=Tx(e,Rx);var r=Tx(e.firestore,Bx),i=J_(e.converter,t,n);return pI(r,[c_(s_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Rv.none())])}function fI(e,t,n){e=Tx(e,Rx);for(var r=Tx(e.firestore,Bx),i=s_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return pI(r,[("string"==typeof(t=Ca(t))||t instanceof $x?y_(i,"updateDoc",e._key,t,n,o):m_(i,"updateDoc",e._key,t)).toMutation(e._key,Rv.exists(!0))])}function hI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ca(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Ux(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Ux(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Rx)l=Tx(e.firestore,Bx),f=Vp(e._key.path),c={next:function(t){n[s]&&n[s](vI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Tx(e,Ox);l=Tx(p.firestore,Bx),f=p._query;var v=new aI(l);c={next:function(e){n[s]&&n[s](new nI(l,v,p,e))},error:n[s+1],complete:n[s+2]},P_(e._query)}return function(e,t,n,r){var i=new Jw(r),a=new Vb(t,i,n);return e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function t(){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ob,t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.La(),e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function t(){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Db,t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qx(l),f,h,c)}function dI(e,t){return function(e,t){var n=new Jw(t);return e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function t(){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Uf(e).K_.add(t),t.next()},t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.La(),e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function t(){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Uf(e).K_.delete(t)},t.next=3,mx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qx(e=Tx(e,Bx)),Ux(t)?t:{next:t})}function pI(e,t){return function(e,t){var n=new qf;return e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function r(){return Yi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=nw,r.next=3,px(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(qx(e),t)}function vI(e,t,n){var r=n.docs.get(t._key),i=new aI(e);return new eI(e,i,t._key,r,new $_(n.hasPendingWrites,n.fromCache),t.converter)}var mI={maxAttempts:5},yI=function(){function e(t,n){v(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=s_(t)}return k(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=gI(e,this._firestore),i=J_(r.converter,t,n),a=c_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Rv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=gI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ca(t))||t instanceof $x?y_(this._dataReader,"WriteBatch.update",i._key,t,n,o):m_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Rv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=gI(e,this._firestore);return this._mutations=this._mutations.concat(new Qv(t._key,Rv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Bf(zf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function gI(e,t){if((e=Ca(e)).firestore!==t)throw new Bf(zf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var kI=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r))._firestore=e,i}return k(n,[{key:"get",value:function(e){var t=this,r=gI(e,this._firestore),i=new aI(this._firestore);return ou(x(n.prototype),"get",this).call(this,e).then((function(e){return new eI(t._firestore,i,r._key,e._document,new $_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){v(this,e),this._firestore=t,this._transaction=n,this._dataReader=s_(t)}return k(e,[{key:"get",value:function(e){var t=this,n=gI(e,this._firestore),r=new Z_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ff();var i=e[0];if(i.isFoundDocument())return new C_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new C_(t._firestore,r,n._key,null,n.converter);throw Ff()}))}},{key:"set",value:function(e,t,n){var r=gI(e,this._firestore),i=J_(r.converter,t,n),a=c_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=gI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ca(t))||t instanceof $x?y_(this._dataReader,"Transaction.update",i._key,t,n,o):m_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=gI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function bI(e,t,n){e=Tx(e,Bx);var r=Object.assign(Object.assign({},mI),n);return function(e){if(e.maxAttempts<1)throw new Bf(zf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new qf;return e.asyncQueue.enqueueAndForget(Ji(Yi().mark((function i(){var a;return Yi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,vx(e);case 2:a=i.sent,new ex(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(qx(e),(function(n){return t(new kI(e,n))}),r)}function wI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new d_("arrayUnion",t)}function xI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new p_("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Pf=e}(To),bo(new Na("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Bx(new Kf(e.getProvider("auth-internal")),new Jf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bf(zf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ro(Nf,"4.2.0",e),Ro(Nf,"4.2.0","esm2017")}();function _I(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Bf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function II(){if("undefined"===typeof Uint8Array)throw new Bf("unimplemented","Uint8Arrays are not available in this environment.")}function SI(){if("undefined"==typeof atob)throw new Bf("unimplemented","Blobs are unavailable in Firestore in this environment.")}var EI=function(){function e(t){v(this,e),this._delegate=t}return k(e,[{key:"toBase64",value:function(){return SI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return II(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return SI(),new e(Zx.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return II(),new e(Zx.fromUint8Array(t))}}]),e}();function TI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=N(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var CI=function(){function e(){v(this,e)}return k(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Jx(e=Tx(e,Bx));var n=qx(e);if(n._uninitializedComponentsProvider)throw new Bf(zf.FAILED_PRECONDITION,"SDK cache is already specified.");Mf("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new Yw;return Gx(n,i,new Kw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Jx(e=Tx(e,Bx));var t=qx(e);if(t._uninitializedComponentsProvider)throw new Bf(zf.FAILED_PRECONDITION,"SDK cache is already specified.");Mf("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new Yw;return Gx(t,r,new Qw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Bf(zf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new qf;return e._queue.enqueueAndForgetEvenWhileRestricted(Ji(Yi().mark((function n(){return Yi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sh.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Sh.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ug(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),NI=function(){function e(t,n,r){var i=this;v(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Dd||(this._appCompat=t)}return k(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Mf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Px(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Kx(this._delegate)}},{key:"disableNetwork",value:function(){return Qx(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&_x("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Wx(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return dI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Bf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new qI(this,Lx(this._delegate,e))}catch(YU){throw LI(YU,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new DI(this,Mx(this._delegate,e))}catch(YU){throw LI(YU,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new UI(this,function(e,t){if(e=Tx(e,Ax),xx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Bf(zf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ox(e,null,function(e){return new jp(oh.emptyPath(),e)}(t))}(this._delegate,e))}catch(YU){throw LI(YU,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return bI(this._delegate,(function(n){return e(new PI(t,n))}))}},{key:"batch",value:function(){var e=this;return qx(this._delegate),new OI(new yI(this._delegate,(function(t){return pI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Yx(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Xx(this._delegate,e).then((function(e){return e?new UI(t,e):null}))}}]),e}(),AI=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new EI(new Zx(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return DI.forKey(t,this.firestore,null)}}]),n}(X_);var PI=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new AI(t)}return k(e,[{key:"get",value:function(e){var t=this,n=HI(e);return this._delegate.get(n).then((function(e){return new FI(t._firestore,new eI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=HI(e);return n?(_I("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=HI(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=HI(e);return this._delegate.delete(t),this}}]),e}(),OI=function(){function e(t){v(this,e),this._delegate=t}return k(e,[{key:"set",value:function(e,t,n){var r=HI(e);return n?(_I("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=HI(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=HI(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),RI=function(){function e(t,n,r){v(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return k(e,[{key:"fromFirestore",value:function(e,t){var n=new tI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new VI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new AI(t),n),i.set(n,a)),a}}]),e}();RI.INSTANCES=new WeakMap;var DI=function(){function e(t,n){v(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new AI(t)}return k(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new qI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new qI(this.firestore,Lx(this._delegate,e))}catch(YU){throw LI(YU,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ca(e))instanceof Rx&&jx(this._delegate,e)}},{key:"set",value:function(e,t){t=_I("DocumentReference.set",t);try{return t?lI(this._delegate,e,t):lI(this._delegate,e)}catch(YU){throw LI(YU,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?fI(this._delegate,e):fI.apply(void 0,[this._delegate,e,t].concat(r))}catch(YU){throw LI(YU,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return pI(Tx((e=this._delegate).firestore,Bx),[new Qv(e._key,Rv.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=MI(n),a=jI(n,(function(t){return new FI(e.firestore,new eI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return hI(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?oI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Tx(e,Rx);var t=Tx(e.firestore,Bx);return gx(qx(t),e._key,{source:"server"}).then((function(n){return vI(t,e,n)}))}(this._delegate):function(e){e=Tx(e,Rx);var t=Tx(e.firestore,Bx);return gx(qx(t),e._key).then((function(n){return vI(t,e,n)}))}(this._delegate)).then((function(e){return new FI(t.firestore,new eI(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(RI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Bf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Rx(n._delegate,r,new ch(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Rx(n._delegate,r,t))}}]),e}();function LI(e,t,n){return e.message=e.message.replace(t,n),e}function MI(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!TI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function jI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=TI(e[0])?e[0]:TI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var FI=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"ref",get:function(){return new DI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return iI(this._delegate,e._delegate)}}]),e}(),VI=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||Ff(),t}}]),n}(FI),UI=function(){function e(t,n){v(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new AI(t)}return k(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,D_(this._delegate,function(e,t,n){var r=t,i=A_("where",e);return L_._create(i,r,n)}(t,n,r)))}catch(YU){throw LI(YU,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,D_(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=A_("orderBy",e);return j_._create(n,t)}(t,n)))}catch(YU){throw LI(YU,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,D_(this._delegate,(Cx("limit",n=t),F_._create("limit",n,"F"))))}catch(n){throw LI(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,D_(this._delegate,(Cx("limitToLast",n=t),F_._create("limitToLast",n,"L"))))}catch(n){throw LI(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,D_(this._delegate,U_.apply(void 0,arguments)))}catch(YU){throw LI(YU,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,D_(this._delegate,z_.apply(void 0,arguments)))}catch(YU){throw LI(YU,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,D_(this._delegate,q_.apply(void 0,arguments)))}catch(YU){throw LI(YU,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,D_(this._delegate,H_.apply(void 0,arguments)))}catch(YU){throw LI(YU,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Fx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?sI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?cI(this._delegate):uI(this._delegate)).then((function(e){return new BI(t.firestore,new nI(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=MI(n),a=jI(n,(function(t){return new BI(e.firestore,new nI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return hI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(RI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),zI=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new VI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),BI=function(){function e(t,n){v(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"query",get:function(){return new UI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new VI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new zI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new VI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return iI(this._delegate,e._delegate)}}]),e}(),qI=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return k(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new DI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new DI(this.firestore,void 0===e?Mx(this._delegate):Mx(this._delegate,e))}catch(YU){throw LI(YU,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Tx(e.firestore,Bx),r=Mx(e),i=J_(e.converter,t);return pI(n,[c_(s_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Rv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new DI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return jx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(RI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(UI);function HI(e){return Tx(e,Rx)}var GI,WI=function(){function e(){v(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=E($x,n)}return k(e,[{key:"isEqual",value:function(e){return(e=Ca(e))instanceof $x&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(sh.keyField().canonicalString())}}]),e}(),KI=function(){function e(t){v(this,e),this._delegate=t}return k(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new h_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new l_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=wI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=xI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new v_("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),QI={Firestore:NI,GeoPoint:t_,Timestamp:rh,Blob:EI,Transaction:PI,WriteBatch:OI,DocumentReference:DI,DocumentSnapshot:FI,Query:UI,QueryDocumentSnapshot:VI,QuerySnapshot:BI,CollectionReference:qI,FieldPath:WI,FieldValue:KI,setLogLevel:function(e){var t;t=e,Of.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Na("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},QI)))})(GI=au,(function(e,t){return new NI(e,t,new CI)})),GI.registerVersion("@firebase/firestore-compat","0.3.18");function YI(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var XI,JI={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ZI="EMAIL_SIGNIN",$I="PASSWORD_RESET",eS="RECOVER_EMAIL",tS="REVERT_SECOND_FACTOR_ADDITION",nS="VERIFY_AND_CHANGE_EMAIL",rS="VERIFY_EMAIL";function iS(e){return void 0!==e&&void 0!==e.getResponse}function aS(e){return void 0!==e&&void 0!==e.enterprise}var oS=k((function e(t){if(v(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function uS(){return Zi({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var sS=function(){var e;return Zi(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Zi(e,"argument-error",""),Zi(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Zi(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Zi(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Zi(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Zi(e,"cordova-not-ready","Cordova framework is not ready."),Zi(e,"cors-unsupported","This browser is not supported."),Zi(e,"credential-already-in-use","This credential is already associated with a different user account."),Zi(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Zi(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Zi(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Zi(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Zi(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Zi(e,"email-already-in-use","The email address is already in use by another account."),Zi(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Zi(e,"expired-action-code","The action code has expired."),Zi(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Zi(e,"internal-error","An internal AuthError has occurred."),Zi(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Zi(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Zi(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Zi(e,"invalid-auth-event","An internal AuthError has occurred."),Zi(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Zi(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Zi(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Zi(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Zi(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Zi(e,"invalid-email","The email address is badly formatted."),Zi(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Zi(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Zi(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Zi(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Zi(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Zi(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Zi(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Zi(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Zi(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Zi(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Zi(e,"wrong-password","The password is invalid or the user does not have a password."),Zi(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Zi(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Zi(e,"invalid-provider-id","The specified provider ID is invalid."),Zi(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Zi(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Zi(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Zi(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Zi(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Zi(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Zi(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Zi(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Zi(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Zi(e,"missing-continue-uri","A continue URL must be provided in the request."),Zi(e,"missing-iframe-start","An internal AuthError has occurred."),Zi(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Zi(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Zi(e,"missing-password","A non-empty password must be provided"),Zi(e,"missing-multi-factor-info","No second factor identifier is provided."),Zi(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Zi(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Zi(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Zi(e,"app-deleted","This instance of FirebaseApp has been deleted."),Zi(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Zi(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Zi(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Zi(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Zi(e,"no-auth-event","An internal AuthError has occurred."),Zi(e,"no-such-provider","User was not linked to an account with the given provider."),Zi(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Zi(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Zi(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Zi(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Zi(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Zi(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Zi(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Zi(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Zi(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Zi(e,"rejected-credential","The request contains malformed or mismatching credentials."),Zi(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Zi(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Zi(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Zi(e,"timeout","The operation has timed out."),Zi(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Zi(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Zi(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Zi(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Zi(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Zi(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Zi(e,"unverified-email","The operation requires a verified email."),Zi(e,"user-cancelled","The user did not grant your application the permissions it requested."),Zi(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Zi(e,"user-disabled","The user account has been disabled by an administrator."),Zi(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Zi(e,"user-signed-out",""),Zi(e,"weak-password","The password must be 6 characters long or more."),Zi(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Zi(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Zi(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Zi(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Zi(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Zi(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Zi(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Zi(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Zi(e,"invalid-req-type","Invalid request parameters."),Zi(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),Zi(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),Zi(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},cS=uS,lS=new ma("auth","Firebase",uS()),fS=new Ua("@firebase/auth");function hS(e){if(fS.logLevel<=Ra.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fS.warn.apply(fS,["Auth (".concat(To,"): ").concat(e)].concat(n))}}function dS(e){if(fS.logLevel<=Ra.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fS.error.apply(fS,["Auth (".concat(To,"): ").concat(e)].concat(n))}}function pS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gS.apply(void 0,[e].concat(n))}function vS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gS.apply(void 0,[e].concat(n))}function mS(e,t,n){var r=Object.assign(Object.assign({},cS()),Zi({},t,n));return new ma("auth","Firebase",r).create(t,{appName:e.name})}function yS(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&pS(e,"argument-error"),mS(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function gS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=p(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(p(o)))}return lS.create.apply(lS,[e].concat(n))}function kS(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw gS.apply(void 0,[t].concat(r))}}function bS(e){var t="INTERNAL ASSERTION FAILED: "+e;throw dS(t),new Error(t)}function wS(e,t){e||bS(t)}function xS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _S(){return"http:"===IS()||"https:"===IS()}function IS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var SS=function(){function e(t,n){v(this,e),this.shortDelay=t,this.longDelay=n,wS(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ca())||ha()}return k(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_S()||fa()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ES(e,t){wS(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var TS=function(){function e(){v(this,e)}return k(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void bS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void bS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void bS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),CS=(Zi(XI={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Zi(XI,"MISSING_CUSTOM_TOKEN","internal-error"),Zi(XI,"INVALID_IDENTIFIER","invalid-email"),Zi(XI,"MISSING_CONTINUE_URI","internal-error"),Zi(XI,"INVALID_PASSWORD","wrong-password"),Zi(XI,"MISSING_PASSWORD","missing-password"),Zi(XI,"EMAIL_EXISTS","email-already-in-use"),Zi(XI,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Zi(XI,"INVALID_IDP_RESPONSE","invalid-credential"),Zi(XI,"INVALID_PENDING_TOKEN","invalid-credential"),Zi(XI,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Zi(XI,"MISSING_REQ_TYPE","internal-error"),Zi(XI,"EMAIL_NOT_FOUND","user-not-found"),Zi(XI,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Zi(XI,"EXPIRED_OOB_CODE","expired-action-code"),Zi(XI,"INVALID_OOB_CODE","invalid-action-code"),Zi(XI,"MISSING_OOB_CODE","internal-error"),Zi(XI,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Zi(XI,"INVALID_ID_TOKEN","invalid-user-token"),Zi(XI,"TOKEN_EXPIRED","user-token-expired"),Zi(XI,"USER_NOT_FOUND","user-token-expired"),Zi(XI,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Zi(XI,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),Zi(XI,"INVALID_CODE","invalid-verification-code"),Zi(XI,"INVALID_SESSION_INFO","invalid-verification-id"),Zi(XI,"INVALID_TEMPORARY_PROOF","invalid-credential"),Zi(XI,"MISSING_SESSION_INFO","missing-verification-id"),Zi(XI,"SESSION_EXPIRED","code-expired"),Zi(XI,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Zi(XI,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Zi(XI,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Zi(XI,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Zi(XI,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Zi(XI,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Zi(XI,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Zi(XI,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Zi(XI,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Zi(XI,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Zi(XI,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Zi(XI,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Zi(XI,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Zi(XI,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Zi(XI,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Zi(XI,"MISSING_CLIENT_TYPE","missing-client-type"),Zi(XI,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Zi(XI,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Zi(XI,"INVALID_REQ_TYPE","invalid-req-type"),XI),NS=new SS(3e4,6e4);function AS(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function PS(e,t,n,r){return OS.apply(this,arguments)}function OS(){return OS=Ji(Yi().mark((function e(t,n,r,i){var a,o=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",RS(t,a,Ji(Yi().mark((function e(){var a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=xa(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",TS.fetch()(jS(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function RS(e,t,n){return DS.apply(this,arguments)}function DS(){return DS=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},CS),n),e.prev=2,a=new FS(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw VS(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw VS(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw VS(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw VS(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw mS(t,p,d);case 34:pS(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof va)){e.next=41;break}throw e.t0;case 41:pS(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),DS.apply(this,arguments)}function LS(e,t,n,r){return MS.apply(this,arguments)}function MS(){return MS=Ji(Yi().mark((function e(t,n,r,i){var a,o,u=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,PS(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&pS(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function jS(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ES(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var FS=function(){function e(t){var n=this;v(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(vS(n.auth,"network-request-failed"))}),NS.get())}))}return k(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function VS(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=vS(e,t,r);return i.customData._tokenResponse=n,i}function US(e){return zS.apply(this,arguments)}function zS(){return zS=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PS(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function BS(e,t){return qS.apply(this,arguments)}function qS(){return qS=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"GET","/v2/recaptchaConfig",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function HS(e,t){return GS.apply(this,arguments)}function GS(){return GS=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function WS(e,t){return KS.apply(this,arguments)}function KS(){return KS=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function QS(e,t){return YS.apply(this,arguments)}function YS(){return YS=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function XS(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(YU){}}function JS(){return JS=Ji(Yi().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ca(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,kS((a=$S(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:XS(ZS(a.auth_time)),issuedAtTime:XS(ZS(a.iat)),expirationTime:XS(ZS(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e){return 1e3*Number(e)}function $S(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return dS("JWT malformed, contained fewer than 3 sections"),null;try{var a=ra(r);return a?JSON.parse(a):(dS("Failed to decode base64 JWT payload"),null)}catch(YU){return dS("Caught error parsing JWT payload as JSON",null===YU||void 0===YU?void 0:YU.toString()),null}}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=Ji(Yi().mark((function e(t,n){var r=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof va&&nE(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),tE.apply(this,arguments)}function nE(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var rE=function(){function e(t){v(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return k(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ji(Yi().mark((function t(){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),iE=function(){function e(t,n){v(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return k(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=XS(this.lastLoginAt),this.creationTime=XS(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function aE(e){return oE.apply(this,arguments)}function oE(){return oE=Ji(Yi().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,eE(t,QS(r,{idToken:i}));case 6:kS(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?cE(o.providerUserInfo):[],s=sE(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new iE(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function uE(){return(uE=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ca(t),e.next=3,aE(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sE(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(p(n),p(t))}function cE(e){return e.map((function(e){var t=e.providerId,n=YI(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RS(t,{},Ji(Yi().mark((function e(){var r,i,a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xa({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=jS(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",TS.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}var hE=function(){function e(){v(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return k(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){kS(e.idToken,"internal-error"),kS("undefined"!==typeof e.idToken,"internal-error"),kS("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$S(e);return kS(t,"internal-error"),kS("undefined"!==typeof t.exp,"internal-error"),kS("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ji(Yi().mark((function e(t){var n,r=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],kS(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ji(Yi().mark((function e(t,n){var r,i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lE(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return bS("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(kS("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(kS("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(kS("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function dE(e,t){kS("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var pE=function(){function e(t){v(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=YI(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?p(a.providerData):[],this.metadata=new iE(a.createdAt||void 0,a.lastLoginAt||void 0)}return k(e,[{key:"getIdToken",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eE(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(kS(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return JS.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return uE.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(kS(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){kS(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ji(Yi().mark((function e(t){var n,r,i=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,aE(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,eE(this,HS(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;kS(k&&_,t,"internal-error");var I=hE.fromJSON(this.name,_);kS("string"===typeof k,t,"internal-error"),dE(f,t.name),dE(h,t.name),kS("boolean"===typeof b,t,"internal-error"),kS("boolean"===typeof w,t,"internal-error"),dE(d,t.name),dE(p,t.name),dE(v,t.name),dE(m,t.name),dE(y,t.name),dE(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Ji(Yi().mark((function t(n,r){var i,a,o,u=arguments;return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new hE).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,aE(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),vE=new Map;function mE(e){wS(e instanceof Function,"Expected a class definition");var t=vE.get(e);return t?(wS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vE.set(e,t),t)}var yE=function(){function e(){v(this,e),this.type="NONE",this.storage={}}return k(e,[{key:"_isAvailable",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();yE.type="NONE";var gE=yE;function kE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var bE=function(){function e(t,n,r){v(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=kE(this.userKey,a.apiKey,o),this.fullPersistenceKey=kE("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return k(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?pE._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ji(Yi().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(mE(gE),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||mE(gE),u=kE(i,n.config.apiKey,n.name),s=null,c=N(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=pE._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function wE(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(SE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TE(t))return"Blackberry";if(CE(t))return"Webos";if(_E(t))return"Safari";if((t.includes("chrome/")||IE(t))&&!t.includes("edge/"))return"Chrome";if(EE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function xE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/firefox\//i.test(e)}function _E(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/crios\//i.test(e)}function SE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/iemobile/i.test(e)}function EE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/android/i.test(e)}function TE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/blackberry/i.test(e)}function CE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/webos/i.test(e)}function NE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function AE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return NE(e)||EE(e)||CE(e)||TE(e)||/windows phone/i.test(e)||SE(e)}function PE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wE(ca());break;case"Worker":t="".concat(wE(ca()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(To,"/").concat(r)}var OE=function(){function e(t){v(this,e),this.auth=t,this.queue=[]}return k(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(YU){r(YU)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ji(Yi().mark((function e(t){var n,r,i,a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=N(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=N(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function RE(e){return DE.apply(this,arguments)}function DE(){return DE=Ji(Yi().mark((function e(t){var n,r=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",PS(t,"GET","/v2/passwordPolicy",AS(t,n)));case 2:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}var LE=function(){function e(t){var n,r,i,a;v(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return k(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),ME=function(){function e(t,n,r,i){v(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new OE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return k(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=mE(t)),this._initializationPromise=this.queue(Ji(Yi().mark((function r(){var i,a;return Yi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,bE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ji(Yi().mark((function e(t){var n,r,i,a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return kS(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aE(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ca(t):null)&&kS(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ji(Yi().mark((function e(t){var n,r=this,i=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&kS(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ji(Yi().mark((function n(){return Yi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(mE(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=Ji(Yi().mark((function e(){var t,n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RE(this);case 2:t=e.sent,n=new LE(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ma("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return kS(n=t&&mE(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,bE.create(this,[mE(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ji(Yi().mark((function e(t){var n=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(kS(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return kS(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PE(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zi({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ji(Yi().mark((function e(){var t,n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&hS("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jE(e){return Ca(e)}var FE=function(){function e(t){var n=this;v(this,e),this.auth=t,this.observer=null,this.addObserver=Sa((function(e){return n.observer=e}))}return k(e,[{key:"next",get:function(){return kS(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function VE(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=vS("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function UE(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var zE=function(){function e(t){v(this,e),this.type="recaptcha-enterprise",this.auth=jE(t)}return k(e,[{key:"verify",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;aS(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Ji(Yi().mark((function e(n,r){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:BS(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new oS(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&aS(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));VE("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function BE(e,t,n){return qE.apply(this,arguments)}function qE(){return qE=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new zE(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),qE.apply(this,arguments)}function HE(e,t,n){var r=jE(e);kS(r._canInitEmulator,r,"emulator-config-failed"),kS(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=GE(t),o=function(e){var t=GE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:WE(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:WE(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function GE(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function WE(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var KE=function(){function e(t,n){v(this,e),this.providerId=t,this.signInMethod=n}return k(e,[{key:"toJSON",value:function(){return bS("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return bS("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return bS("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return bS("not implemented")}}]),e}();function QE(e,t){return YE.apply(this,arguments)}function YE(){return YE=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:resetPassword",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function XE(e,t){return JE.apply(this,arguments)}function JE(){return JE=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function ZE(e,t){return $E.apply(this,arguments)}function $E(){return $E=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:update",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LS(t,"POST","/v1/accounts:signInWithPassword",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){return rT.apply(this,arguments)}function rT(){return rT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:sendOobCode",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return aT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nT(t,n));case 1:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e,t){return uT.apply(this,arguments)}function uT(){return uT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nT(t,n));case 1:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e,t){return cT.apply(this,arguments)}function cT(){return cT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nT(t,n));case 1:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e,t){return fT.apply(this,arguments)}function fT(){return fT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nT(t,n));case 1:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function hT(e,t){return dT.apply(this,arguments)}function dT(){return dT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LS(t,"POST","/v1/accounts:signInWithEmailLink",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),dT.apply(this,arguments)}function pT(e,t){return vT.apply(this,arguments)}function vT(){return vT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LS(t,"POST","/v1/accounts:signInWithEmailLink",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}var mT=function(e){w(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return k(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ji(Yi().mark((function e(t){var n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,BE(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",eT(t,i));case 11:return e.abrupt("return",eT(t,r).catch(function(){var e=Ji(Yi().mark((function e(n){var i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,BE(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",eT(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",hT(t,{email:this._email,oobCode:this._password}));case 13:pS(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",XE(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",pT(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:pS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(KE);function yT(e,t){return gT.apply(this,arguments)}function gT(){return gT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LS(t,"POST","/v1/accounts:signInWithIdp",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),gT.apply(this,arguments)}var kT=function(e){w(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return k(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return yT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,yT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,yT(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xa(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pS("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=YI(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(KE);function bT(e,t){return wT.apply(this,arguments)}function wT(){return wT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:sendVerificationCode",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function xT(){return xT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LS(t,"POST","/v1/accounts:signInWithPhoneNumber",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function _T(){return _T=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LS(t,"POST","/v1/accounts:signInWithPhoneNumber",AS(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw VS(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}var IT=Zi({},"USER_NOT_FOUND","user-not-found");function ST(){return ST=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",LS(t,"POST","/v1/accounts:signInWithPhoneNumber",AS(t,r),IT));case 2:case"end":return e.stop()}}),e)}))),ST.apply(this,arguments)}var ET=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,"phone","phone")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return xT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return _T.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ST.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(KE);var TT=function(){function e(t){var n,r,i,a,o,u;v(this,e);var s=_a(Ia(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);kS(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return k(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=_a(Ia(e)).link,n=t?_a(Ia(t)).deep_link_id:null,r=_a(Ia(e)).deep_link_id;return(r?_a(Ia(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var CT=function(){function e(){v(this,e),this.providerId=e.PROVIDER_ID}return k(e,null,[{key:"credential",value:function(e,t){return mT._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=TT.parseLink(t);return kS(n,"argument-error"),mT._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();CT.PROVIDER_ID="password",CT.EMAIL_PASSWORD_SIGN_IN_METHOD="password",CT.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var NT=function(){function e(t){v(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return k(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),AT=function(e){w(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).scopes=[],e}return k(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return p(this.scopes)}}]),n}(NT),PT=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.apply(this,arguments)}return k(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return kS(e.idToken||e.accessToken,"argument-error"),kT._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return kS("providerId"in t&&"signInMethod"in t,"argument-error"),kT._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(YU){return null}}}]),n}(AT),OT=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.call(this,"facebook.com")}return k(n,null,[{key:"credential",value:function(e){return kT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(AT);OT.FACEBOOK_SIGN_IN_METHOD="facebook.com",OT.PROVIDER_ID="facebook.com";var RT=function(e){w(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return k(n,null,[{key:"credential",value:function(e,t){return kT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(AT);RT.GOOGLE_SIGN_IN_METHOD="google.com",RT.PROVIDER_ID="google.com";var DT=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.call(this,"github.com")}return k(n,null,[{key:"credential",value:function(e){return kT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(AT);DT.GITHUB_SIGN_IN_METHOD="github.com",DT.PROVIDER_ID="github.com";var LT=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return k(n,[{key:"_getIdTokenResponse",value:function(e){return yT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,yT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,yT(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(KE),MT=function(e){w(n,e);var t=S(n);function n(e){return v(this,n),kS(e.startsWith("saml."),"argument-error"),t.call(this,e)}return k(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=LT.fromJSON(e);return kS(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return LT._create(r,n)}catch(YU){return null}}}]),n}(NT),jT=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.call(this,"twitter.com")}return k(n,null,[{key:"credential",value:function(e,t){return kT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(AT);function FT(e,t){return VT.apply(this,arguments)}function VT(){return VT=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LS(t,"POST","/v1/accounts:signUp",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}jT.TWITTER_SIGN_IN_METHOD="twitter.com",jT.PROVIDER_ID="twitter.com";var UT=function(){function e(t){v(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return k(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ji(Yi().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,pE._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=zT(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ji(Yi().mark((function t(n,r,i){var a;return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=zT(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function zT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function BT(){return BT=Ji(Yi().mark((function e(t){var n,r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jE(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new UT({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,FT(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,UT._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),BT.apply(this,arguments)}var qT=function(e){w(n,e);var t=S(n);function n(e,r,i,a){var o,u;return v(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(I(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return k(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(va);function HT(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw qT._fromErrorAndOperation(e,n,t,r);throw n}))}function GT(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function WT(e,t){return KT.apply(this,arguments)}function KT(){return KT=Ji(Yi().mark((function e(t,n){var r,i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ca(t),e.next=3,XT(!0,r,n);case 3:return e.t0=WS,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=GT(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),KT.apply(this,arguments)}function QT(e,t){return YT.apply(this,arguments)}function YT(){return YT=Ji(Yi().mark((function e(t,n){var r,i,a=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=eE,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",UT._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}function XT(e,t,n){return JT.apply(this,arguments)}function JT(){return(JT=Ji(Yi().mark((function e(t,n,r){var i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aE(n);case 2:i=GT(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",kS(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZT(e,t){return $T.apply(this,arguments)}function $T(){return $T=Ji(Yi().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,eE(t,HT(i,a,n,t),r);case 6:return kS((o=e.sent).idToken,i,"internal-error"),kS(u=$S(o.idToken),i,"internal-error"),s=u.sub,kS(t.uid===s,i,"user-mismatch"),e.abrupt("return",UT._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&pS(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),$T.apply(this,arguments)}function eC(e,t){return tC.apply(this,arguments)}function tC(){return tC=Ji(Yi().mark((function e(t,n){var r,i,a,o,u=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,HT(t,i,n);case 4:return a=e.sent,e.next=7,UT._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t){return rC.apply(this,arguments)}function rC(){return rC=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eC(jE(t),n));case 1:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e,t){return aC.apply(this,arguments)}function aC(){return(aC=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ca(t),e.next=3,XT(!1,r,n.providerId);case 3:return e.abrupt("return",QT(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oC(e,t){return uC.apply(this,arguments)}function uC(){return(uC=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZT(Ca(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sC(e,t){return cC.apply(this,arguments)}function cC(){return cC=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LS(t,"POST","/v1/accounts:signInWithCustomToken",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),cC.apply(this,arguments)}function lC(){return lC=Ji(Yi().mark((function e(t,n){var r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jE(t),e.next=3,sC(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,UT._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}var fC=function(){function e(t,n){v(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return k(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?hC._fromServerResponse(e,t):"totpInfo"in t?dC._fromServerResponse(e,t):pS(e,"internal-error")}}]),e}(),hC=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return k(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(fC),dC=function(e){w(n,e);var t=S(n);function n(e){return v(this,n),t.call(this,"totp",e)}return k(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(fC);function pC(e,t,n){var r;kS((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),kS("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(kS(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(kS(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function vC(e){return mC.apply(this,arguments)}function mC(){return mC=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=jE(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function yC(e,t,n){return gC.apply(this,arguments)}function gC(){return gC=Ji(Yi().mark((function e(t,n,r){var i,a,o,u;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=jE(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,BE(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&pC(a,u,r),e.next=9,oT(a,u);case 9:e.next=14;break;case 11:return r&&pC(a,o,r),e.next=14,oT(a,o).catch(function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,BE(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&pC(a,n,r),e.next=8,oT(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}function kC(){return kC=Ji(Yi().mark((function e(t,n,r){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QE(Ca(t),{oobCode:n,newPassword:r}).catch(function(){var e=Ji(Yi().mark((function e(n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&vC(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function bC(){return bC=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZE(Ca(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function wC(e,t){return xC.apply(this,arguments)}function xC(){return xC=Ji(Yi().mark((function e(t,n){var r,i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ca(t),e.next=3,QE(r,{oobCode:n});case 3:i=e.sent,kS(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return kS(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:kS(i.mfaInfo,r,"internal-error");case 13:kS(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=fC._fromServerResponse(jE(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}function _C(){return _C=Ji(Yi().mark((function e(t,n){var r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wC(Ca(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function IC(e,t,n){return SC.apply(this,arguments)}function SC(){return SC=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s,c,l;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=jE(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,BE(a,o,"signUpPassword");case 5:s=e.sent,u=FT(a,s),e.next=10;break;case 9:u=FT(a,o).catch(function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,BE(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",FT(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&vC(t),e}));case 12:return c=e.sent,e.next=15,UT._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),SC.apply(this,arguments)}function EC(){return EC=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){kS(t.handleCodeInApp,a,"argument-error"),t&&pC(a,e,t)},a=jE(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,BE(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,sT(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,sT(a,o).catch(function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,BE(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,sT(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}function TC(){return TC=Ji(Yi().mark((function e(t,n,r){var i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ca(t),kS((a=CT.credentialWithLink(n,r||xS()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",nC(i,a));case 4:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e,t){return NC.apply(this,arguments)}function NC(){return NC=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:createAuthUri",AS(t,n)));case 1:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function AC(){return AC=Ji(Yi().mark((function e(t,n){var r,i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_S()?xS():"http://localhost",i={identifier:n,continueUri:r},e.next=4,CC(Ca(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),AC.apply(this,arguments)}function PC(){return(PC=Ji(Yi().mark((function e(t,n){var r,i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ca(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&pC(r.auth,a,n),e.next=8,iT(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OC(){return(OC=Ji(Yi().mark((function e(t,n,r){var i,a,o,u;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ca(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&pC(i.auth,o,r),e.next=8,lT(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RC(e,t){return DC.apply(this,arguments)}function DC(){return DC=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),DC.apply(this,arguments)}function LC(){return(LC=Ji(Yi().mark((function e(t,n){var r,i,a,o,u,s,c;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ca(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,eE(a,RC(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MC(e,t,n){return jC.apply(this,arguments)}function jC(){return jC=Ji(Yi().mark((function e(t,n,r){var i,a,o,u;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,eE(t,XE(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),jC.apply(this,arguments)}var FC=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),VC=function(e){w(n,e);var t=S(n);function n(e,r,i,a){var o;return v(this,n),(o=t.call(this,e,r,i)).username=a,o}return k(n)}(FC),UC=function(e){w(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"facebook.com",r)}return k(n)}(FC),zC=function(e){w(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return k(n)}(VC),BC=function(e){w(n,e);var t=S(n);function n(e,r){return v(this,n),t.call(this,e,"google.com",r)}return k(n)}(FC),qC=function(e){w(n,e);var t=S(n);function n(e,r,i){return v(this,n),t.call(this,e,"twitter.com",r,i)}return k(n)}(VC);function HC(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=$S(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new FC(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new UC(a,i);case"github.com":return new zC(a,i);case"google.com":return new BC(a,i);case"twitter.com":return new qC(a,i,e.screenName||null);case"custom":case"anonymous":return new FC(a,null);default:return new FC(a,r,i)}}(n)}var GC=function(){function e(t,n,r){v(this,e),this.type=t,this.credential=n,this.user=r}return k(e,[{key:"toJSON",value:function(){return{multiFactorSession:Zi({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),WC=function(){function e(t,n,r){v(this,e),this.session=t,this.hints=n,this.signInResolver=r}return k(e,[{key:"resolveSignIn",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=jE(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return fC._fromServerResponse(r,e)}));kS(i.mfaPendingCredential,r,"internal-error");var o=GC._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ji(Yi().mark((function e(t){var a,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,UT._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return kS(n.user,r,"internal-error"),e.abrupt("return",UT._forOperation(n.user,n.operationType,u));case 17:pS(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function KC(e,t){return PS(e,"POST","/v2/accounts/mfaEnrollment:start",AS(e,t))}function QC(e,t){return PS(e,"POST","/v2/accounts/mfaEnrollment:start",AS(e,t))}function YC(e,t){return PS(e,"POST","/v2/accounts/mfaEnrollment:finalize",AS(e,t))}function XC(e,t){return PS(e,"POST","/v2/accounts/mfaEnrollment:withdraw",AS(e,t))}var JC=function(){function e(t){var n=this;v(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return fC._fromServerResponse(t.auth,e)})))}))}return k(e,[{key:"getSession",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=GC,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ji(Yi().mark((function e(t,n){var r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,eE(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ji(Yi().mark((function e(t){var n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,eE(this.user,XC(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ZC=new WeakMap;var $C="__sak",eN=function(){function e(t,n){v(this,e),this.storageRetriever=t,this.type=n}return k(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem($C,"1"),this.storage.removeItem($C),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var tN=function(e){w(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ca();return _E(e)||NE(e)}()&&function(){try{return!(!window||window===window.top)}catch(YU){return!1}}(),e.fallbackToPolling=AE(),e._shouldAllowMigration=!0,e}return k(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);da()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ji(Yi().mark((function e(t,r){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(x(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ji(Yi().mark((function e(t){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(x(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(x(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(eN);tN.type="LOCAL";var nN=tN,rN=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return k(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(eN);rN.type="SESSION";var iN=rN;function aN(e){return Promise.all(e.map(function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var oN=function(){function e(t){v(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return k(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ji(Yi().mark((function e(t){var n,r,i,a,o,u,s,c;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,aN(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function uN(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}oN.receivers=[];var sN=function(){function e(t){v(this,e),this.target=t,this.handlers=new Set}return k(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ji(Yi().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=uN("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function cN(){return window}function lN(e){cN().location.href=e}function fN(){return"undefined"!==typeof cN().WorkerGlobalScope&&"function"===typeof cN().importScripts}function hN(){return dN.apply(this,arguments)}function dN(){return(dN=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function pN(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var vN="firebaseLocalStorageDb",mN="firebaseLocalStorage",yN="fbase_key",gN=function(){function e(t){v(this,e),this.request=t}return k(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function kN(e,t){return e.transaction([mN],t?"readwrite":"readonly").objectStore(mN)}function bN(){var e=indexedDB.deleteDatabase(vN);return new gN(e).toPromise()}function wN(){var e=indexedDB.open(vN,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(mN,{keyPath:yN})}catch(YU){n(YU)}})),e.addEventListener("success",Ji(Yi().mark((function n(){var r;return Yi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(mN)){n.next=12;break}return r.close(),n.next=5,bN();case 5:return n.t0=t,n.next=8,wN();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function xN(e,t,n){return _N.apply(this,arguments)}function _N(){return _N=Ji(Yi().mark((function e(t,n,r){var i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=kN(t,!0).put((Zi(i={},yN,n),Zi(i,"value",r),i)),e.abrupt("return",new gN(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),_N.apply(this,arguments)}function IN(e,t){return SN.apply(this,arguments)}function SN(){return SN=Ji(Yi().mark((function e(t,n){var r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kN(t,!1).get(n),e.next=3,new gN(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),SN.apply(this,arguments)}function EN(e,t){var n=kN(e,!0).delete(t);return new gN(n).toPromise()}var TN=function(){function e(){v(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return k(e,[{key:"_openDb",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,wN();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fN()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ji(Yi().mark((function e(){var t=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=oN._getInstance(fN()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ji(Yi().mark((function e(n,r){var i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hN();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new sN(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&pN()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,wN();case 5:return t=e.sent,e.next=8,xN(t,$C,"1");case 8:return e.next=10,EN(t,$C);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ji(Yi().mark((function e(t,n){var r=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return xN(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return IN(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ji(Yi().mark((function e(t){var n=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return EN(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=kN(e,!1).getAll();return new gN(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=N(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ji(Yi().mark((function t(){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();TN.type="LOCAL";var CN=TN;function NN(e,t){return PS(e,"POST","/v2/accounts/mfaSignIn:start",AS(e,t))}function AN(e,t){return PS(e,"POST","/v2/accounts/mfaSignIn:finalize",AS(e,t))}var PN=1e12,ON=function(){function e(t){v(this,e),this.auth=t,this.counter=PN,this._widgets=new Map}return k(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new RN(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||PN;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||PN;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||PN,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),RN=function(){function e(t,n,r){var i=this;v(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;kS(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return k(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(YU){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(YU){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var DN=UE("rcb"),LN=new SS(3e4,6e4),MN=function(){function e(){var t;v(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=cN().grecaptcha)||void 0===t?void 0:t.render)}return k(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return kS(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&iS(cN().grecaptcha)?Promise.resolve(cN().grecaptcha):new Promise((function(r,i){var a=cN().setTimeout((function(){i(vS(e,"network-request-failed"))}),LN.get());cN()[DN]=function(){cN().clearTimeout(a),delete cN()[DN];var o=cN().grecaptcha;if(o&&iS(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(vS(e,"internal-error"))},VE("".concat("https://www.google.com/recaptcha/api.js?","?").concat(xa({onload:DN,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(vS(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=cN().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var jN=function(){function e(){v(this,e)}return k(e,[{key:"load",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ON(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),FN="recaptcha",VN={theme:"light",type:"image"},UN=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},VN);v(this,e),this.parameters=r,this.type=FN,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jE(t),this.isInvisible="invisible"===this.parameters.size,kS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;kS(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jN:new MN,this.validateStartingState()}return k(e,[{key:"verify",value:function(){var e=Ji(Yi().mark((function e(){var t,n,r,i=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(YU){return Promise.reject(YU)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){kS(!this.parameters.sitekey,this.auth,"argument-error"),kS(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),kS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=cN()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){kS(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ji(Yi().mark((function e(){var t,n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kS(_S()&&!fN(),this.auth,"internal-error"),e.next=3,zN();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,US(this.auth);case 8:kS(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return kS(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function zN(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var BN=function(){function e(t,n){v(this,e),this.verificationId=t,this.onConfirmation=n}return k(e,[{key:"confirm",value:function(e){var t=ET._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function qN(){return qN=Ji(Yi().mark((function e(t,n,r){var i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jE(t),e.next=3,KN(i,n,Ca(r));case 3:return a=e.sent,e.abrupt("return",new BN(a,(function(e){return nC(i,e)})));case 5:case"end":return e.stop()}}),e)}))),qN.apply(this,arguments)}function HN(e,t,n){return GN.apply(this,arguments)}function GN(){return(GN=Ji(Yi().mark((function e(t,n,r){var i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ca(t),e.next=3,XT(!1,i,"phone");case 3:return e.next=5,KN(i.auth,n,Ca(r));case 5:return a=e.sent,e.abrupt("return",new BN(a,(function(e){return iC(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WN(){return(WN=Ji(Yi().mark((function e(t,n,r){var i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ca(t),e.next=3,KN(i.auth,n,Ca(r));case 3:return a=e.sent,e.abrupt("return",new BN(a,(function(e){return oC(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KN(e,t,n){return QN.apply(this,arguments)}function QN(){return QN=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,kS("string"===typeof a,t,"argument-error"),kS(r.type===FN,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return kS("enroll"===u.type,t,"internal-error"),e.next=13,KC(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return kS("signin"===u.type,t,"internal-error"),kS(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,NN(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,bT(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),QN.apply(this,arguments)}function YN(){return(YN=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QT(Ca(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var XN=function(){function e(t){v(this,e),this.providerId=e.PROVIDER_ID,this.auth=jE(t)}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return KN(this.auth,e,Ca(t))}}],[{key:"credential",value:function(e,t){return ET._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ET._fromTokenResponse(n,r):null}}]),e}();function JN(e,t){return t?mE(t):(kS(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}XN.PROVIDER_ID="phone",XN.PHONE_SIGN_IN_METHOD="phone";var ZN=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,"custom","custom")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return yT(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return yT(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return yT(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(KE);function $N(e){return eC(e.auth,new ZN(e),e.bypassAuthState)}function eA(e){var t=e.auth,n=e.user;return kS(n,t,"internal-error"),ZT(n,new ZN(e),e.bypassAuthState)}function tA(e){return nA.apply(this,arguments)}function nA(){return nA=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,kS(r=t.user,n,"internal-error"),e.abrupt("return",QT(r,new ZN(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),nA.apply(this,arguments)}var rA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];v(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return k(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ji(Yi().mark((function t(n,r){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ji(Yi().mark((function e(t){var n,r,i,a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $N;case"linkViaPopup":case"linkViaRedirect":return tA;case"reauthViaPopup":case"reauthViaRedirect":return eA;default:pS(this.auth,"internal-error")}}},{key:"resolve",value:function(e){wS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){wS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),iA=new SS(2e3,1e4);function aA(e,t,n){return oA.apply(this,arguments)}function oA(){return oA=Ji(Yi().mark((function e(t,n,r){var i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jE(t),yS(t,n,NT),a=JN(i,r),o=new lA(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function uA(){return(uA=Ji(Yi().mark((function e(t,n,r){var i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yS((i=Ca(t)).auth,n,NT),a=JN(i.auth,r),o=new lA(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sA(e,t,n){return cA.apply(this,arguments)}function cA(){return(cA=Ji(Yi().mark((function e(t,n,r){var i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yS((i=Ca(t)).auth,n,NT),a=JN(i.auth,r),o=new lA(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lA=function(e){w(n,e);var t=S(n);function n(e,r,i,a,o){var u;return v(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=I(u),u}return k(n,[{key:"executeNotNull",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return kS(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ji(Yi().mark((function e(){var t,n=this;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wS(1===this.filter.length,"Popup operations only handle one event"),t=uN(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(vS(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(vS(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(vS(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,iA.get())}()}}]),n}(rA);lA.currentPopupAction=null;var fA="pendingRedirect",hA=new Map,dA=function(e){w(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return k(n,[{key:"execute",value:function(){var e=Ji(Yi().mark((function e(){var t,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hA.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,pA(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ou(x(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:hA.set(this.auth._key(),t);case 21:return this.bypassAuthState||hA.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ji(Yi().mark((function e(t){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ou(x(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ou(x(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(rA);function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=Ji(Yi().mark((function e(t,n){var r,i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bA(n),i=kA(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){return yA.apply(this,arguments)}function yA(){return yA=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kA(t)._set(bA(n),"true"));case 1:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t){hA.set(e._key(),t)}function kA(e){return mE(e._redirectPersistence)}function bA(e){return kE(fA,e.config.apiKey,e.name)}function wA(e,t,n){return function(e,t,n){return xA.apply(this,arguments)}(e,t,n)}function xA(){return xA=Ji(Yi().mark((function e(t,n,r){var i,a;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jE(t),yS(t,n,NT),e.next=4,i._initializationPromise;case 4:return a=JN(i,r),e.next=7,mA(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),xA.apply(this,arguments)}function _A(e,t,n){return function(e,t,n){return IA.apply(this,arguments)}(e,t,n)}function IA(){return(IA=Ji(Yi().mark((function e(t,n,r){var i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yS((i=Ca(t)).auth,n,NT),e.next=4,i.auth._initializationPromise;case 4:return a=JN(i.auth,r),e.next=7,mA(a,i.auth);case 7:return e.next=9,PA(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SA(e,t,n){return function(e,t,n){return EA.apply(this,arguments)}(e,t,n)}function EA(){return(EA=Ji(Yi().mark((function e(t,n,r){var i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yS((i=Ca(t)).auth,n,NT),e.next=4,i.auth._initializationPromise;case 4:return a=JN(i.auth,r),e.next=7,XT(!1,i,n.providerId);case 7:return e.next=9,mA(a,i.auth);case 9:return e.next=11,PA(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TA(e,t){return CA.apply(this,arguments)}function CA(){return CA=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jE(t)._initializationPromise;case 2:return e.abrupt("return",NA(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}function NA(e,t){return AA.apply(this,arguments)}function AA(){return AA=Ji(Yi().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=jE(t),a=JN(i,n),o=new dA(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function PA(e){return OA.apply(this,arguments)}function OA(){return(OA=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uN("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var RA=function(){function e(t){v(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return k(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LA(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!LA(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vS(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(DA(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(DA(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function DA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function LA(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function MA(e){return jA.apply(this,arguments)}function jA(){return jA=Ji(Yi().mark((function e(t){var n,r=arguments;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",PS(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),jA.apply(this,arguments)}var FA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VA=/^https?/;function UA(){return UA=Ji(Yi().mark((function e(t){var n,r,i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,MA(t);case 4:n=e.sent,r=n.authorizedDomains,i=N(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!zA(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:pS(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),UA.apply(this,arguments)}function zA(e){var t=xS(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!VA.test(r))return!1;if(FA.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var BA=new SS(3e4,6e4);function qA(){var e=cN().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=p(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var HA=null;function GA(e){return HA=HA||function(e){return new Promise((function(t,n){var r,i,a;function o(){qA(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){qA(),n(vS(e,"network-request-failed"))},timeout:BA.get()})}if(null===(i=null===(r=cN().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=cN().gapi)||void 0===a?void 0:a.load)){var u=UE("iframefcb");return cN()[u]=function(){gapi.load?o():n(vS(e,"network-request-failed"))},VE("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw HA=null,e}))}(e),HA}var WA=new SS(5e3,15e3),KA="__/auth/iframe",QA="emulator/auth/iframe",YA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JA(e){var t=e.config;kS(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ES(t,QA):"https://".concat(e.config.authDomain,"/").concat(KA),r={apiKey:t.apiKey,appName:e.name,v:To},i=XA.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(xa(r).slice(1))}function ZA(e){return $A.apply(this,arguments)}function $A(){return $A=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GA(t);case 2:return n=e.sent,kS(r=cN().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:JA(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YA,dontclear:!0},(function(e){return new Promise(function(){var n=Ji(Yi().mark((function n(r,i){var a,o,u;return Yi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){cN().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=vS(t,"network-request-failed"),o=cN().setTimeout((function(){i(a)}),WA.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),$A.apply(this,arguments)}var eP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tP=function(){function e(t){v(this,e),this.window=t,this.associatedEvent=null}return k(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(YU){}}}]),e}();function nP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},eP),{width:r.toString(),height:i.toString(),top:a,left:o}),l=ca().toLowerCase();n&&(u=IE(l)?"_blank":n),xE(l)&&(t=t||"http://localhost",s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return NE(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new tP(null);var h=window.open(t||"",u,f);kS(h,e,"popup-blocked");try{h.focus()}catch(YU){}return new tP(h)}var rP="__/auth/handler",iP="emulator/auth/handler",aP=encodeURIComponent("fac");function oP(e,t,n,r,i,a){return uP.apply(this,arguments)}function uP(){return uP=Ji(Yi().mark((function e(t,n,r,i,a,o){var u,s,l,f,h,d,p,v,m,y,g,k,b;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kS(t.config.authDomain,t,"auth-domain-config-required"),kS(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:To,eventId:a},n instanceof NT)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",ka(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,l=Object.entries(o||{});s<l.length;s++)f=c(l[s],2),h=f[0],d=f[1],u[h]=d;for(n instanceof AT&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(aP,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(sP(t),"?").concat(xa(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),uP.apply(this,arguments)}function sP(e){var t=e.config;return t.emulator?ES(t,iP):"https://".concat(t.authDomain,"/").concat(rP)}var cP="webStorageSupport",lP=function(){function e(){v(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iN,this._completeRedirectFn=NA,this._overrideRedirectResult=gA}return k(e,[{key:"_openPopup",value:function(){var e=Ji(Yi().mark((function e(t,n,r,i){var a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wS(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,oP(t,n,r,xS(),i);case 3:return o=e.sent,e.abrupt("return",nP(t,o,uN()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ji(Yi().mark((function e(t,n,r,i){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,oP(t,n,r,xS(),i);case 4:return lN(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(wS(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZA(t);case 2:return n=e.sent,r=new RA(t),n.register("authEvent",(function(e){return kS(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(cP,{type:cP},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[cP];void 0!==i&&t(!!i),pS(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return UA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return AE()||_E()||NE()}}]),e}(),fP=lP,hP=function(){function e(t){v(this,e),this.factorId=t}return k(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return bS("unexpected MultiFactorSessionType")}}}]),e}(),dP=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,"phone")).credential=e,r}return k(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return PS(e,"POST","/v2/accounts/mfaEnrollment:finalize",AS(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return PS(e,"POST","/v2/accounts/mfaSignIn:finalize",AS(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(hP),pP=function(){function e(){v(this,e)}return k(e,null,[{key:"assertion",value:function(e){return dP._fromCredential(e)}}]),e}();pP.FACTOR_ID="phone";var vP=function(){function e(){v(this,e)}return k(e,null,[{key:"assertionForEnrollment",value:function(e,t){return mP._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return mP._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Ji(Yi().mark((function e(t){var n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kS("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,QC(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",yP._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();vP.FACTOR_ID="totp";var mP=function(e){w(n,e);var t=S(n);function n(e,r,i){var a;return v(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return k(n,[{key:"_finalizeEnroll",value:function(){var e=Ji(Yi().mark((function e(t,n,r){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kS("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",YC(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kS(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",AN(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(hP),yP=function(){function e(t,n,r,i,a,o,u){v(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return k(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(gP(e)||gP(t))&&(r=!0),r&&(gP(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),gP(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function gP(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var kP="@firebase/auth",bP="1.3.0",wP=function(){function e(t){v(this,e),this.auth=t,this.internalListeners=new Map}return k(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){kS(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var xP;!function(e){var t;null===(t=oa())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function _P(){return window}xP="Browser",bo(new Na("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;kS(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:xP,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PE(xP)},l=new ME(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mE);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),bo(new Na("auth-internal",(function(e){return function(e){return new wP(e)}(jE(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ro(kP,bP,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(xP)),Ro(kP,bP,"esm2017");var IP=2e3;function SP(e,t,n){return EP.apply(this,arguments)}function EP(){return EP=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_P(),o=a.BuildInfo,wS(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,OP(n.sessionId);case 4:return u=e.sent,s={},NE()?s.ibi=o.packageName:EE()?s.apn=o.packageName:pS(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",oP(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),EP.apply(this,arguments)}function TP(){return TP=Ji(Yi().mark((function e(t){var n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_P(),r=n.BuildInfo,i={},NE()?i.iosBundleId=r.packageName:EE()?i.androidPackageName=r.packageName:pS(t,"operation-not-supported-in-this-environment"),e.next=5,MA(t,i);case 5:case"end":return e.stop()}}),e)}))),TP.apply(this,arguments)}function CP(e){var t=_P().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function NP(e,t,n){return AP.apply(this,arguments)}function AP(){return AP=Ji(Yi().mark((function e(t,n,r){var i,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_P(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(vS(t,"redirect-cancelled-by-user"))}),IP))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),EE()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),AP.apply(this,arguments)}function PP(e){var t,n,r,i,a,o,u,s,c,l,f=_P();kS("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),kS("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),kS("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),kS("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),kS("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function OP(e){return RP.apply(this,arguments)}function RP(){return(RP=Ji(Yi().mark((function e(t){var n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=DP(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DP(e){if(wS(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var LP=20,MP=function(e){w(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return k(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ou(x(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(RA);function jP(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:BP(),postBody:null,tenantId:e.tenantId,error:vS(e,"no-auth-event")}}function FP(e,t){return qP()._set(HP(e),t)}function VP(e){return UP.apply(this,arguments)}function UP(){return UP=Ji(Yi().mark((function e(t){var n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qP()._get(HP(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,qP()._remove(HP(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),UP.apply(this,arguments)}function zP(e,t){var n,r,i=function(e){var t=GP(e),n=t.link?decodeURIComponent(t.link):void 0,r=GP(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return GP(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=GP(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(YU){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?vS(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function BP(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<LP;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function qP(){return mE(nN)}function HP(e){return kE("authEvent",e.config.apiKey,e.name)}function GP(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=C(e.split("?"));t[0];return _a(t.slice(1).join("?"))}var WP=function(){function e(){v(this,e),this._redirectPersistence=iN,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=NA,this._overrideRedirectResult=gA}return k(e,[{key:"_initialize",value:function(){var e=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new MP(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){pS(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ji(Yi().mark((function e(t,n,r,i){var a,o,u,s;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return PP(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),hA.clear(),e.next=10,this._originValidation(t);case 10:return o=jP(t,r,i),e.next=13,FP(t,o);case 13:return e.next=15,SP(t,o,n);case 15:return u=e.sent,e.next=18,CP(u);case 18:return s=e.sent,e.abrupt("return",NP(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return TP.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=_P(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ji(Yi().mark((function n(){return Yi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,VP(e);case 2:t.onEvent(QP());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ji(Yi().mark((function n(r){var i,a;return Yi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,VP(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=zP(i,r.url)),t.onEvent(a||QP());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");_P().handleOpenURL=function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(YU){console.error(YU)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),KP=WP;function QP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:vS("no-auth-event")}}var YP=1e3;function XP(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function JP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return!("file:"!==XP()&&"ionic:"!==XP()&&"capacitor:"!==XP()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ZP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return da()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca();return/Edge\/\d+/.test(e)}(e)}function $P(){try{var e=self.localStorage,t=uN();if(e)return e.setItem(t,"1"),e.removeItem(t),!ZP()||pa()}catch(YU){return eO()&&pa()}return!1}function eO(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function tO(){return("http:"===XP()||"https:"===XP()||fa()||JP())&&!(ha()||la())&&$P()&&!eO()}function nO(){return JP()&&"undefined"!==typeof document}function rO(){return iO.apply(this,arguments)}function iO(){return(iO=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nO()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),YP);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aO={LOCAL:"local",NONE:"none",SESSION:"session"},oO=kS,uO="persistence";function sO(e,t){oO(Object.values(aO).includes(t),e,"invalid-persistence-type"),ha()?oO(t!==aO.SESSION,e,"unsupported-persistence-type"):la()?oO(t===aO.NONE,e,"unsupported-persistence-type"):eO()?oO(t===aO.NONE||t===aO.LOCAL&&pa(),e,"unsupported-persistence-type"):oO(t===aO.NONE||$P(),e,"unsupported-persistence-type")}function cO(e){return lO.apply(this,arguments)}function lO(){return lO=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=fO(),r=kE(uO,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),lO.apply(this,arguments)}function fO(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(YU){return null}}var hO=kS,dO=function(){function e(){v(this,e),this.browserResolver=mE(fP),this.cordovaResolver=mE(KP),this.underlyingResolver=null,this._redirectPersistence=iN,this._completeRedirectFn=NA,this._overrideRedirectResult=gA}return k(e,[{key:"_initialize",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ji(Yi().mark((function e(t,n,r,i){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ji(Yi().mark((function e(t,n,r,i){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return nO()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return hO(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rO();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pO(e){return e.unwrap()}function vO(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new bO(e,function(e,t){var n,r=Ca(e),i=t;return kS(t.customData.operationType,r,"argument-error"),kS(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),WC._fromError(r,i)}(e,t));else if(r){var i=mO(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function mO(e){var t=(e instanceof va?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof va)&&"temporaryProof"in t&&"phoneNumber"in t)return XN.credentialFromResult(e);var n,r=t.providerId;if(!r||r===JI.PASSWORD)return null;switch(r){case JI.GOOGLE:n=RT;break;case JI.FACEBOOK:n=OT;break;case JI.GITHUB:n=DT;break;case JI.TWITTER:n=jT;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?LT._create(r,u):kT._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new PT(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof va?n.credentialFromError(e):n.credentialFromResult(e)}function yO(e,t){return t.catch((function(t){throw t instanceof va&&vO(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,mO(t)),additionalUserInfo:HC(e),user:wO.getOrCreate(r)}}))}function gO(e,t){return kO.apply(this,arguments)}function kO(){return kO=Ji(Yi().mark((function e(t,n){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return yO(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),kO.apply(this,arguments)}var bO=function(){function e(t,n){v(this,e),this.resolver=n,this.auth=t.wrapped()}return k(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return yO(pO(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),wO=function(){function e(t){v(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ca(e);return ZC.has(t)||ZC.set(t,JC._fromUser(t)),ZC.get(t)}(t)}return k(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yO(this.auth,iC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gO(this.auth,HN(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yO(this.auth,sA(this._delegate,t,dO)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cO(jE(this.auth));case 2:return e.abrupt("return",SA(this._delegate,t,dO));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yO(this.auth,oC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return gO(this.auth,function(e,t,n){return WN.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return yO(this.auth,function(e,t,n){return uA.apply(this,arguments)}(this._delegate,e,dO))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cO(jE(this.auth));case 2:return e.abrupt("return",_A(this._delegate,t,dO));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return PC.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WT(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return MC(Ca(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return MC(Ca(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return YN.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return LC.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return OC.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();wO.USER_MAP=new WeakMap;var xO=kS,_O=function(){function e(t,n){if(v(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;xO(r,"invalid-api-key",{appName:t.name}),xO(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?dO:void 0;this._delegate=n.initialize({options:{persistence:SO(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(sS),this.linkUnderlyingAuth()}return k(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?wO.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){HE(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return bC.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return wC(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return kC.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ji(Yi().mark((function e(t,n){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yO(this._delegate,IC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return AC.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=TT.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ji(Yi().mark((function e(){var t;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xO(tO(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,TA(this._delegate,dO);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",yO(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){jE(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=IO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=IO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return EC.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return yC(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ji(Yi().mark((function e(t){var n,r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sO(this._delegate,t),e.t0=t,e.next=e.t0===aO.SESSION?4:e.t0===aO.LOCAL?6:e.t0===aO.NONE?11:13;break;case 4:return n=iN,e.abrupt("break",14);case 6:return e.next=8,mE(CN)._isAvailable();case 8:return r=e.sent,n=r?CN:nN,e.abrupt("break",14);case 11:return n=gE,e.abrupt("break",14);case 13:return e.abrupt("return",pS("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return yO(this._delegate,function(e){return BT.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return yO(this._delegate,nC(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return yO(this._delegate,function(e,t){return lC.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return yO(this._delegate,function(e,t,n){return nC(Ca(e),CT.credential(t,n)).catch(function(){var t=Ji(Yi().mark((function t(n){return Yi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&vC(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return yO(this._delegate,function(e,t,n){return TC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return gO(this._delegate,function(e,t,n){return qN.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xO(tO(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",yO(this._delegate,aA(this._delegate,t,dO)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xO(tO(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,cO(this._delegate);case 3:return e.abrupt("return",wA(this._delegate,t,dO));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return _C.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function IO(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&wO.getOrCreate(e))},error:t,complete:n}}function SO(e,t){var n=function(e,t){var n=fO();if(!n)return[];var r=kE(uO,e,t);switch(n.getItem(r)){case aO.NONE:return[gE];case aO.LOCAL:return[CN,iN];case aO.SESSION:return[iN];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(CN)||n.push(CN),"undefined"!==typeof window)for(var r=0,i=[nN,iN];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(gE)||n.push(gE),n}_O.Persistence=aO;var EO=function(){function e(){v(this,e),this.providerId="phone",this._delegate=new XN(pO(au.auth()))}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return XN.credential(e,t)}}]),e}();EO.PHONE_SIGN_IN_METHOD=XN.PHONE_SIGN_IN_METHOD,EO.PROVIDER_ID=XN.PROVIDER_ID;var TO=kS,CO=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:au.app();v(this,e),TO(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new UN(i.auth(),t,n),this.type=this._delegate.type}return k(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Na("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new _O(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ZI,PASSWORD_RESET:$I,RECOVER_EMAIL:eS,REVERT_SECOND_FACTOR_ADDITION:tS,VERIFY_AND_CHANGE_EMAIL:nS,VERIFY_EMAIL:rS}},EmailAuthProvider:CT,FacebookAuthProvider:OT,GithubAuthProvider:DT,GoogleAuthProvider:RT,OAuthProvider:PT,SAMLAuthProvider:MT,PhoneAuthProvider:EO,PhoneMultiFactorGenerator:pP,RecaptchaVerifier:CO,TwitterAuthProvider:jT,Auth:_O,AuthCredential:KE,Error:va}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.6")}(au);var NO=au.initializeApp({apiKey:"AIzaSyBkIA1iDoDhLmyp9bIDKl4MHLrRX-CDgh4",authDomain:"dhermicaestetica.firebaseapp.com",projectId:"dhermicaestetica",storageBucket:"dhermicaestetica.appspot.com",messagingSenderId:"558318533556",appId:"1:558318533556:web:a64046d01548fafef990e1",measurementId:"G-NBFXK9NV2M"}),AO=NO.firestore(),PO=NO.auth(),OO=(0,t.createContext)(),RO=function(e){var n=e.children,r=c((0,t.useState)(null),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){var e=PO.onAuthStateChanged((function(e){a(e)}));return function(){e()}}),[]),(0,et.jsx)(OO.Provider,{value:i,children:n})},DO=function(){var e=(0,t.useContext)(OO),n=c((0,t.useState)(null),1)[0],r=c((0,t.useState)(!1),2),i=r[0],a=r[1],o=Ie();(0,t.useEffect)((function(){a(!!e)}),[e]);var u=function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,PO.signOut();case 3:o("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"menu",children:[(0,et.jsxs)("div",{className:"menuItem",children:[(0,et.jsx)("a",{href:"/MiCuenta",className:"menu-user",children:(0,et.jsx)(Pi,{icon:Li,size:"2x",className:"menuIcon"})}),(0,et.jsxs)("div",{className:"auth",children:[(0,et.jsx)("div",{children:(0,et.jsx)("span",{children:i?(0,et.jsxs)("span",{children:["Hola ",(null===e||void 0===e?void 0:e.displayName)||(null===e||void 0===e?void 0:e.email),"!"]}):(0,et.jsx)("a",{href:"/Register",className:"menuText",children:"Crear Cuenta"})})}),(0,et.jsx)("div",{children:(0,et.jsx)("span",{children:i?(0,et.jsx)("a",{href:"/",className:"logout",onClick:u,children:"Cerrar Sesi\xf3n"}):(0,et.jsx)("a",{href:"Login",className:"menuText",children:"Iniciar Sesi\xf3n"})})})]})]}),(0,et.jsxs)("div",{className:"menuItem",children:[(0,et.jsx)("a",{href:"/SolicitarTurno",className:"menu-turno",children:(0,et.jsx)(Pi,{icon:Di,size:"2x",className:"menuIcon"})}),(0,et.jsx)("span",{className:"menuText",children:(0,et.jsx)("a",{href:"/SolicitarTurno",children:"Turnos"})})]})]})})},LO=function(){var e=c((0,t.useState)(null),2),n=e[0],r=e[1];(0,t.useEffect)((function(){var e=PO.onAuthStateChanged((function(e){r(e)}));return function(){return e()}}),[]);var i=n&&["9IrqQ1yarpaXSjlV0rhWoaabhQ63","P3K1Ogb0MLdTNZuXgKKQptaPKHH3"].includes(n.uid);return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsxs)("div",{className:"header",children:[(0,et.jsx)("div",{className:"header-item-1",children:(0,et.jsx)("div",{className:"name",children:(0,et.jsx)(tt,{})})}),(0,et.jsx)("div",{className:"header-item-2",children:(0,et.jsx)(Qi,{})}),(0,et.jsx)("div",{className:"header-item-3",children:(0,et.jsx)(DO,{})})]}),(0,et.jsxs)("div",{className:"solapa2",children:[(0,et.jsx)("div",{className:"header-item-4",children:(0,et.jsx)("a",{href:"/Ellas",children:(0,et.jsx)("span",{className:"menuText",children:"Ellas"})})}),(0,et.jsx)("div",{className:"header-item-4",children:(0,et.jsx)("a",{href:"/Ellos",children:(0,et.jsx)("span",{className:"menuText",children:"Ellos"})})})]}),i&&(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"solapa",children:[(0,et.jsx)("div",{className:"header-item-4",children:(0,et.jsx)("a",{href:"/Turnos",children:(0,et.jsx)("span",{className:"menuText",children:"Turnos"})})}),(0,et.jsx)("div",{className:"header-item-4",children:(0,et.jsx)("a",{href:"/Recordatorios",children:(0,et.jsx)("span",{className:"menuText",children:"Recordar"})})})]})})]})};function MO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var jO=Object.defineProperty,FO={};!function(e,t){for(var n in t)jO(e,n,{get:t[n],enumerable:!0})}(FO,{assign:function(){return yR},colors:function(){return pR},createStringInterpolator:function(){return lR},skipAnimation:function(){return vR},to:function(){return fR},willAdvance:function(){return mR}});var VO=tR(),UO=function(e){return JO(e,VO)},zO=tR();UO.write=function(e){return JO(e,zO)};var BO=tR();UO.onStart=function(e){return JO(e,BO)};var qO=tR();UO.onFrame=function(e){return JO(e,qO)};var HO=tR();UO.onFinish=function(e){return JO(e,HO)};var GO=[];UO.setTimeout=function(e,t){var n=UO.now()+t,r={time:n,handler:e,cancel:function e(){var t=GO.findIndex((function(t){return t.cancel==e}));~t&&GO.splice(t,1),YO-=~t?1:0}};return GO.splice(WO(n),0,r),YO+=1,ZO(),r};var WO=function(e){return~(~GO.findIndex((function(t){return t.time>e}))||~GO.length)};UO.cancel=function(e){BO.delete(e),qO.delete(e),HO.delete(e),VO.delete(e),zO.delete(e)},UO.sync=function(e){XO=!0,UO.batchedUpdates(e),XO=!1},UO.throttle=function(e){var t;function n(){try{e.apply(void 0,p(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,UO.onStart(n)}return r.handler=e,r.cancel=function(){BO.delete(n),t=null},r};var KO="undefined"!=typeof window?window.requestAnimationFrame:function(){};UO.use=function(e){return KO=e},UO.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,UO.batchedUpdates=function(e){return e()},UO.catch=console.error,UO.frameLoop="always",UO.advance=function(){"demand"!==UO.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):eR()};var QO=-1,YO=0,XO=!1;function JO(e,t){XO?(t.delete(e),e(0)):(t.add(e),ZO())}function ZO(){QO<0&&(QO=0,"demand"!==UO.frameLoop&&KO($O))}function $O(){~QO&&(KO($O),UO.batchedUpdates(eR))}function eR(){var e=QO;QO=UO.now();var t=WO(QO);t&&(nR(GO.splice(0,t),(function(e){return e.handler()})),YO-=t),YO?(BO.flush(),VO.flush(e?Math.min(64,QO-e):16.667),qO.flush(),zO.flush(),HO.flush()):QO=-1}function tR(){var e=new Set,t=e;return{add:function(n){YO+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return YO-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,YO-=t.size,nR(t,(function(t){return t(n)&&e.add(t)})),YO+=e.size,t=e)}}}function nR(e,t){e.forEach((function(e){try{t(e)}catch(YU){UO.catch(YU)}}))}function rR(){}var iR={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function aR(e,t){if(iR.arr(e)){if(!iR.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var oR=function(e,t){return e.forEach(t)};function uR(e,t,n){if(iR.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var sR=function(e){return iR.und(e)?[]:iR.arr(e)?e:[e]};function cR(e,t){if(e.size){var n=Array.from(e);e.clear(),oR(n,t)}}var lR,fR,hR=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cR(e,(function(e){return e.apply(void 0,n)}))},dR=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},pR=null,vR=!1,mR=rR,yR=function(e){e.to&&(fR=e.to),e.now&&(UO.now=e.now),void 0!==e.colors&&(pR=e.colors),null!=e.skipAnimation&&(vR=e.skipAnimation),e.createStringInterpolator&&(lR=e.createStringInterpolator),e.requestAnimationFrame&&UO.use(e.requestAnimationFrame),e.batchedUpdates&&(UO.batchedUpdates=e.batchedUpdates),e.willAdvance&&(mR=e.willAdvance),e.frameLoop&&(UO.frameLoop=e.frameLoop)},gR=new Set,kR=[],bR=[],wR=0,xR={get idle(){return!gR.size&&!kR.length},start:function(e){wR>e.priority?(gR.add(e),UO.onStart(_R)):(IR(e),UO(ER))},advance:ER,sort:function(e){if(wR)UO.onFrame((function(){return xR.sort(e)}));else{var t=kR.indexOf(e);~t&&(kR.splice(t,1),SR(e))}},clear:function(){kR=[],gR.clear()}};function _R(){gR.forEach(IR),gR.clear(),UO(ER)}function IR(e){kR.includes(e)||SR(e)}function SR(e){kR.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(kR,(function(t){return t.priority>e.priority})),0,e)}function ER(e){for(var t=bR,n=0;n<kR.length;n++){var r=kR[n];wR=r.priority,r.idle||(mR(r),r.advance(e),r.idle||t.push(r))}return wR=0,(bR=kR).length=0,(kR=t).length>0}var TR="[-+]?\\d*\\.?\\d+",CR=TR+"%";function NR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var AR=new RegExp("rgb"+NR(TR,TR,TR)),PR=new RegExp("rgba"+NR(TR,TR,TR,TR)),OR=new RegExp("hsl"+NR(TR,CR,CR)),RR=new RegExp("hsla"+NR(TR,CR,CR,TR)),DR=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,LR=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,MR=/^#([0-9a-fA-F]{6})$/,jR=/^#([0-9a-fA-F]{8})$/;function FR(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function VR(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=FR(i,r,e+1/3),o=FR(i,r,e),u=FR(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*u)<<8}function UR(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function zR(e){return(parseFloat(e)%360+360)%360/360}function BR(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function qR(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function HR(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=MR.exec(e))?parseInt(t[1]+"ff",16)>>>0:pR&&void 0!==pR[e]?pR[e]:(t=AR.exec(e))?(UR(t[1])<<24|UR(t[2])<<16|UR(t[3])<<8|255)>>>0:(t=PR.exec(e))?(UR(t[1])<<24|UR(t[2])<<16|UR(t[3])<<8|BR(t[4]))>>>0:(t=DR.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=jR.exec(e))?parseInt(t[1],16)>>>0:(t=LR.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=OR.exec(e))?(255|VR(zR(t[1]),qR(t[2]),qR(t[3])))>>>0:(t=RR.exec(e))?(VR(zR(t[1]),qR(t[2]),qR(t[3]))|BR(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var GR=function e(t,n,r){if(iR.fun(t))return t;if(iR.arr(t))return e({range:t,output:n,extrapolate:r});if(iR.str(t.output[0]))return lR(t);var i=t,a=i.output,o=i.range||[0,1],u=i.extrapolateLeft||i.extrapolate||"extend",s=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,u,s){var c=s?s(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===u)return c;"clamp"===u&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=a(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],a[t],a[t+1],c,u,s,i.map)}};var WR=1.70158,KR=1.525*WR,QR=WR+1,YR=2*Math.PI/3,XR=2*Math.PI/4.5,JR=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},ZR={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return QR*e*e*e-WR*e*e},easeOutBack:function(e){return 1+QR*Math.pow(e-1,3)+WR*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-KR)/2:(Math.pow(2*e-2,2)*((KR+1)*(2*e-2)+KR)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*YR)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*YR)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*XR)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*XR)/2+1},easeInBounce:function(e){return 1-JR(1-e)},easeOutBounce:JR,easeInOutBounce:function(e){return e<.5?(1-JR(1-2*e))/2:(1+JR(2*e-1))/2},steps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(n){var r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return function(e,t,n){return Math.min(Math.max(n,e),t)}(0,1,("end"===t?Math.floor(r):Math.ceil(r))/e)}}},$R=Symbol.for("FluidValue.get"),eD=Symbol.for("FluidValue.observers"),tD=function(e){return Boolean(e&&e[$R])},nD=function(e){return e&&e[$R]?e[$R]():e},rD=function(e){return e[eD]||null};function iD(e,t){var n=e[eD];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var aD=k((function e(t){if(v(this,e),!t&&!(t=this.get))throw Error("Unknown getter");oD(this,t)})),oD=function(e,t){return lD(e,$R,t)};function uD(e,t){if(e[$R]){var n=e[eD];n||lD(e,eD,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function sD(e,t){var n=e[eD];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[eD]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var cD,lD=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},fD=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,hD=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,dD=new RegExp("(".concat(fD.source,")(%|[a-z]+)"),"i"),pD=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,vD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,mD=function e(t){var n=c(yD(t),2),r=n[0],i=n[1];if(!r||dR())return t;var a=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(a)return a.trim();if(i&&i.startsWith("--")){var o=window.getComputedStyle(document.documentElement).getPropertyValue(i);return o||t}return i&&vD.test(i)?e(i):i||t},yD=function(e){var t=vD.exec(e);if(!t)return[,];var n=c(t,3);return[n[1],n[2]]},gD=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},kD=function(e){cD||(cD=pR?new RegExp("(".concat(Object.keys(pR).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return nD(e).replace(vD,mD).replace(hD,HR).replace(cD,HR)})),n=t.map((function(e){return e.match(fD).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return GR(Ba(Ba({},e),{},{output:t}))}));return function(e){var n,i=!dD.test(t[0])&&(null===(n=t.find((function(e){return dD.test(e)})))||void 0===n?void 0:n.replace(fD,"")),a=0;return t[0].replace(fD,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace(pD,gD)}},bD="react-spring: ",wD=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(bD,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},xD=wD(console.warn);var _D=wD(console.warn);function ID(e){return iR.str(e)&&("#"==e[0]||/\d/.test(e)||!dR()&&vD.test(e)||e in(pR||{}))}var SD=dR()?t.useEffect:t.useLayoutEffect,ED=function(){var e=(0,t.useRef)(!1);return SD((function(){return e.current=!0,function(){e.current=!1}}),[]),e};function TD(){var e=(0,t.useState)()[1],n=ED();return function(){n.current&&e(Math.random())}}var CD=function(e){return(0,t.useEffect)(e,ND)},ND=[];function AD(e){var n=(0,t.useRef)();return(0,t.useEffect)((function(){n.current=e})),n.current}var PD=Symbol.for("Animated:node"),OD=function(e){return e&&e[PD]},RD=function(e,t){return n=e,r=PD,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},DD=function(e){return e&&e[PD]&&e[PD].getPayload()},LD=function(){function e(){v(this,e),RD(this,this)}return k(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),MD=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this))._value=e,r.done=!0,r.durationProgress=0,iR.num(r._value)&&(r.lastPosition=r._value),r}return k(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return iR.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,iR.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(LD),jD=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this,0))._string=null,r._toString=GR({output:[e,e]}),r}return k(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(iR.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!ou(x(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=GR({output:[this.getValue(),e]})),this._value=0,ou(x(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(MD),FD={dependencies:null},VD=function(e){w(n,e);var t=S(n);function n(e){var r;return v(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return k(n,[{key:"getValue",value:function(e){var t={};return uR(this.source,(function(n,r){var i;(i=n)&&i[PD]===i?t[r]=n.getValue(e):tD(n)?t[r]=nD(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&oR(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return uR(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;FD.dependencies&&tD(e)&&FD.dependencies.add(e);var n=DD(e);n&&oR(n,(function(e){return t.add(e)}))}}]),n}(LD),UD=function(e){w(n,e);var t=S(n);function n(e){return v(this,n),t.call(this,e)}return k(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(ou(x(n.prototype),"setValue",this).call(this,e.map(zD)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(VD);function zD(e){return(ID(e)?jD:MD).create(e)}function BD(e){var t=OD(e);return t?t.constructor:iR.arr(e)?UD:ID(e)?jD:MD}var qD=function(e,n){var r=!iR.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,t.forwardRef)((function(i,a){var o=(0,t.useRef)(null),u=r&&(0,t.useCallback)((function(e){o.current=function(e,t){e&&(iR.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),s=function(e,t){var n=new Set;FD.dependencies=n,e.style&&(e=Ba(Ba({},e),{},{style:t.createAnimatedStyle(e.style)}));return e=new VD(e),FD.dependencies=null,[e,n]}(i,n),l=c(s,2),f=l[0],h=l[1],d=TD(),p=function(){var e=o.current;r&&!e||!1===(!!e&&n.applyAnimatedValues(e,f.getValue(!0)))&&d()},v=new HD(p,h),m=(0,t.useRef)();SD((function(){return m.current=v,oR(h,(function(e){return uD(e,v)})),function(){m.current&&(oR(m.current.deps,(function(e){return sD(e,m.current)})),UO.cancel(m.current.update))}})),(0,t.useEffect)(p,[]),CD((function(){return function(){var e=m.current;oR(e.deps,(function(t){return sD(t,e)}))}}));var y=n.getComponentProps(f.getValue());return t.createElement(e,Ba(Ba({},y),{},{ref:u}))}))},HD=function(){function e(t,n){v(this,e),this.update=t,this.deps=n}return k(e,[{key:"eventObserved",value:function(e){"change"==e.type&&UO.write(this.update)}}]),e}();var GD=Symbol.for("AnimatedComponent"),WD=function(e){return iR.str(e)?e:e&&iR.str(e.displayName)?e.displayName:iR.fun(e)&&e.name||null},KD=["children"];function QD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return iR.fun(e)?e.apply(void 0,n):e}var YD=function(e,t){return!0===e||!!(t&&e&&(iR.fun(e)?e(t):sR(e).includes(t)))},XD=function(e,t){return iR.obj(e)?t&&e[t]:e},JD=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},ZD=function(e){return e},$D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZD,n=eL;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=N(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=t(e[o],o);iR.und(u)||(i[o]=u)}}catch(s){a.e(s)}finally{a.f()}return i},eL=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tL={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function nL(e){var t=function(e){var t={},n=0;if(uR(e,(function(e,r){tL[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return uR(e,(function(e,r){return r in t||(n[r]=e)})),n}return Ba({},e)}function rL(e){return e=nD(e),iR.arr(e)?e.map(rL):ID(e)?FO.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function iL(e){for(var t in e)return!0;return!1}function aL(e){return iR.fun(e)||iR.arr(e)&&iR.obj(e[0])}function oL(e,t){var n;null===(n=e.ref)||void 0===n||n.delete(e),null===t||void 0===t||t.delete(e)}function uL(e,t){var n;t&&e.ref!==t&&(null===(n=e.ref)||void 0===n||n.delete(e),t.add(e),e.ref=t)}var sL=Ba(Ba({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:ZR.linear,clamp:!1}),cL=k((function e(){v(this,e),this.velocity=0,Object.assign(this,sL)}));function lL(e,t){if(iR.und(t.decay)){var n=!iR.und(t.tension)||!iR.und(t.friction);!n&&iR.und(t.frequency)&&iR.und(t.damping)&&iR.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var fL=[],hL=k((function e(){v(this,e),this.changed=!1,this.values=fL,this.toValues=null,this.fromValues=fL,this.config=new cL,this.immediate=!1}));function dL(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,u){var s,c,l,f=YD(null!==(s=r.cancel)&&void 0!==s?s:null===i||void 0===i?void 0:i.cancel,n);if(f)v();else{iR.und(r.pause)||(a.paused=YD(r.pause,n));var h=null===i||void 0===i?void 0:i.pause;!0!==h&&(h=a.paused||YD(h,n)),c=QD(r.delay||0,n),h?(a.resumeQueue.add(p),o.pause()):(o.resume(),p())}function d(){a.resumeQueue.add(p),a.timeouts.delete(l),l.cancel(),c=l.time-UO.now()}function p(){c>0&&!FO.skipAnimation?(a.delayed=!0,l=UO.setTimeout(v,c),a.pauseQueue.add(d),a.timeouts.add(l)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(d),a.timeouts.delete(l),e<=(a.cancelId||0)&&(f=!0);try{o.start(Ba(Ba({},r),{},{callId:e,cancel:f}),t)}catch(n){u(n)}}}))}var pL=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?yL(e.get()):t.every((function(e){return e.noop}))?vL(e.get()):mL(e.get(),t.every((function(e){return e.finished})))},vL=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},mL=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},yL=function(e){return{value:e,cancelled:!0,finished:!1}};function gL(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,u=n.asyncTo,s=n.promise;return a||e!==u||t.reset?n.promise=Ji(Yi().mark((function c(){var l,f,h,d,p,v,m,y;return Yi().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=i,n.asyncTo=e,l=$D(t,(function(e,t){return"onRest"===t?void 0:e})),d=new Promise((function(e,t){return f=e,h=t})),p=function(e){var t=i<=(n.cancelId||0)&&yL(r)||i!==n.asyncId&&mL(r,!1);if(t)throw e.result=t,h(e),e},v=function(e,t){var a=new bL,o=new wL;return Ji(Yi().mark((function u(){var s,c;return Yi().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(!FO.skipAnimation){u.next=5;break}throw kL(n),o.result=mL(r,!1),h(o),o;case 5:return p(a),(s=iR.obj(e)?Ba({},e):Ba(Ba({},t),{},{to:e})).parentId=i,uR(l,(function(e,t){iR.und(s[t])&&(s[t]=e)})),u.next=11,r.start(s);case 11:if(c=u.sent,p(a),!n.paused){u.next=16;break}return u.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return u.abrupt("return",c);case 17:case"end":return u.stop()}}),u)})))()},!FO.skipAnimation){c.next=9;break}return kL(n),c.abrupt("return",mL(r,!1));case 9:return c.prev=9,y=iR.arr(e)?function(){var e=Ji(Yi().mark((function e(t){var n,r,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,v(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(v,r.stop.bind(r))),c.next=13,Promise.all([y.then(f),d]);case 13:m=mL(r.get(),!0,!1),c.next=27;break;case 16:if(c.prev=16,c.t0=c.catch(9),!(c.t0 instanceof bL)){c.next=22;break}m=c.t0.result,c.next=27;break;case 22:if(!(c.t0 instanceof wL)){c.next=26;break}m=c.t0.result,c.next=27;break;case 26:throw c.t0;case 27:return c.prev=27,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?u:void 0,n.promise=a?s:void 0),c.finish(27);case 30:return iR.fun(o)&&UO.batchedUpdates((function(){o(m,r,r.item)})),c.abrupt("return",m);case 32:case"end":return c.stop()}}),c,null,[[9,16,27,30]])})))():s}function kL(e,t){cR(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var bL=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}return k(n)}(T(Error)),wL=function(e){w(n,e);var t=S(n);function n(){return v(this,n),t.call(this,"SkipAnimationSignal")}return k(n)}(T(Error)),xL=function(e){return e instanceof IL},_L=1,IL=function(e){w(n,e);var t=S(n);function n(){var e;return v(this,n),(e=t.apply(this,arguments)).id=_L++,e._priority=0,e}return k(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=OD(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FO.to(this,t)}},{key:"interpolate",value:function(){xD("".concat(bD,'The "interpolate" function is deprecated in v9 (use "to" instead)'));for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FO.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){iD(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}},{key:"_onPriorityChange",value:function(e){this.idle||xR.sort(this),iD(this,{type:"priority",parent:this,priority:e})}}]),n}(aD),SL=Symbol.for("SpringPhase"),EL=function(e){return(1&e[SL])>0},TL=function(e){return(2&e[SL])>0},CL=function(e){return(4&e[SL])>0},NL=function(e,t){return t?e[SL]|=3:e[SL]&=-3},AL=function(e,t){return t?e[SL]|=4:e[SL]&=-5},PL=function(e){w(n,e);var t=S(n);function n(e,r){var i;if(v(this,n),(i=t.call(this)).animation=new hL,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!iR.und(e)||!iR.und(r)){var a=iR.obj(e)?Ba({},e):Ba(Ba({},r),{},{from:e});iR.und(a.default)&&(a.default=!0),i.start(a)}return i}return k(n,[{key:"idle",get:function(){return!(TL(this)||this._state.asyncTo)||CL(this)}},{key:"goal",get:function(){return nD(this.animation.to)}},{key:"velocity",get:function(){var e=OD(this);return e instanceof MD?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return EL(this)}},{key:"isAnimating",get:function(){return TL(this)}},{key:"isPaused",get:function(){return CL(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.toValues,o=i.config,u=DD(i.to);!u&&tD(i.to)&&(a=sR(nD(i.to))),i.values.forEach((function(s,c){if(!s.done){var l=s.constructor==jD?1:u?u[c].lastPosition:a[c],f=i.immediate,h=l;if(!f){if(h=s.lastPosition,o.tension<=0)return void(s.done=!0);var d,p=s.elapsedTime+=e,v=i.fromValues[c],m=null!=s.v0?s.v0:s.v0=iR.arr(o.velocity)?o.velocity[c]:o.velocity,y=o.precision||(v==l?.005:Math.min(1,.001*Math.abs(l-v)));if(iR.und(o.duration))if(o.decay){var g=!0===o.decay?.998:o.decay,k=Math.exp(-(1-g)*p);h=v+m/(1-g)*(1-k),f=Math.abs(s.lastPosition-h)<=y,d=m*k}else{d=null==s.lastVelocity?m:s.lastVelocity;for(var b=o.restVelocity||y/10,w=o.clamp?0:o.bounce,x=!iR.und(w),_=v==l?s.v0>0:v<l,I=Math.ceil(e/1),S=0;S<I&&(Math.abs(d)>b||!(f=Math.abs(l-h)<=y));++S){x&&(h==l||h>l==_)&&(d=-d*w,h=l),h+=1*(d+=1*((1e-6*-o.tension*(h-l)+.001*-o.friction*d)/o.mass))}}else{var E=1;o.duration>0&&(t._memoizedDuration!==o.duration&&(t._memoizedDuration=o.duration,s.durationProgress>0&&(s.elapsedTime=o.duration*s.durationProgress,p=s.elapsedTime+=e)),E=(E=(o.progress||0)+p/t._memoizedDuration)>1?1:E<0?0:E,s.durationProgress=E),d=((h=v+o.easing(E)*(l-v))-s.lastPosition)/e,f=1==E}s.lastVelocity=d,Number.isNaN(h)&&(console.warn("Got NaN while animating:",t),f=!0)}u&&!u[c].done&&(f=!1),f?s.done=!0:n=!1,s.setValue(h,o.round)&&(r=!0)}}));var s=OD(this),c=s.getValue();if(n){var l=nD(i.to);c===l&&!r||o.decay?r&&o.decay&&this._onChange(c):(s.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return UO.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(TL(this)){var t=this.animation,n=t.to,r=t.config;UO.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return iR.und(e)?(n=this.queue||[],this.queue=[]):n=[iR.obj(e)?e:Ba(Ba({},t),{},{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return pL(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),kL(this._state,e&&this._lastCallId),UO.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=iR.obj(n)?n[t]:n)||aL(n))&&(n=void 0),null==(r=iR.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!EL(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=nD(r),iR.und(r)?OD(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,$D(r,(function(e,t){return/^on/.test(t)?XD(e,i):e}))),FL(this,r,"onProps"),VL(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var u=this._state;return dL(++this._lastCallId,{key:i,props:r,defaultProps:a,state:u,actions:{pause:function(){CL(n)||(AL(n,!0),hR(u.pauseQueue),VL(n,"onPause",mL(n,OL(n,n.animation.to)),n))},resume:function(){CL(n)&&(AL(n,!1),TL(n)&&n._resume(),hR(u.resumeQueue),VL(n,"onResume",mL(n,OL(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=RL(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(yL(this));var i=!iR.und(e.to),a=!iR.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(yL(this));this._lastToId=t.callId}var o=this.key,u=this.defaultProps,s=this.animation,c=s.to,l=s.from,f=e.to,h=void 0===f?c:f,d=e.from,p=void 0===d?l:d;if(!a||i||t.default&&!iR.und(h)||(h=p),t.reverse){var v=[p,h];h=v[0],p=v[1]}var m=!aR(p,l);m&&(s.from=p),p=nD(p);var y=!aR(h,c);y&&this._focus(h);var g=aL(t.to),k=s.config,b=k.decay,w=k.velocity;(i||a)&&(k.velocity=0),t.config&&!g&&function(e,t,n){for(var r in n&&(lL(n=Ba({},n),t),t=Ba(Ba({},n),t)),lL(e,t),Object.assign(e,t),sL)null==e[r]&&(e[r]=sL[r]);var i=e.frequency,a=e.damping,o=e.mass;iR.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*o,e.friction=4*Math.PI*a*o/i)}(k,QD(t.config,o),t.config!==u.config?QD(u.config,o):void 0);var x=OD(this);if(!x||iR.und(h))return n(mL(this,!0));var _=iR.und(t.reset)?a&&!t.default:!iR.und(p)&&YD(t.reset,o),I=_?p:this.get(),S=rL(h),E=iR.num(S)||iR.arr(S)||ID(S),T=!g&&(!E||YD(u.immediate||t.immediate,o));if(y){var C=BD(h);if(C!==x.constructor){if(!T)throw Error("Cannot animate between ".concat(x.constructor.name," and ").concat(C.name,', as the "to" prop suggests'));x=this._set(S)}}var N=x.constructor,A=tD(h),P=!1;if(!A){var O=_||!EL(this)&&m;(y||O)&&(A=!(P=aR(rL(I),S))),(aR(s.immediate,T)||T)&&aR(k.decay,b)&&aR(k.velocity,w)||(A=!0)}if(P&&TL(this)&&(s.changed&&!_?A=!0:A||this._stop(c)),!g&&((A||tD(c))&&(s.values=x.getPayload(),s.toValues=tD(h)?null:N==jD?[1]:sR(S)),s.immediate!=T&&(s.immediate=T,T||_||this._set(c)),A)){var R=s.onRest;oR(jL,(function(e){return FL(r,t,e)}));var D=mL(this,OL(this,c));hR(this._pendingCalls,D),this._pendingCalls.add(n),s.changed&&UO.batchedUpdates((function(){var e;(s.changed=!_,null===R||void 0===R||R(D,r),_)?QD(u.onRest,D):null===(e=s.onStart)||void 0===e||e.call(s,D,r)}))}_&&this._set(I),g?n(gL(t.to,t,this._state,this)):A?this._start():TL(this)&&!y?this._pendingCalls.add(n):n(vL(I))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(rD(this)&&this._detach(),t.to=e,rD(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;tD(t)&&(uD(t,this),xL(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;tD(e)&&sD(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=nD(e);if(!iR.und(r)){var i=OD(this);if(!i||!aR(r,i.getValue())){var a=BD(r);i&&i.constructor==a?i.setValue(r):RD(this,a.create(r)),i&&UO.batchedUpdates((function(){t._onChange(r,n)}))}}return OD(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,VL(this,"onStart",mL(this,OL(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),QD(this.animation.onChange,e,this)),QD(this.defaultProps.onChange,e,this),ou(x(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;OD(this).reset(nD(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),TL(this)||(NL(this,!0),CL(this)||this._resume())}},{key:"_resume",value:function(){FO.skipAnimation?this.finish():xR.start(this)}},{key:"_stop",value:function(e,t){if(TL(this)){NL(this,!1);var n=this.animation;oR(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),iD(this,{type:"idle",parent:this});var r=t?yL(this.get()):mL(this.get(),OL(this,null!==e&&void 0!==e?e:n.to));hR(this._pendingCalls,r),n.changed&&(n.changed=!1,VL(this,"onRest",r,this))}}}]),n}(IL);function OL(e,t){var n=rL(t);return aR(rL(e.get()),n)}function RL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=QD(t);if(r){var i=!0!==r&&nL(r),a=(i||e).reverse,o=!i||i.reset;return DL(Ba(Ba({},e),{},{loop:t,default:!1,pause:void 0,to:!a||aL(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function DL(e){var t=e=nL(e),n=t.to,r=t.from,i=new Set;return iR.obj(n)&&ML(n,i),iR.obj(r)&&ML(r,i),e.keys=i.size?Array.from(i):null,e}function LL(e){var t=DL(e);return iR.und(t.default)&&(t.default=$D(t)),t}function ML(e,t){uR(e,(function(e,n){return null!=e&&t.add(n)}))}var jL=["onStart","onRest","onChange","onPause","onResume"];function FL(e,t,n){e.animation[n]=t[n]!==JD(t,n)?XD(t[n],e.key):void 0}function VL(e,t){for(var n,r,i,a,o=arguments.length,u=new Array(o>2?o-2:0),s=2;s<o;s++)u[s-2]=arguments[s];null===(n=(r=e.animation)[t])||void 0===n||n.call.apply(n,[r].concat(u)),null===(i=(a=e.defaultProps)[t])||void 0===i||i.call.apply(i,[a].concat(u))}var UL=["onStart","onChange","onRest"],zL=1,BL=function(){function e(t,n){v(this,e),this.id=zL++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(Ba({default:!0},t))}return k(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];iR.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(DL(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=sR(e).map(DL):this.queue=[],this._flush?this._flush(this,t):(XL(this,t),qL(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;oR(sR(t),(function(t){return n[t].stop(!!e)}))}else kL(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(iR.und(e))this.start({pause:!0});else{var t=this.springs;oR(sR(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(iR.und(e))this.start({pause:!1});else{var t=this.springs;oR(sR(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){uR(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,a=this._active.size>0,o=this._changed.size>0;(a&&!this._started||o&&!this._started)&&(this._started=!0,cR(n,(function(t){var n=c(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var u=!a&&this._started,s=o||u&&i.size?this.get():null;o&&r.size&&cR(r,(function(t){var n=c(t,2),r=n[0],i=n[1];i.value=s,r(i,e,e._item)})),u&&(this._started=!1,cR(i,(function(t){var n=c(t,2),r=n[0],i=n[1];i.value=s,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}UO.onFrame(this._onFrame)}}]),e}();function qL(e,t){return Promise.all(t.map((function(t){return HL(e,t)}))).then((function(t){return pL(e,t)}))}function HL(e,t,n){return GL.apply(this,arguments)}function GL(){return GL=Ji(Yi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,u=n.loop,s=n.onRest,c=n.onResolve,l=iR.obj(n.default)&&n.default,u&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(f=iR.arr(a)||iR.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):oR(UL,(function(e){var r=n[e];if(iR.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),h=t._state,n.pause===!h.paused?(h.paused=n.pause,hR(n.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(n.pause=!0),d=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),p=!0===n.cancel||!0===JD(n,"cancel"),(f||p&&h.asyncId)&&d.push(dL(++t._lastAsyncId,{props:n,state:h,actions:{pause:rR,resume:rR,start:function(e,n){p?(kL(h,t._lastAsyncId),n(yL(t))):(e.onRest=s,n(gL(f,e,h,t)))}}})),!h.paused){e.next=15;break}return e.next=15,new Promise((function(e){h.resumeQueue.add(e)}));case 15:return e.t0=pL,e.t1=t,e.next=19,Promise.all(d);case 19:if(e.t2=e.sent,v=(0,e.t0)(e.t1,e.t2),!u||!v.finished||r&&v.noop){e.next=26;break}if(!(m=RL(n,u,a))){e.next=26;break}return XL(t,[m]),e.abrupt("return",HL(t,m,!0));case 26:return c&&UO.batchedUpdates((function(){return c(v,t,t.item)})),e.abrupt("return",v);case 28:case"end":return e.stop()}}),e)}))),GL.apply(this,arguments)}function WL(e,t){var n=Ba({},e.springs);return t&&oR(sR(t),(function(e){iR.und(e.keys)&&(e=DL(e)),iR.obj(e.to)||(e=Ba(Ba({},e),{},{to:void 0})),YL(n,e,(function(e){return QL(e)}))})),KL(e,n),n}function KL(e,t){uR(t,(function(t,n){e.springs[n]||(e.springs[n]=t,uD(t,e))}))}function QL(e,t){var n=new PL;return n.key=e,t&&uD(n,t),n}function YL(e,t,n){t.keys&&oR(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function XL(e,t){oR(t,(function(t){YL(e.springs,t,(function(t){return QL(t,e)}))}))}var JL,ZL,$L=function(e){var n=e.children,r=MO(e,KD),i=(0,t.useContext)(eM),a=r.pause||!!i.pause,o=r.immediate||!!i.immediate;r=function(e,n){var r=c((0,t.useState)((function(){return{inputs:n,result:e()}})),1)[0],i=(0,t.useRef)(),a=i.current,o=a;return o?Boolean(n&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,o.inputs))||(o={inputs:n,result:e()}):o=r,(0,t.useEffect)((function(){i.current=o,a==r&&(r.inputs=r.result=void 0)}),[o]),o.result}((function(){return{pause:a,immediate:o}}),[a,o]);var u=eM.Provider;return t.createElement(u,{value:r},n)},eM=(JL=$L,ZL={},Object.assign(JL,t.createContext(ZL)),JL.Provider._context=JL,JL.Consumer._context=JL,JL);$L.Provider=eM.Provider,$L.Consumer=eM.Consumer;var tM=function(){var e=[],t=function(t){_D("".concat(bD,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return oR(e,(function(e,i){if(iR.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return oR(e,(function(e){return e.pause.apply(e,p(t))})),this},t.resume=function(){var t=arguments;return oR(e,(function(e){return e.resume.apply(e,p(t))})),this},t.set=function(t){oR(e,(function(e,n){var r=iR.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){var n=this,r=[];return oR(e,(function(e,i){if(iR.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return oR(e,(function(e){return e.stop.apply(e,p(t))})),this},t.update=function(t){var n=this;return oR(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return iR.fun(e)?e(n,t):e};return t._getProps=n,t};function nM(e,n,r){var i=arguments,a=iR.fun(n)&&n;a&&!r&&(r=[]);var o=(0,t.useMemo)((function(){return a||3==i.length?tM():void 0}),[]),u=(0,t.useRef)(0),s=TD(),c=(0,t.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=WL(e,t);return u.current>0&&!c.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?qL(e,t):new Promise((function(r){KL(e,n),c.queue.push((function(){r(qL(e,t))})),s()}))}}}),[]),l=(0,t.useRef)(p(c.ctrls)),f=[],h=AD(e)||0;function d(e,t){for(var r=e;r<t;r++){var i=l.current[r]||(l.current[r]=new BL(null,c.flush)),o=a?a(r,i):n[r];o&&(f[r]=LL(o))}}(0,t.useMemo)((function(){oR(l.current.slice(e,h),(function(e){oL(e,o),e.stop(!0)})),l.current.length=e,d(h,e)}),[e]),(0,t.useMemo)((function(){d(0,Math.min(h,e))}),r);var v=l.current.map((function(e,t){return WL(e,f[t])})),m=(0,t.useContext)($L),y=AD(m),g=m!==y&&iL(m);SD((function(){u.current++,c.ctrls=l.current;var e=c.queue;e.length&&(c.queue=[],oR(e,(function(e){return e()}))),oR(l.current,(function(e,t){null===o||void 0===o||o.add(e),g&&e.start({default:m});var n=f[t];n&&(uL(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),CD((function(){return function(){oR(c.ctrls,(function(e){return e.stop(!0)}))}}));var k=v.map((function(e){return Ba({},e)}));return o?[k,o]:k}function rM(e,t){var n=iR.fun(e),r=c(nM(1,n?e:[e],n?t||[]:t),2),i=c(r[0],1)[0],a=r[1];return n||2==arguments.length?[i,a]:i}var iM=function(e){w(n,e);var t=S(n);function n(e,r){var i;v(this,n),(i=t.call(this)).source=e,i.idle=!0,i._active=new Set,i.calc=GR.apply(void 0,p(r));var a=i._get(),o=BD(a);return RD(I(i),o.create(a)),i}return k(n,[{key:"advance",value:function(e){var t=this._get();aR(t,this.get())||(OD(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&oM(this._active)&&uM(this)}},{key:"_get",value:function(){var e=iR.arr(this.source)?this.source.map(nD):sR(nD(this.source));return this.calc.apply(this,p(e))}},{key:"_start",value:function(){var e=this;this.idle&&!oM(this._active)&&(this.idle=!1,oR(DD(this),(function(e){e.done=!1})),FO.skipAnimation?(UO.batchedUpdates((function(){return e.advance()})),uM(this)):xR.start(this))}},{key:"_attach",value:function(){var e=this,t=1;oR(sR(this.source),(function(n){tD(n)&&uD(n,e),xL(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;oR(sR(this.source),(function(t){tD(t)&&sD(t,e)})),this._active.clear(),uM(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=sR(this.source).reduce((function(e,t){return Math.max(e,(xL(t)?t.priority:0)+1)}),0))}}]),n}(IL);function aM(e){return!1!==e.idle}function oM(e){return!e.size||Array.from(e).every(aM)}function uM(e){e.idle||(e.idle=!0,oR(DD(e),(function(e){e.done=!0})),iD(e,{type:"idle",parent:e}))}FO.assign({createStringInterpolator:kD,to:function(e,t){return new iM(e,t)}});xR.advance;var sM=["style","children","scrollTop","scrollLeft","viewBox"],cM=["x","y","z"],lM=["scrollTop","scrollLeft"],fM=/^--/;function hM(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||fM.test(e)||pM.hasOwnProperty(e)&&pM[e]?(""+t).trim():t+"px"}var dM={};var pM={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vM=["Webkit","Ms","Moz","O"];pM=Object.keys(pM).reduce((function(e,t){return vM.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),pM);var mM=/^(matrix|translate|scale|rotate|skew)/,yM=/^(translate)/,gM=/^(rotate|skew)/,kM=function(e,t){return iR.num(e)&&0!==e?e+t:e},bM=function e(t,n){return iR.arr(t)?t.every((function(t){return e(t,n)})):iR.num(t)?t===n:parseFloat(t)===n},wM=function(e){w(n,e);var t=S(n);function n(e){var r=e.x,i=e.y,a=e.z,o=MO(e,cM);v(this,n);var u=[],s=[];return(r||i||a)&&(u.push([r||0,i||0,a||0]),s.push((function(e){return["translate3d(".concat(e.map((function(e){return kM(e,"px")})).join(","),")"),bM(e,0)]}))),uR(o,(function(e,t){if("transform"===t)u.push([e||""]),s.push((function(e){return[e,""===e]}));else if(mM.test(t)){if(delete o[t],iR.und(e))return;var n=yM.test(t)?"px":gM.test(t)?"deg":"";u.push(sR(e)),s.push("rotate3d"===t?function(e){var t=c(e,4),r=t[0],i=t[1],a=t[2],o=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(a,",").concat(kM(o,n),")"),bM(o,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return kM(e,n)})).join(","),")"),bM(e,t.startsWith("scale")?1:0)]})}})),u.length&&(o.transform=new xM(u,s)),t.call(this,o)}return k(n)}(VD),xM=function(e){w(n,e);var t=S(n);function n(e,r){var i;return v(this,n),(i=t.call(this)).inputs=e,i.transforms=r,i._value=null,i}return k(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return oR(this.inputs,(function(r,i){var a=nD(r[0]),o=c(e.transforms[i](iR.arr(a)?a:r.map(nD)),2),u=o[0],s=o[1];t+=" "+u,n=n&&s})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&oR(this.inputs,(function(e){return oR(e,(function(e){return tD(e)&&uD(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&oR(this.inputs,(function(e){return oR(e,(function(e){return tD(e)&&sD(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),iD(this,e)}}]),n}(aD);FO.assign({batchedUpdates:f.unstable_batchedUpdates,createStringInterpolator:kD,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var _M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new VD(e)}:i,o=t.getComponentProps,u={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:void 0===o?function(e){return e}:o},s=function e(t){var n=WD(t)||"Anonymous";return(t=iR.str(t)?e[t]||(e[t]=qD(t,u)):t[GD]||(t[GD]=qD(t,u))).displayName="Animated(".concat(n,")"),t};return uR(e,(function(t,n){iR.arr(e)&&(n=WD(t)),s[n]=s(t)})),{animated:s}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t.style,i=t.children,a=t.scrollTop,o=t.scrollLeft,u=t.viewBox,s=MO(t,sM),c=Object.values(s),l=Object.keys(s).map((function(t){return n||e.hasAttribute(t)?t:dM[t]||(dM[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var f in void 0!==i&&(e.textContent=i),r)if(r.hasOwnProperty(f)){var h=hM(f,r[f]);fM.test(f)?e.style.setProperty(f,h):e.style[f]=h}l.forEach((function(t,n){e.setAttribute(t,c[n])})),void 0!==a&&(e.scrollTop=a),void 0!==o&&(e.scrollLeft=o),void 0!==u&&e.setAttribute("viewBox",u)},createAnimatedStyle:function(e){return new wM(e)},getComponentProps:function(e){e.scrollTop,e.scrollLeft;return MO(e,lM)}}),IM=_M.animated,SM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},EM=t.createContext&&t.createContext(SM),TM=function(){return TM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},TM.apply(this,arguments)},CM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function NM(e){return e&&e.map((function(e,n){return t.createElement(e.tag,TM({key:n},e.attr),NM(e.child))}))}function AM(e){return function(n){return t.createElement(PM,TM({attr:TM({},e.attr)},n),NM(e.child))}}function PM(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,u=CM(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",TM({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:TM(TM({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==EM?t.createElement(EM.Consumer,null,(function(e){return n(e)})):n(SM)}function OM(e){return AM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function RM(e){return AM({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function DM(e){return AM({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function LM(e){return AM({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function MM(e){return AM({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function jM(e){return AM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}var FM=n.p+"static/media/sliderHifu.3ff77ead3839b740a66f.png",VM=n.p+"static/media/sliderDepi.c462a7b5c3b1c955ffb2.png",UM=n.p+"static/media/sliderLipo.0fe369239a3c5af3794c.png",zM=n.p+"static/media/sliderVacum.46975f0a1185159e8ff4.png",BM=[{id:4,src:n.p+"static/media/sliderTrata.dbb7a74ac6897373b07a.png",link:""},{id:1,src:FM,link:""},{id:2,src:VM,link:""},{id:5,src:zM,link:""},{id:3,src:UM,link:""}],qM=function(){var e=c((0,t.useState)(0),2),n=e[0],r=e[1],i=c((0,t.useState)(0),2),a=i[0],o=i[1],u=(0,t.useRef)(null),s=rM({opacity:1,from:{opacity:0},reset:!0}),l=function(){r((function(e){return(e+1)%BM.length}))};return(0,t.useEffect)((function(){return u.current=setTimeout((function(){l()}),6e3),function(){clearTimeout(u.current)}}),[n]),(0,t.useEffect)((function(){o(n)}),[n]),(0,et.jsxs)("div",{className:"carousel-container",children:[(0,et.jsx)("button",{className:"nav-button left",onClick:function(){r((function(e){return(e-1+BM.length)%BM.length}))},children:(0,et.jsx)(DM,{})}),(0,et.jsx)(IM.img,{style:s,src:BM[n].src,alt:"Slide ".concat(n+1),onClick:function(){var e=BM[n].link;window.location.href=e}}),(0,et.jsx)("button",{className:"nav-button right",onClick:l,children:(0,et.jsx)(LM,{})}),(0,et.jsx)("div",{className:"dots-container",children:BM.map((function(e,t){return(0,et.jsx)("div",{className:"dot ".concat(t===a?"active":""),onClick:function(){r(t)}},t)}))})]})};var HM=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)(qM,{})})},GM=n.p+"static/media/Marcas.c40b2941272b79a61e36.png",WM=n.p+"static/media/promoDefi.838abbf3c66be5923c52.png",KM=n.p+"static/media/promoHifu.c1ef8b2a8d4ca718a47b.png",QM=n.p+"static/media/promoPunta.9c9f2eef275bd38a1145.png",YM=n.p+"static/media/promoSemi.8d2887c76c06fce04a8a.png",XM=n.p+"static/media/promoLipo.0623c6d4c4c318aa2968.png",JM=function(){return(0,et.jsxs)("div",{className:"promos-container",children:[(0,et.jsx)("div",{className:"promo",children:(0,et.jsx)("img",{src:WM,alt:"Promo 1"})}),(0,et.jsx)("div",{className:"promo",children:(0,et.jsx)("img",{src:KM,alt:"Promo 2"})}),(0,et.jsx)("div",{className:"promo",children:(0,et.jsx)("img",{src:YM,alt:"Promo 3"})}),(0,et.jsx)("div",{className:"promo",children:(0,et.jsx)("img",{src:QM,alt:"Promo 4"})}),(0,et.jsx)("div",{className:"promo",children:(0,et.jsx)("img",{src:XM,alt:"Promo 5"})})]})},ZM=function(){return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("div",{className:"titleHome",children:"Salud y Belleza"}),(0,et.jsx)("div",{className:"slider-container",children:(0,et.jsx)(HM,{})}),(0,et.jsx)("div",{className:"horario",children:"Martes a Viernes de 7:30 a 19:30"}),(0,et.jsx)("h1",{className:"sub-title",children:(0,et.jsx)("span",{className:"subtitle",children:"Nuestras Promos"})}),(0,et.jsx)(JM,{}),(0,et.jsx)("h1",{className:"sub-title",children:(0,et.jsx)("span",{className:"subtitle",children:"Ubicanos"})}),(0,et.jsx)("div",{className:"maps",children:(0,et.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3407.439479316814!2d-64.27614212540101!3d-31.346849592891363!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94329e9df2d1ee0f%3A0x6b08198d72db19df!2sPablo%20Buitrago%206127%2C%20X5021DEC%20C%C3%B3rdoba!5e0!3m2!1ses-419!2sar!4v1708296695707!5m2!1ses-419!2sar",title:"maps",width:"90%",height:"auto",className:"maps",allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})}),(0,et.jsx)("div",{className:"textHome",children:(0,et.jsxs)("p",{children:["Contamos con un ",(0,et.jsx)("strong",{children:"equipo profesional altamente capacitado"})," y especializado en tratamientos est\xe9ticos y dermatol\xf3gicos."]})}),(0,et.jsx)("img",{className:"img-marcas",src:GM,alt:"Marcas"})]})},$M=function(e){var t=e.tratamiento;return(0,et.jsx)("div",{className:"card-unisex",children:(0,et.jsxs)("a",{href:t.route,children:[(0,et.jsx)("div",{className:"card-unisex-header",children:(0,et.jsx)("div",{className:"card-unisex-name",children:t.name})}),(0,et.jsx)("div",{className:"card-unisex-body",children:(0,et.jsx)("img",{src:t.img,alt:t.name})}),(0,et.jsxs)("div",{className:"card-unisex-footer",children:[(0,et.jsx)("a",{href:t.route,children:"Ver Todos"}),(0,et.jsx)("p",{className:"description-unisex",children:t.description})]})]})})};var ej=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1],i=c((0,t.useState)(null),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){var e=function(){var e=Ji(Yi().mark((function e(){var t,n,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://dhermicaestetica-default-rtdb.firebaseio.com/tratamientos.json");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("No se pudo obtener la informaci\xf3n de tratamientos");case 6:return e.next=8,t.json();case 8:n=e.sent,i=Object.keys(n).map((function(e){return Ba({id:e},n[e])})),r(i),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error al obtener los tratamientos:",e.t0),o("Error al obtener los tratamientos");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,et.jsx)("div",{children:a?(0,et.jsxs)("div",{children:["Error: ",a]}):(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"background-container",children:[(0,et.jsx)("div",{className:"titleTratamientos",children:"TRATAMIENTOS"}),(0,et.jsx)("div",{className:"trataContainer",children:n.map((function(e){return(0,et.jsx)($M,{tratamiento:e},e.id)}))})]})})})},tj=function(){return(0,et.jsx)("div",{children:(0,et.jsx)("h1",{children:"PRODUCTOS"})})},nj=function(){return(0,et.jsx)("div",{children:(0,et.jsx)("h1",{children:"CONTACTO"})})},rj=function(e){var t=e.tratamiento;return(0,et.jsxs)("div",{className:"card",children:[(0,et.jsxs)("div",{className:"card-header",children:[(0,et.jsx)("div",{className:"avatar",children:t.avatar}),(0,et.jsx)("div",{className:"card-name",children:t.name})]}),(0,et.jsx)("div",{className:"card-body",children:(0,et.jsx)("img",{src:t.img,alt:t.name})}),(0,et.jsxs)("div",{className:"card-footer",children:[(0,et.jsx)("a",{href:t.route,children:"Ver M\xe1s"}),(0,et.jsx)("p",{className:"description",children:t.description})]})]})};var ij=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1],i=c((0,t.useState)(null),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){var e=function(){var e=Ji(Yi().mark((function e(){var t,n,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://dhermicaestetica-default-rtdb.firebaseio.com/ellas.json");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("No se pudo obtener la informaci\xf3n de ellas");case 6:return e.next=8,t.json();case 8:n=e.sent,i=Object.keys(n).map((function(e){return Ba({id:e},n[e])})),r(i),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error al obtener ellas:",e.t0),o("Error al obtener ellas");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,et.jsx)("div",{children:a?(0,et.jsxs)("div",{children:["Error: ",a]}):(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"background-container-ellas",children:[(0,et.jsx)("div",{className:"titleEllas",children:"PARA ELLAS "}),(0,et.jsx)("div",{className:"ellasContainer",children:n.map((function(e){return(0,et.jsx)(rj,{tratamiento:e},e.id)}))})]})})})};var aj=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1],i=c((0,t.useState)(null),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){var e=function(){var e=Ji(Yi().mark((function e(){var t,n,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://dhermicaestetica-default-rtdb.firebaseio.com/ellos.json");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("No se pudo obtener la informaci\xf3n de ellos");case 6:return e.next=8,t.json();case 8:n=e.sent,i=Object.keys(n).map((function(e){return Ba({id:e},n[e])})),r(i),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error al obtener ellos:",e.t0),o("Error al obtener ellos");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,et.jsx)("div",{children:a?(0,et.jsxs)("div",{children:["Error: ",a]}):(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"background-container-ellos",children:[(0,et.jsx)("div",{className:"titleEllos",children:"PARA ELLOS"}),(0,et.jsx)("div",{className:"ellosContainer",children:n.map((function(e){return(0,et.jsx)(rj,{tratamiento:e},e.id)}))})]})})})};function oj(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=oj(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var uj=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=oj(e))&&(r&&(r+=" "),r+=t);return r},sj=["theme","type"],cj=["delay","staleId"],lj=function(e){return"number"==typeof e&&!isNaN(e)},fj=function(e){return"string"==typeof e},hj=function(e){return"function"==typeof e},dj=function(e){return fj(e)||hj(e)?e:null},pj=function(e){return(0,t.isValidElement)(e)||fj(e)||hj(e)||lj(e)};function vj(e){var n=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,u=void 0===o||o,s=e.collapseDuration,c=void 0===s?300:s;return function(e){var i=e.children,o=e.position,s=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=a?"".concat(n,"--").concat(o):n,v=a?"".concat(r,"--").concat(o):r,m=(0,t.useRef)(0);return(0,t.useLayoutEffect)((function(){var e,t=f.current,n=d.split(" "),r=function e(r){var i;r.target===f.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===m.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,p(n)))};(e=t.classList).add.apply(e,p(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,t.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),u?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()};h||(s?t():(m.current=1,e.className+=" ".concat(v),e.addEventListener("animationend",t)))}),[h]),t.createElement(t.Fragment,null,i)}}function mj(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var yj={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,p([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}},gj=function(e){var n=e.theme,r=e.type,i=MO(e,sj);return t.createElement("svg",Ba({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))},kj={info:function(e){return t.createElement(gj,Ba({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(gj,Ba({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(gj,Ba({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(gj,Ba({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function bj(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=c(n,2)[1],i=c((0,t.useState)([]),2),a=i[0],o=i[1],u=(0,t.useRef)(null),s=(0,t.useRef)(new Map).current,l=function(e){return-1!==a.indexOf(e)},f=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return s.get(e)}}).current;function h(e){var t=e.containerId;!f.props.limit||t&&f.containerId!==t||(f.count-=f.queue.length,f.queue=[])}function d(e){o((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function v(){var e=f.queue.shift();y(e.toastContent,e.toastProps,e.staleId)}function m(e,n){var i=n.delay,a=n.staleId,o=MO(n,cj);if(pj(e)&&!function(e){return!u.current||f.props.enableMultiContainer&&e.containerId!==f.props.containerId||s.has(e.toastId)&&null==e.updateId}(o)){var l=o.toastId,h=o.updateId,p=o.data,m=f.props,g=function(){return d(l)},k=null==h;k&&f.count++;var b,w,x=Ba(Ba(Ba({},m),{},{style:m.toastStyle,key:f.toastKey++},Object.fromEntries(Object.entries(o).filter((function(e){var t=c(e,2);t[0];return null!=t[1]})))),{},{toastId:l,updateId:h,data:p,closeToast:g,isIn:!1,className:dj(o.className||m.toastClassName),bodyClassName:dj(o.bodyClassName||m.bodyClassName),progressClassName:dj(o.progressClassName||m.progressClassName),autoClose:!o.isLoading&&(b=o.autoClose,w=m.autoClose,!1===b||lj(b)&&b>0?b:w),deleteToast:function(){var e=mj(s.get(l),"removed");s.delete(l),yj.emit(4,e);var t=f.queue.length;if(f.count=null==l?f.count-f.displayedToast:f.count-1,f.count<0&&(f.count=0),t>0){var n=null==l?f.props.limit:1;if(1===t||1===n)f.displayedToast++,v();else{var i=n>t?t:n;f.displayedToast=i;for(var a=0;a<i;a++)v()}}else r()}});x.iconOut=function(e){var n=e.theme,r=e.type,i=e.isLoading,a=e.icon,o=null,u={theme:n,type:r};return!1===a||(hj(a)?o=a(u):(0,t.isValidElement)(a)?o=(0,t.cloneElement)(a,u):fj(a)||lj(a)?o=a:i?o=kj.spinner():function(e){return e in kj}(r)&&(o=kj[r](u))),o}(x),hj(o.onOpen)&&(x.onOpen=o.onOpen),hj(o.onClose)&&(x.onClose=o.onClose),x.closeButton=m.closeButton,!1===o.closeButton||pj(o.closeButton)?x.closeButton=o.closeButton:!0===o.closeButton&&(x.closeButton=!pj(m.closeButton)||m.closeButton);var _=e;(0,t.isValidElement)(e)&&!fj(e.type)?_=(0,t.cloneElement)(e,{closeToast:g,toastProps:x,data:p}):hj(e)&&(_=e({closeToast:g,toastProps:x,data:p})),m.limit&&m.limit>0&&f.count>m.limit&&k?f.queue.push({toastContent:_,toastProps:x,staleId:a}):lj(i)?setTimeout((function(){y(_,x,a)}),i):y(_,x,a)}}function y(e,t,n){var r=t.toastId;n&&s.delete(n);var i={content:e,props:t};s.set(r,i),o((function(e){return[].concat(p(e),[r]).filter((function(e){return e!==n}))})),yj.emit(4,mj(i,null==i.props.updateId?"added":"updated"))}return(0,t.useEffect)((function(){return f.containerId=e.containerId,yj.cancelEmit(3).on(0,m).on(1,(function(e){return u.current&&d(e)})).on(5,h).emit(2,f),function(){s.clear(),yj.emit(3,f)}}),[]),(0,t.useEffect)((function(){f.props=e,f.isToastActive=l,f.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(s.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:u,isToastActive:l}}function wj(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function xj(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function _j(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Ij(e){var n=e.delay,r=e.isRunning,i=e.closeToast,a=e.type,o=void 0===a?"default":a,u=e.hide,s=e.className,c=e.style,l=e.controlledProgress,f=e.progress,h=e.rtl,d=e.isIn,p=e.theme,v=u||l&&0===f,m=Ba(Ba({},c),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused",opacity:v?0:1});l&&(m.transform="scaleX(".concat(f,")"));var y=uj("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":h}),g=hj(s)?s({rtl:h,type:o,defaultClassName:y}):uj(y,s);return t.createElement("div",Zi({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:g,style:m},l&&f>=1?"onTransitionEnd":"onAnimationEnd",l&&f<1?null:function(){d&&i()}))}var Sj=function(e){var n=function(e){var n=c((0,t.useState)(!1),2),r=n[0],i=n[1],a=c((0,t.useState)(!1),2),o=a[0],u=a[1],s=(0,t.useRef)(null),l=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,f=(0,t.useRef)(e),h=e.autoClose,d=e.pauseOnHover,p=e.closeToast,v=e.onClick,m=e.closeOnClick;function y(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",x),document.addEventListener("touchmove",w),document.addEventListener("touchend",x);var n=s.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=wj(t.nativeEvent),l.y=xj(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(t){if(l.boundingRect){var n=l.boundingRect,r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&l.x>=a&&l.x<=o&&l.y>=r&&l.y<=i?b():k()}}function k(){i(!0)}function b(){i(!1)}function w(t){var n=s.current;l.canDrag&&n&&(l.didMove=!0,r&&b(),l.x=wj(t),l.y=xj(t),l.delta="x"===e.draggableDirection?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate".concat(e.draggableDirection,"(").concat(l.delta,"px)"),n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function x(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",x);var t=s.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return u(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,t.useEffect)((function(){f.current=e})),(0,t.useEffect)((function(){return s.current&&s.current.addEventListener("d",k,{once:!0}),hj(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=f.current;hj(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",k),window.addEventListener("blur",b)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",k),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var _={onMouseDown:y,onTouchStart:y,onMouseUp:g,onTouchEnd:g};return h&&d&&(_.onMouseEnter=b,_.onMouseLeave=k),m&&(_.onClick=function(e){v&&v(e),l.canCloseOnClick&&p()}),{playToast:k,pauseToast:b,isRunning:r,preventExitTransition:o,toastRef:s,eventHandlers:_}}(e),r=n.isRunning,i=n.preventExitTransition,a=n.toastRef,o=n.eventHandlers,u=e.closeButton,s=e.children,l=e.autoClose,f=e.onClick,h=e.type,d=e.hideProgressBar,p=e.closeToast,v=e.transition,m=e.position,y=e.className,g=e.style,k=e.bodyClassName,b=e.bodyStyle,w=e.progressClassName,x=e.progressStyle,_=e.updateId,I=e.role,S=e.progress,E=e.rtl,T=e.toastId,C=e.deleteToast,N=e.isIn,A=e.isLoading,P=e.iconOut,O=e.closeOnClick,R=e.theme,D=uj("Toastify__toast","Toastify__toast-theme--".concat(R),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":O}),L=hj(y)?y({rtl:E,position:m,type:h,defaultClassName:D}):uj(D,y),M=!!S||!l,j={closeToast:p,type:h,theme:R},F=null;return!1===u||(F=hj(u)?u(j):(0,t.isValidElement)(u)?(0,t.cloneElement)(u,j):_j(j)),t.createElement(v,{isIn:N,done:C,position:m,preventExitTransition:i,nodeRef:a},t.createElement("div",Ba(Ba({id:T,onClick:f,className:L},o),{},{style:g,ref:a}),t.createElement("div",Ba(Ba({},N&&{role:I}),{},{className:hj(k)?k({type:h}):uj("Toastify__toast-body",k),style:b}),null!=P&&t.createElement("div",{className:uj("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},P),t.createElement("div",null,s)),F,t.createElement(Ij,Ba(Ba({},_&&!M?{key:"pb-".concat(_)}:{}),{},{rtl:E,theme:R,delay:l,isRunning:r,isIn:N,closeToast:p,hide:d,type:h,style:x,className:w,controlledProgress:M,progress:S||0}))))},Ej=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Tj=vj(Ej("bounce",!0)),Cj=(vj(Ej("slide",!0)),vj(Ej("zoom")),vj(Ej("flip")),(0,t.forwardRef)((function(e,n){var r=bj(e),i=r.getToastToRender,a=r.containerRef,o=r.isToastActive,u=e.className,s=e.style,c=e.rtl,l=e.containerId;function f(e){var t=uj("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":c});return hj(u)?u({position:e,rtl:c,defaultClassName:t}):uj(t,dj(u))}return(0,t.useEffect)((function(){n&&(n.current=a.current)}),[]),t.createElement("div",{ref:a,className:"Toastify",id:l},i((function(e,n){var r=n.length?Ba({},s):Ba(Ba({},s),{},{pointerEvents:"none"});return t.createElement("div",{className:f(e),style:r,key:"container-".concat(e)},n.map((function(e,r){var i=e.content,a=e.props;return t.createElement(Sj,Ba(Ba({},a),{},{isIn:o(a.toastId),style:Ba(Ba({},a.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-".concat(a.key)}),i)})))})))})));Cj.displayName="ToastContainer",Cj.defaultProps={position:"top-right",transition:Tj,autoClose:5e3,closeButton:_j,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var Nj,Aj=new Map,Pj=[],Oj=1;function Rj(){return""+Oj++}function Dj(e){return e&&(fj(e.toastId)||lj(e.toastId))?e.toastId:Rj()}function Lj(e,t){return Aj.size>0?yj.emit(0,e,t):Pj.push({content:e,options:t}),t.toastId}function Mj(e,t){return Ba(Ba({},t),{},{type:t&&t.type||e,toastId:Dj(t)})}function jj(e){return function(t,n){return Lj(t,Mj(e,n))}}function Fj(e,t){return Lj(e,Mj("default",t))}Fj.loading=function(e,t){return Lj(e,Mj("default",Ba({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Fj.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=fj(i)?Fj.loading(i,n):Fj.loading(i.render,Ba(Ba({},n),i)));var u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=function(e,t,i){if(null!=t){var a=Ba(Ba(Ba({type:e},u),n),{},{data:i}),o=fj(t)?{render:t}:t;return r?Fj.update(r,Ba(Ba({},a),o)):Fj(o.render,Ba(Ba({},a),o)),i}Fj.dismiss(r)},c=hj(e)?e():e;return c.then((function(e){return s("success",o,e)})).catch((function(e){return s("error",a,e)})),c},Fj.success=jj("success"),Fj.info=jj("info"),Fj.error=jj("error"),Fj.warning=jj("warning"),Fj.warn=Fj.warning,Fj.dark=function(e,t){return Lj(e,Mj("default",Ba({theme:"dark"},t)))},Fj.dismiss=function(e){Aj.size>0?yj.emit(1,e):Pj=Pj.filter((function(t){return null!=e&&t.options.toastId!==e}))},Fj.clearWaitingQueue=function(e){return void 0===e&&(e={}),yj.emit(5,e)},Fj.isActive=function(e){var t=!1;return Aj.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Fj.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Aj.get(n||Nj);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,a=Ba(Ba(Ba({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Rj()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,Lj(o,a)}}),0)},Fj.done=function(e){Fj.update(e,{progress:1})},Fj.onChange=function(e){return yj.on(4,e),function(){yj.off(4,e)}},Fj.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Fj.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},yj.on(2,(function(e){Nj=e.containerId||e,Aj.set(Nj,e),Pj.forEach((function(e){yj.emit(0,e.content,e.options)})),Pj=[]})).on(3,(function(e){Aj.delete(e.containerId||e),0===Aj.size&&yj.off(0).off(1).off(5)}));var Vj=function(e){var n=e.profesional,r=e.fecha,i=c((0,t.useState)(""),2),a=i[0],o=i[1],u=c((0,t.useState)(""),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1],p=c((0,t.useState)(1),2),v=p[0],m=p[1];return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={nombre:a,servicio:s,hora:h,fecha:r,duracion:Number(v)};AO.collection("turnos".concat(n)).add(t).then((function(){Fj.success("Turno agregado con \xe9xito",{position:"top-center",autoClose:2e3}),o(""),l(""),d(""),m(1)})).catch((function(e){console.error("Error al agregar el turno: ",e),Fj.error("Hubo un error al agregar el turno",{position:"top-center",autoClose:2e3})}))},className:"formulario-turno",children:[(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Li,className:"input-icon"}),(0,et.jsx)("input",{type:"text",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Nombre",required:!0,className:"input"})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Ki,className:"input-icon"}),(0,et.jsx)("input",{type:"text",value:s,onChange:function(e){return l(e.target.value)},placeholder:"Tratamiento",required:!0,className:"input"})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Bi,className:"input-icon"}),(0,et.jsx)("input",{type:"time",value:h,onChange:function(e){return d(e.target.value)},min:"07:30",max:"19:30",step:"1800",required:!0,className:"input"})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:ji,className:"input-icon"}),(0,et.jsxs)("select",{value:v,onChange:function(e){return m(e.target.value)},required:!0,className:"input",children:[(0,et.jsx)("option",{value:"0.5",children:"30 minutos"}),(0,et.jsx)("option",{value:"1",children:"1 hora"}),(0,et.jsx)("option",{value:"1.5",children:"1 hora y 30 minutos"}),(0,et.jsx)("option",{value:"2",children:"2 horas"}),(0,et.jsx)("option",{value:"2.5",children:"2 horas y 30 minutos"}),(0,et.jsx)("option",{value:"3",children:"3 horas"}),(0,et.jsx)("option",{value:"3.5",children:"3 horas y 30 minutos"}),(0,et.jsx)("option",{value:"4",children:"4 horas"})]})]}),(0,et.jsx)("div",{children:(0,et.jsx)("button",{type:"submit",className:"submit",children:"Agregar turno"})})]})})},Uj=function(e){var n=e.fecha,r=c((0,t.useState)([]),2),i=r[0],a=r[1];(0,t.useEffect)((function(){AO.collection("turnos".concat("Luciana")).where("fecha","==",n).onSnapshot((function(e){a(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[n]);for(var o=[],u=7.5;u<=19.5;u+=.5){var s=Math.floor(u),l=u%1?"30":"00";o.push("".concat(s,":").concat(l))}var f=function(e){var t=c(e.split(":"),2),n=t[0],r=t[1];return Number(n)+Number(r)/60};return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(Cj,{}),(0,et.jsxs)("div",{className:"horarios",children:[(0,et.jsx)("div",{className:"title-horarios-lu",children:(0,et.jsx)("h2",{children:"Luciana"})}),(0,et.jsx)("div",{children:(0,et.jsx)("button",{id:"searchButton",onClick:function(){window.location.href="/SearchTurnoLu"},children:"Buscar Turno"})}),(0,et.jsxs)("div",{className:"horarios-container",children:[(0,et.jsxs)("table",{className:"horarios-table",children:[(0,et.jsx)("thead",{children:(0,et.jsxs)("tr",{children:[(0,et.jsx)("th",{children:"Hora"}),(0,et.jsx)("th",{children:"Nombre"}),(0,et.jsx)("th",{children:"Tratamiento"}),(0,et.jsx)("th",{children:"Acci\xf3n"})]})}),(0,et.jsx)("tbody",{children:o.map((function(e){var t=function(e){var t,n=N(i);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=f(r.data.hora),o=f(e);if(o>=a&&o<a+r.data.duracion)return r}}catch(u){n.e(u)}finally{n.f()}return null}(e);return(0,et.jsxs)("tr",{className:"horario-row",children:[(0,et.jsx)("td",{children:e}),(0,et.jsx)("td",{children:t?t.data.nombre:"-"}),(0,et.jsx)("td",{children:t?t.data.servicio:"-"}),(0,et.jsx)("td",{children:t?(0,et.jsx)("button",{onClick:function(){return function(e){window.confirm("\xbfEst\xe1s seguro de que deseas eliminar este turno?")&&AO.collection("turnos".concat("Luciana")).doc(e).delete().then((function(){Fj.success("Turno eliminado con \xe9xito",{position:Fj.POSITION.TOP_CENTER,autoClose:1500}),console.log("Turno eliminado con \xe9xito")})).catch((function(e){console.error("Error al eliminar el turno: ",e)}))}(t.id)},className:"eliminar",children:"Eliminar"}):(0,et.jsx)("span",{className:"disponible",children:"Disponible"})})]},e)}))})]}),(0,et.jsx)("div",{className:"formulario-turno",children:(0,et.jsx)(Vj,{profesional:"Luciana",fecha:n})}),(0,et.jsx)("div",{className:"title-horarios-lu",children:(0,et.jsx)("h2",{children:"Luciana"})})]})]})]})},zj=function(e){var n=e.fecha,r=c((0,t.useState)([]),2),i=r[0],a=r[1];(0,t.useEffect)((function(){AO.collection("turnos".concat("Gisela")).where("fecha","==",n).onSnapshot((function(e){a(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[n]);for(var o=[],u=7.5;u<=19.5;u+=.5){var s=Math.floor(u),l=u%1?"30":"00";o.push("".concat(s,":").concat(l))}var f=function(e){var t=c(e.split(":"),2),n=t[0],r=t[1];return Number(n)+Number(r)/60};return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(Cj,{}),(0,et.jsxs)("div",{className:"horarios",children:[(0,et.jsx)("div",{className:"title-horarios-lu",children:(0,et.jsx)("h2",{children:"Gisela"})}),(0,et.jsx)("div",{children:(0,et.jsx)("button",{id:"searchButton",onClick:function(){window.location.href="/SearchTurnoGi"},children:"Buscar Turno"})}),(0,et.jsxs)("div",{className:"horarios-container",children:[(0,et.jsxs)("table",{className:"horarios-table",children:[(0,et.jsx)("thead",{children:(0,et.jsxs)("tr",{children:[(0,et.jsx)("th",{children:"Hora"}),(0,et.jsx)("th",{children:"Nombre"}),(0,et.jsx)("th",{children:"Tratamiento"}),(0,et.jsx)("th",{children:"Acci\xf3n"})]})}),(0,et.jsx)("tbody",{children:o.map((function(e){var t=function(e){var t,n=N(i);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=f(r.data.hora),o=f(e);if(o>=a&&o<a+r.data.duracion)return r}}catch(u){n.e(u)}finally{n.f()}return null}(e);return(0,et.jsxs)("tr",{className:"horario-row",children:[(0,et.jsx)("td",{children:e}),(0,et.jsx)("td",{children:t?t.data.nombre:"-"}),(0,et.jsx)("td",{children:t?t.data.servicio:"-"}),(0,et.jsx)("td",{children:t?(0,et.jsx)("button",{onClick:function(){return function(e){window.confirm("\xbfEst\xe1s seguro de que deseas eliminar este turno?")&&AO.collection("turnos".concat("Gisela")).doc(e).delete().then((function(){Fj.success("Turno eliminado con \xe9xito",{position:Fj.POSITION.TOP_CENTER,autoClose:1500}),console.log("Turno eliminado con \xe9xito")})).catch((function(e){console.error("Error al eliminar el turno: ",e)}))}(t.id)},className:"eliminar",children:"Eliminar"}):(0,et.jsx)("span",{className:"disponible",children:"Disponible"})})]},e)}))})]}),(0,et.jsx)("div",{className:"formulario-turno",children:(0,et.jsx)(Vj,{profesional:"Gisela",fecha:n})}),(0,et.jsx)("div",{className:"title-horarios-lu",children:(0,et.jsx)("h2",{children:"Gisela"})})]})]})]})},Bj=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1];return(0,et.jsxs)("div",{className:"turnos",children:[(0,et.jsx)("div",{className:"title-turnos",children:(0,et.jsx)("h1",{children:"Turnos"})}),(0,et.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(n)},className:"formulario-fecha",children:[(0,et.jsx)("label",{htmlFor:"fecha",children:(0,et.jsx)("h2",{children:"Selecciona una fecha:"})}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Di,className:"calendar-icon"}),(0,et.jsx)("input",{type:"date",id:"fecha",value:n,onChange:function(e){return r(e.target.value)},required:!0,className:"input-date"})]})]}),(0,et.jsxs)("div",{className:"horarios-turnos-container",children:[(0,et.jsx)("div",{className:"columna",children:(0,et.jsx)(Uj,{fecha:n})}),(0,et.jsx)("div",{className:"columna",children:(0,et.jsx)(zj,{fecha:n})})]})]})},qj=function(){var e=function(){window.scrollTo({top:0,behavior:"smooth"})},n={data:"",name:"",descripcion:""},r=c((0,t.useState)(n),2),i=r[0],a=r[1],o=c((0,t.useState)([]),2),u=o[0],s=o[1],l=c((0,t.useState)(""),2),f=l[0],h=l[1],d=function(e){var t=e.target,n=t.name,r=t.value;a(Ba(Ba({},i),{},Zi({},n,r)))},p=function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==f){e.next=7;break}return e.next=4,AO.collection("recordatorios").doc().set(t);case 4:Fj("Recordatorio Agregado",{type:"success",autoClose:1e3,position:"top-center"}),e.next=11;break;case 7:return e.next=9,AO.collection("recordatorios").doc(f).update(t);case 9:Fj("Recordatorio Actualizado",{type:"info",autoClose:1e3,position:"top-center"}),h("");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\xbfDesea eliminar el recordatorio?")){e.next=4;break}return e.next=3,AO.collection("recordatorios").doc(t).delete();case 3:Fj("Recordatorio Eliminado",{type:"error",autoClose:1e3,position:"top-center"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:AO.collection("recordatorios").orderBy("data","asc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Ba(Ba({},e.data()),{},{id:e.id}))})),s(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){m()}),[]);return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{children:[(0,et.jsxs)("div",{className:"custom-container",children:[(0,et.jsx)("h1",{className:"title-recordatorios",children:"Recordatorios"}),(0,et.jsx)("h4",{className:"custom-heading",children:"Ingresar Recordatorio"}),(0,et.jsxs)("form",{className:"custom-form",onSubmit:function(e){e.preventDefault(),""===i.data?Fj("ERROR: Ingrese una Fecha",{type:"error",autoClose:2500,position:"top-center"}):(p(i),a(n),h(""))},children:[(0,et.jsx)("div",{className:"custom-form-group",children:(0,et.jsxs)("div",{className:"custom-input-group",children:[(0,et.jsx)("div",{className:"custom-input-group-text",children:(0,et.jsx)("i",{className:"material-icons custom-icon",children:"event"})}),(0,et.jsx)("input",{type:"date",className:"custom-form-control",placeholder:"Fecha (DD/MM/AAAA)",name:"data",onChange:d,value:i.data})]})}),(0,et.jsx)("div",{className:"custom-form-group",children:(0,et.jsxs)("div",{className:"custom-input-group",children:[(0,et.jsx)("div",{className:"custom-input-group-text",children:(0,et.jsx)("i",{className:"material-icons custom-icon",children:"create"})}),(0,et.jsx)("input",{type:"text",className:"custom-form-control",name:"name",placeholder:"Recordatorio",onChange:d,value:i.name})]})}),(0,et.jsx)("div",{className:"custom-form-group",children:(0,et.jsx)("textarea",{name:"descripcion",rows:"3",className:"custom-form-control",placeholder:"Descripci\xf3n",onChange:d,value:i.descripcion})}),(0,et.jsx)("div",{className:"btn-container",children:(0,et.jsx)("button",{className:"custom-btn",children:""===f?"GUARDAR":"ACTUALIZAR"})})]})]}),(0,et.jsxs)("div",{className:"custom-container",children:[(0,et.jsx)("h4",{className:"custom-heading",children:"Reporte de Recordatorios"}),u.map((function(t){return(0,et.jsx)("div",{className:"custom-card",children:(0,et.jsxs)("div",{className:"custom-card-body",children:[(0,et.jsxs)("div",{className:"custom-flex",children:[(0,et.jsx)("h4",{children:t.data}),(0,et.jsx)("h3",{className:"custom-text-success",children:t.name}),(0,et.jsxs)("div",{className:"btn-i-container",children:[(0,et.jsx)("button",{className:"custom-btn-i",children:(0,et.jsx)("i",{className:"material-icons custom-text-danger",onClick:function(){return v(t.id)},children:"delete"})}),(0,et.jsx)("button",{className:"custom-btn-i",onClick:e,children:(0,et.jsx)("i",{className:"material-icons custom-text-success",onClick:function(){return function(e){var t=u.find((function(t){return t.id===e}));t&&(a({data:t.data,name:t.name,descripcion:t.descripcion}),h(e))}(t.id)},children:"edit"})})]})]}),(0,et.jsx)("p",{className:"custom-paragraph",children:t.descripcion})]})},t.id)}))]})]})})},Hj=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1],u=c((0,t.useState)(""),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1],p=c((0,t.useState)(""),2),v=p[0],m=p[1],y=c((0,t.useState)(""),2),g=y[0],k=y[1],b=c((0,t.useState)(null),2),w=b[0],x=b[1],_=Ie(),I=function(){var e=Ji(Yi().mark((function e(t){var r;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,PO.createUserWithEmailAndPassword(n,a);case 4:return r=e.sent,e.next=7,r.user.updateProfile({displayName:s});case 7:return e.next=9,AO.collection("users").doc(r.user.uid).set({firstName:s,lastName:h,email:n,phone:v,birthday:g});case 9:_("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),x(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,et.jsx)("div",{className:"register-container",children:(0,et.jsxs)("div",{className:"register-form",children:[(0,et.jsx)("h2",{children:"Crear Cuenta"}),(0,et.jsxs)("form",{children:[(0,et.jsxs)("div",{className:"register-input-group",children:[(0,et.jsx)("label",{children:"Nombre:"}),(0,et.jsx)("input",{type:"text",value:s,onChange:function(e){return l(e.target.value)}})]}),(0,et.jsxs)("div",{className:"register-input-group",children:[(0,et.jsx)("label",{children:"Apellido:"}),(0,et.jsx)("input",{type:"text",value:h,onChange:function(e){return d(e.target.value)}})]}),(0,et.jsxs)("div",{className:"register-input-group",children:[(0,et.jsx)("label",{children:"Email:"}),(0,et.jsx)("input",{type:"email",value:n,onChange:function(e){return r(e.target.value)}})]}),(0,et.jsxs)("div",{className:"register-input-group",children:[(0,et.jsx)("label",{children:"Contrase\xf1a:"}),(0,et.jsx)("input",{type:"password",value:a,onChange:function(e){return o(e.target.value)}})]}),(0,et.jsxs)("div",{className:"register-input-group",children:[(0,et.jsx)("label",{children:"Tel\xe9fono:"}),(0,et.jsx)("input",{type:"tel",value:v,onChange:function(e){return m(e.target.value)}})]}),(0,et.jsxs)("div",{className:"register-input-group",children:[(0,et.jsx)("label",{children:"Cumplea\xf1os:"}),(0,et.jsx)("input",{type:"date",value:g,onChange:function(e){return k(e.target.value)}})]}),(0,et.jsx)("button",{className:"register-button",onClick:I,children:"Crear Cuenta"})]}),(0,et.jsxs)("p",{className:"register-tengo",children:["\xbfYa ten\xe9s una cuenta? ",(0,et.jsx)("a",{href:"Login",children:"Inici\xe1 Sesi\xf3n"})]}),w&&(0,et.jsx)("p",{className:"error-message",children:w})]})})},Gj=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1],u=c((0,t.useState)(null),2),s=u[0],l=u[1],f=Ie(),h=function(){var e=Ji(Yi().mark((function e(t){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,PO.signInWithEmailAndPassword(n,a);case 4:f("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),l(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Ji(Yi().mark((function e(){return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yC(PO,n);case 3:l(null),alert("Se ha enviado un correo electr\xf3nico para restablecer tu contrase\xf1a. Por favor, revisa tu bandeja de entrada."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("div",{className:"login-container",children:(0,et.jsxs)("div",{className:"login-form",children:[(0,et.jsx)("h2",{children:"Iniciar Sesi\xf3n"}),(0,et.jsxs)("form",{children:[(0,et.jsxs)("div",{className:"login-input-group",children:[(0,et.jsx)("label",{children:"Email:"}),(0,et.jsx)("input",{type:"email",value:n,onChange:function(e){return r(e.target.value)}})]}),(0,et.jsxs)("div",{className:"login-input-group",children:[(0,et.jsx)("label",{children:"Contrase\xf1a:"}),(0,et.jsx)("input",{type:"password",value:a,onChange:function(e){return o(e.target.value)}})]}),(0,et.jsx)("p",{className:"login-olvidar",children:(0,et.jsx)("p",{onClick:function(){return d()},children:"\xbfOlvidaste tu contrase\xf1a?"})}),(0,et.jsx)("button",{className:"login-button",onClick:h,children:"Iniciar Sesi\xf3n"})]}),(0,et.jsxs)("p",{className:"login-tengo",children:["\xbfNo ten\xe9s cuenta? ",(0,et.jsx)("a",{href:"Register",children:"Crear Cuenta"})]}),s&&(0,et.jsx)("p",{className:"error-message",children:s})]})})})},Wj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Kj(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var Qj={date:Kj({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Kj({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Kj({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Yj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Xj(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var o=e.defaultWidth,u=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[u]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var Jj={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Xj({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Xj({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Xj({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Xj({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Xj({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Zj(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o,u=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(function(e){return e.test(u)})):function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(function(e){return e.test(u)}));return o=e.valueCallback?e.valueCallback(c):c,{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(u.length)}}}var $j,eF={ordinalNumber:($j={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match($j.matchPattern);if(!n)return null;var r=n[0],i=e.match($j.parsePattern);if(!i)return null;var a=$j.valueCallback?$j.valueCallback(i[0]):i[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(r.length)}}),era:Zj({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Zj({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Zj({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Zj({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Zj({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},tF={code:"en-US",formatDistance:function(e,t,n){var r,i=Wj[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Qj,formatRelative:function(e,t,n,r){return Yj[e]},localize:Jj,match:eF,options:{weekStartsOn:0,firstWeekContainsDate:1}},nF={};function rF(){return nF}Math.pow(10,8);var iF=6048e5,aF=864e5;function oF(e){var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function uF(e){var t=oF(e);return t.setHours(0,0,0,0),t}function sF(e){var t=oF(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function cF(e,t){var n=uF(e),r=uF(t),i=+n-sF(n),a=+r-sF(r);return Math.round((i-a)/aF)}function lF(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function fF(e){var t=oF(e),n=lF(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function hF(e){var t=oF(e);return cF(t,fF(t))+1}function dF(e,t){var n,r,i,a,o,u,s=rF(),c=null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:s.weekStartsOn)&&void 0!==r?r:null===(u=s.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0,l=oF(e),f=l.getDay(),h=(f<c?7:0)+f-c;return l.setDate(l.getDate()-h),l.setHours(0,0,0,0),l}function pF(e){return dF(e,{weekStartsOn:1})}function vF(e){var t=oF(e),n=t.getFullYear(),r=lF(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=pF(r),a=lF(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);var o=pF(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function mF(e){var t=vF(e),n=lF(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),pF(n)}function yF(e){var t=oF(e),n=+pF(t)-+mF(t);return Math.round(n/iF)+1}function gF(e,t){var n,r,i,a,o,u,s=oF(e),c=s.getFullYear(),l=rF(),f=null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(u=l.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1,h=lF(e,0);h.setFullYear(c+1,0,f),h.setHours(0,0,0,0);var d=dF(h,t),p=lF(e,0);p.setFullYear(c,0,f),p.setHours(0,0,0,0);var v=dF(p,t);return s.getTime()>=d.getTime()?c+1:s.getTime()>=v.getTime()?c:c-1}function kF(e,t){var n,r,i,a,o,u,s=rF(),c=null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:s.firstWeekContainsDate)&&void 0!==r?r:null===(u=s.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1,l=gF(e,t),f=lF(e,0);return f.setFullYear(l,0,c),f.setHours(0,0,0,0),dF(f,t)}function bF(e,t){var n=oF(e),r=+dF(n,t)-+kF(n,t);return Math.round(r/iF)+1}function wF(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}var xF=function(e,t){var n=e.getFullYear(),r=n>0?n:1-n;return wF("yy"===t?r%100:r,t.length)},_F=function(e,t){var n=e.getMonth();return"M"===t?String(n+1):wF(n+1,2)},IF=function(e,t){return wF(e.getDate(),t.length)},SF=function(e,t){return wF(e.getHours()%12||12,t.length)},EF=function(e,t){return wF(e.getHours(),t.length)},TF=function(e,t){return wF(e.getMinutes(),t.length)},CF=function(e,t){return wF(e.getSeconds(),t.length)},NF=function(e,t){var n=t.length,r=e.getMilliseconds();return wF(Math.trunc(r*Math.pow(10,n-3)),t.length)},AF="midnight",PF="noon",OF="morning",RF="afternoon",DF="evening",LF="night",MF={G:function(e,t,n){var r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xF(e,t)},Y:function(e,t,n,r){var i=gF(e,r),a=i>0?i:1-i;return"YY"===t?wF(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):wF(a,t.length)},R:function(e,t){return wF(vF(e),t.length)},u:function(e,t){return wF(e.getFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return wF(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return wF(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getMonth();switch(t){case"M":case"MM":return _F(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return wF(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=bF(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):wF(i,t.length)},I:function(e,t,n){var r=yF(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):wF(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):IF(e,t)},D:function(e,t,n){var r=hF(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):wF(r,t.length)},E:function(e,t,n){var r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return wF(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return wF(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return wF(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getHours();switch(r=12===i?PF:0===i?AF:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getHours();switch(r=i>=17?DF:i>=12?RF:i>=4?OF:LF,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return SF(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):EF(e,t)},K:function(e,t,n){var r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):wF(r,t.length)},k:function(e,t,n){var r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):wF(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):TF(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):CF(e,t)},S:function(e,t){return NF(e,t)},X:function(e,t,n){var r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return FF(r);case"XXXX":case"XX":return VF(r);default:return VF(r,":")}},x:function(e,t,n){var r=e.getTimezoneOffset();switch(t){case"x":return FF(r);case"xxxx":case"xx":return VF(r);default:return VF(r,":")}},O:function(e,t,n){var r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jF(r,":");default:return"GMT"+VF(r,":")}},z:function(e,t,n){var r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jF(r,":");default:return"GMT"+VF(r,":")}},t:function(e,t,n){return wF(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return wF(e.getTime(),t.length)}};function jF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+t+wF(a,2)}function FF(e,t){return e%60===0?(e>0?"-":"+")+wF(Math.abs(e)/60,2):VF(e,t)}function VF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",r=Math.abs(e);return n+wF(Math.trunc(r/60),2)+t+wF(r%60,2)}var UF=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},zF=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},BF={p:zF,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return UF(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",UF(i,t)).replace("{{time}}",zF(a,t))}},qF=/^D+$/,HF=/^Y+$/,GF=["D","DD","YY","YYYY"];function WF(e){return qF.test(e)}function KF(e){return HF.test(e)}function QF(e,t,n){var r=function(e,t,n){var r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),GF.includes(e))throw new RangeError(r)}function YF(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function XF(e){if(!YF(e)&&"number"!==typeof e)return!1;var t=oF(e);return!isNaN(Number(t))}var JF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$F=/^'([^]*?)'?$/,eV=/''/g,tV=/[a-zA-Z]/;function nV(e,t,n){var r,i,a,o,u,s,c,l,f,h,d,p,v,m,y=rF(),g=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:y.locale)&&void 0!==r?r:tF,k=null!==(a=null!==(o=null!==(u=null!==(s=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==s?s:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==u?u:y.firstWeekContainsDate)&&void 0!==o?o:null===(l=y.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:1,b=null!==(f=null!==(h=null!==(d=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(v=v.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==d?d:y.weekStartsOn)&&void 0!==h?h:null===(m=y.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:0,w=oF(e);if(!XF(w))throw new RangeError("Invalid time value");var x=t.match(ZF).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,BF[t])(e,g.formatLong):e})).join("").match(JF).map((function(e){if("''"===e)return{isToken:!1,value:"'"};var t=e[0];if("'"===t)return{isToken:!1,value:rV(e)};if(MF[t])return{isToken:!0,value:e};if(t.match(tV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));g.localize.preprocessor&&(x=g.localize.preprocessor(w,x));var _={firstWeekContainsDate:k,weekStartsOn:b,locale:g};return x.map((function(r){if(!r.isToken)return r.value;var i=r.value;return(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!KF(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!WF(i))||QF(i,t,String(e)),(0,MF[i[0]])(w,i,g.localize,_)})).join("")}function rV(e){var t=e.match($F);return t?t[1].replace(eV,"'"):e}function iV(){return Object.assign({},rF())}function aV(e,t){var n=t instanceof Date?lF(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}var oV=function(){function e(){v(this,e),Zi(this,"subPriority",0)}return k(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),uV=function(e){w(n,e);var t=S(n);function n(e,r,i,a,o){var u;return v(this,n),(u=t.call(this)).value=e,u.validateValue=r,u.setValue=i,u.priority=a,o&&(u.subPriority=o),u}return k(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(oV),sV=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",10),Zi(I(e),"subPriority",-1),e}return k(n,[{key:"set",value:function(e,t){return t.timestampIsSet?e:lF(e,aV(e,Date))}}]),n}(oV),cV=function(){function e(){v(this,e)}return k(e,[{key:"run",value:function(e,t,n,r){var i=this.parse(e,t,n,r);return i?{setter:new uV(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),lV=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",140),Zi(I(e),"incompatibleTokens",["R","u","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}}]),n}(cV),fV=/^(1[0-2]|0?\d)/,hV=/^(3[0-1]|[0-2]?\d)/,dV=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,pV=/^(5[0-3]|[0-4]?\d)/,vV=/^(2[0-3]|[0-1]?\d)/,mV=/^(2[0-4]|[0-1]?\d)/,yV=/^(1[0-1]|0?\d)/,gV=/^(1[0-2]|0?\d)/,kV=/^[0-5]?\d/,bV=/^[0-5]?\d/,wV=/^\d/,xV=/^\d{1,2}/,_V=/^\d{1,3}/,IV=/^\d{1,4}/,SV=/^-?\d+/,EV=/^-?\d/,TV=/^-?\d{1,2}/,CV=/^-?\d{1,3}/,NV=/^-?\d{1,4}/,AV=/^([+-])(\d{2})(\d{2})?|Z/,PV=/^([+-])(\d{2})(\d{2})|Z/,OV=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,RV=/^([+-])(\d{2}):(\d{2})|Z/,DV=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function LV(e,t){return e?{value:t(e.value),rest:e.rest}:e}function MV(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function jV(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function FV(e){return MV(SV,e)}function VV(e,t){switch(e){case 1:return MV(wV,t);case 2:return MV(xV,t);case 3:return MV(_V,t);case 4:return MV(IV,t);default:return MV(new RegExp("^\\d{1,"+e+"}"),t)}}function UV(e,t){switch(e){case 1:return MV(EV,t);case 2:return MV(TV,t);case 3:return MV(CV,t);case 4:return MV(NV,t);default:return MV(new RegExp("^-?\\d{1,"+e+"}"),t)}}function zV(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function BV(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var a=i+50;n=e+100*Math.trunc(a/100)-(e>=a%100?100:0)}return r?n:1-n}function qV(e){return e%400===0||e%4===0&&e%100!==0}var HV=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",130),Zi(I(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return LV(VV(4,e),r);case"yo":return LV(n.ordinalNumber(e,{unit:"year"}),r);default:return LV(VV(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getFullYear();if(n.isTwoDigitYear){var i=BV(n.year,r);return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}]),n}(cV),GV=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",130),Zi(I(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return LV(VV(4,e),r);case"Yo":return LV(n.ordinalNumber(e,{unit:"year"}),r);default:return LV(VV(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var i=gF(e,r);if(n.isTwoDigitYear){var a=BV(n.year,i);return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),dF(e,r)}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),dF(e,r)}}]),n}(cV),WV=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",130),Zi(I(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t){return UV("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=lF(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),pF(r)}}]),n}(cV),KV=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",130),Zi(I(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t){return UV("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}}]),n}(cV),QV=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",120),Zi(I(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return VV(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}}]),n}(cV),YV=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",120),Zi(I(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return VV(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}}]),n}(cV),XV=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Zi(I(e),"priority",110),e}return k(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return LV(MV(fV,e),r);case"MM":return LV(VV(2,e),r);case"Mo":return LV(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}]),n}(cV),JV=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",110),Zi(I(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return LV(MV(fV,e),r);case"LL":return LV(VV(2,e),r);case"Lo":return LV(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}]),n}(cV);function ZV(e,t,n){var r=oF(e),i=bF(r,n)-t;return r.setDate(r.getDate()-7*i),r}var $V=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",100),Zi(I(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return MV(pV,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return VV(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return dF(ZV(e,n,r),r)}}]),n}(cV);function eU(e,t){var n=oF(e),r=yF(n)-t;return n.setDate(n.getDate()-7*r),n}var tU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",100),Zi(I(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return MV(pV,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return VV(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return pF(eU(e,n))}}]),n}(cV),nU=[31,28,31,30,31,30,31,31,30,31,30,31],rU=[31,29,31,30,31,30,31,31,30,31,30,31],iU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",90),Zi(I(e),"subPriority",1),Zi(I(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return MV(hV,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return VV(t.length,e)}}},{key:"validate",value:function(e,t){var n=qV(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=rU[r]:t>=1&&t<=nU[r]}},{key:"set",value:function(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}}]),n}(cV),aU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",90),Zi(I(e),"subpriority",1),Zi(I(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return MV(dV,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return VV(t.length,e)}}},{key:"validate",value:function(e,t){return qV(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}}]),n}(cV);function oU(e,t){var n=oF(e);return isNaN(t)?lF(e,NaN):t?(n.setDate(n.getDate()+t),n):n}function uU(e,t,n){var r,i,a,o,u,s,c=rF(),l=null!==(r=null!==(i=null!==(a=null!==(o=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==o?o:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==a?a:c.weekStartsOn)&&void 0!==i?i:null===(s=c.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:0,f=oF(e),h=f.getDay(),d=7-l;return oU(f,t<0||t>6?t-(h+d)%7:((t%7+7)%7+d)%7-(h+d)%7)}var sU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",90),Zi(I(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=uU(e,n,r)).setHours(0,0,0,0),e}}]),n}(cV),cU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",90),Zi(I(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return LV(VV(t.length,e),i);case"eo":return LV(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=uU(e,n,r)).setHours(0,0,0,0),e}}]),n}(cV),lU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",90),Zi(I(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return LV(VV(t.length,e),i);case"co":return LV(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=uU(e,n,r)).setHours(0,0,0,0),e}}]),n}(cV);function fU(e){var t=oF(e).getDay();return 0===t&&(t=7),t}function hU(e,t){var n=oF(e);return oU(n,t-fU(n))}var dU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",90),Zi(I(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return VV(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return LV(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return LV(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return LV(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return LV(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return(e=hU(e,n)).setHours(0,0,0,0),e}}]),n}(cV),pU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",80),Zi(I(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setHours(zV(n),0,0,0),e}}]),n}(cV),vU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",80),Zi(I(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setHours(zV(n),0,0,0),e}}]),n}(cV),mU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",80),Zi(I(e),"incompatibleTokens",["a","b","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setHours(zV(n),0,0,0),e}}]),n}(cV),yU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",70),Zi(I(e),"incompatibleTokens",["H","K","k","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return MV(gV,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return VV(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}}]),n}(cV),gU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",70),Zi(I(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return MV(vV,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return VV(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setHours(n,0,0,0),e}}]),n}(cV),kU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",70),Zi(I(e),"incompatibleTokens",["h","H","k","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return MV(yV,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return VV(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}}]),n}(cV),bU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",70),Zi(I(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return MV(mV,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return VV(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}}]),n}(cV),wU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",60),Zi(I(e),"incompatibleTokens",["t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return MV(kV,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return VV(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setMinutes(n,0,0),e}}]),n}(cV),xU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",50),Zi(I(e),"incompatibleTokens",["t","T"]),e}return k(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return MV(bV,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return VV(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setSeconds(n,0),e}}]),n}(cV),_U=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",30),Zi(I(e),"incompatibleTokens",["t","T"]),e}return k(n,[{key:"parse",value:function(e,t){return LV(VV(t.length,e),(function(e){return Math.trunc(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setMilliseconds(n),e}}]),n}(cV),IU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",10),Zi(I(e),"incompatibleTokens",["t","T","x"]),e}return k(n,[{key:"parse",value:function(e,t){switch(t){case"X":return jV(AV,e);case"XX":return jV(PV,e);case"XXXX":return jV(OV,e);case"XXXXX":return jV(DV,e);default:return jV(RV,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:lF(e,e.getTime()-sF(e)-n)}}]),n}(cV),SU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",10),Zi(I(e),"incompatibleTokens",["t","T","X"]),e}return k(n,[{key:"parse",value:function(e,t){switch(t){case"x":return jV(AV,e);case"xx":return jV(PV,e);case"xxxx":return jV(OV,e);case"xxxxx":return jV(DV,e);default:return jV(RV,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:lF(e,e.getTime()-sF(e)-n)}}]),n}(cV),EU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",40),Zi(I(e),"incompatibleTokens","*"),e}return k(n,[{key:"parse",value:function(e){return FV(e)}},{key:"set",value:function(e,t,n){return[lF(e,1e3*n),{timestampIsSet:!0}]}}]),n}(cV),TU=function(e){w(n,e);var t=S(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Zi(I(e=t.call.apply(t,[this].concat(i))),"priority",20),Zi(I(e),"incompatibleTokens","*"),e}return k(n,[{key:"parse",value:function(e){return FV(e)}},{key:"set",value:function(e,t,n){return[lF(e,n),{timestampIsSet:!0}]}}]),n}(cV),CU={G:new lV,y:new HV,Y:new GV,R:new WV,u:new KV,Q:new QV,q:new YV,M:new XV,L:new JV,w:new $V,I:new tU,d:new iU,D:new aU,E:new sU,e:new cU,c:new lU,i:new dU,a:new pU,b:new vU,B:new mU,h:new yU,H:new gU,K:new kU,k:new bU,m:new wU,s:new xU,S:new _U,X:new IU,x:new SU,t:new EU,T:new TU},NU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PU=/^'([^]*?)'?$/,OU=/''/g,RU=/\S/,DU=/[a-zA-Z]/;function LU(e,t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=iV(),k=null!==(i=null!==(a=null===r||void 0===r?void 0:r.locale)&&void 0!==a?a:g.locale)&&void 0!==i?i:tF,b=null!==(o=null!==(u=null!==(s=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(l=r.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:g.firstWeekContainsDate)&&void 0!==u?u:null===(f=g.locale)||void 0===f||null===(f=f.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==o?o:1,w=null!==(h=null!==(d=null!==(p=null!==(v=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==v?v:null===r||void 0===r||null===(m=r.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==p?p:g.weekStartsOn)&&void 0!==d?d:null===(y=g.locale)||void 0===y||null===(y=y.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==h?h:0;if(""===t)return""===e?oF(n):lF(n,NaN);var x,_={firstWeekContainsDate:b,weekStartsOn:w,locale:k},I=[new sV],S=t.match(AU).map((function(e){var t=e[0];return t in BF?(0,BF[t])(e,k.formatLong):e})).join("").match(NU),E=[],T=N(S);try{var C,A=function(){var i=x.value;null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!KF(i)||QF(i,t,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!WF(i)||QF(i,t,e);var a=i[0],o=CU[a];if(o){var u=o.incompatibleTokens;if(Array.isArray(u)){var s=E.find((function(e){return u.includes(e.token)||e.token===a}));if(s)throw new RangeError("The format string mustn't contain `".concat(s.fullToken,"` and `").concat(i,"` at the same time"))}else if("*"===o.incompatibleTokens&&E.length>0)throw new RangeError("The format string mustn't contain `".concat(i,"` and any other token at the same time"));E.push({token:a,fullToken:i});var c=o.run(e,i,k.match,_);if(!c)return{v:lF(n,NaN)};I.push(c.setter),e=c.rest}else{if(a.match(DU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");if("''"===i?i="'":"'"===a&&(i=i.match(PU)[1].replace(OU,"'")),0!==e.indexOf(i))return{v:lF(n,NaN)};e=e.slice(i.length)}};for(T.s();!(x=T.n()).done;)if(C=A())return C.v}catch(F){T.e(F)}finally{T.f()}if(e.length>0&&RU.test(e))return lF(n,NaN);var P=I.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return I.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),O=oF(n);if(isNaN(O.getTime()))return lF(n,NaN);var R,D={},L=N(P);try{for(L.s();!(R=L.n()).done;){var M=R.value;if(!M.validate(O,_))return lF(n,NaN);var j=M.set(O,D,_);Array.isArray(j)?(O=j[0],Object.assign(D,j[1])):O=j}}catch(F){L.e(F)}finally{L.f()}return lF(n,O)}var MU=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)([]),2),a=i[0],o=i[1],u=function(e){var t=Math.floor(e),n=Math.round(60*(e-t));return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))};return(0,t.useEffect)((function(){if(n){var e=AO.collection("turnosLuciana").orderBy("fecha","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return{id:e.id,data:e.data()}})).filter((function(e){return e.data.nombre.toLowerCase().includes(n.toLowerCase())}));o(t)}));return function(){return e()}}o([])}),[n]),(0,et.jsxs)("div",{className:"search-turnos-container",children:[(0,et.jsx)("h2",{className:"search-turnos-title",children:"Buscar Turno Luciana"}),(0,et.jsx)("input",{className:"search-turnos-input",type:"text",value:n,onChange:function(e){r(e.target.value)},placeholder:"Ingrese nombre..."}),(0,et.jsxs)("h3",{children:['Resultados para "',n,'"']}),(0,et.jsxs)("table",{className:"search-turnos-table",children:[(0,et.jsx)("thead",{children:(0,et.jsxs)("tr",{children:[(0,et.jsx)("th",{children:"Fecha"}),(0,et.jsx)("th",{children:"Hora"}),(0,et.jsx)("th",{children:"Nombre"}),(0,et.jsx)("th",{children:"Servicio"}),(0,et.jsx)("th",{children:"Tiempo"})]})}),(0,et.jsx)("tbody",{children:a.map((function(e){return(0,et.jsxs)("tr",{children:[(0,et.jsx)("td",{children:nV(LU(e.data.fecha,"yyyy-MM-dd",new Date),"dd/MM/yy")}),(0,et.jsx)("td",{children:e.data.hora}),(0,et.jsx)("td",{children:e.data.nombre}),(0,et.jsx)("td",{children:e.data.servicio}),(0,et.jsx)("td",{children:u(e.data.duracion)})]},e.id)}))})]})]})},jU=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)([]),2),a=i[0],o=i[1],u=function(e){var t=Math.floor(e),n=Math.round(60*(e-t));return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))};return(0,t.useEffect)((function(){if(n){var e=AO.collection("turnosGisela").orderBy("fecha","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return{id:e.id,data:e.data()}})).filter((function(e){return e.data.nombre.toLowerCase().includes(n.toLowerCase())}));o(t)}));return function(){return e()}}o([])}),[n]),(0,et.jsxs)("div",{className:"search-turnos-container",children:[(0,et.jsx)("h2",{className:"search-turnos-title",children:"Buscar Turno Gisela"}),(0,et.jsx)("input",{className:"search-turnos-input",type:"text",value:n,onChange:function(e){r(e.target.value)},placeholder:"Ingrese nombre..."}),(0,et.jsxs)("h3",{children:['Resultados para "',n,'"']}),(0,et.jsxs)("table",{className:"search-turnos-table",children:[(0,et.jsx)("thead",{children:(0,et.jsxs)("tr",{children:[(0,et.jsx)("th",{children:"Fecha"}),(0,et.jsx)("th",{children:"Hora"}),(0,et.jsx)("th",{children:"Nombre"}),(0,et.jsx)("th",{children:"Servicio"}),(0,et.jsx)("th",{children:"Tiempo"})]})}),(0,et.jsx)("tbody",{children:a.map((function(e){return(0,et.jsxs)("tr",{children:[(0,et.jsx)("td",{children:nV(LU(e.data.fecha,"yyyy-MM-dd",new Date),"dd/MM/yy")}),(0,et.jsx)("td",{children:e.data.hora}),(0,et.jsx)("td",{children:e.data.nombre}),(0,et.jsx)("td",{children:e.data.servicio}),(0,et.jsx)("td",{children:u(e.data.duracion)})]},e.id)}))})]})]})},FU=n.p+"static/media/Iwha.6c83d1bf3c7ae94936fc.png",VU=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"badge",children:[(0,et.jsx)("a",{href:"https://wa.me/3513908626",children:(0,et.jsx)("img",{className:"iwha",src:FU,alt:"Enlace a Whatsapp"})}),(0,et.jsx)("img",{className:"chat",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAoCAYAAAA16j4lAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEd2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTExLTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPjgwOTc4NDkzLTI0ZmQtNGQ2My05ZmVmLWYyMWQwODljZGEzMjwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5DaGF0ZWEgY29uIE5vc290cm9zIC0gMTwvcmRmOmxpPgogICA8L3JkZjpBbHQ+CiAgPC9kYzp0aXRsZT4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5NYXJjbyBTb3RvbGE8L3BkZjpBdXRob3I+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogIHhtbG5zOnhtcD0naHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyc+CiAgPHhtcDpDcmVhdG9yVG9vbD5DYW52YTwveG1wOkNyZWF0b3JUb29sPgogPC9yZGY6RGVzY3JpcHRpb24+CjwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9J3InPz7XzlPMAAAJuUlEQVR4nO2ZeYyeVRXGf883WztTWltqq1IqQlilIKBSNGxRDIYlEonGGKQpKiAUQTQKYkQkIAkouIQlQURAg1gCYqE2QEGQsFihxLLITltaoEgZuk07cx//uOfOvPP1m5YaElPzPsnkfb977zn3bPec896BGjVq1KhRo0aNGjVq1KhRo0aNGjVq1KhRo0aNGjVGgspLSglJm1o7RPQO121NsD3i2Ej6bg12aNjGdhFWQDvQiPe2eDbiHWhtjP8zNMpLcWLo3FbmthYbqCJoA0hA1eEbrQcMm47eJuUbQCpjjUajFcn/HFuSwWxLkt+NE9y076AP4N3JEMXBDdtJ0gTgNOBjMfaqpLOB/YBu4EYqToZNBsN/hWZ+tocFRTFIWbe5NPpO92FIrw/angH8qHp6Y6+Zkl4E7qbJGVuwzybHR+IBbGSXd8K3UQSVtDfwDPAlYCHwENmpyfZXgJlB02670BVmbZXxdrKxBHQC+9oeS5SDQEn9bVRSP9AmqZSIsoZSRiqGlqS2vL0akkoEyHaV92BkVMcr9K3SSaekcyWdWvStBNQZwBEVHQqPYSWssn/ZZ5iOQJG5Ov4e4CNhs0b1T1Kbhrw2En0j7DdM93ZyFLYBtwEPAEcVQxaektYBG4JReQ6mKtsDlfXVqH4fcJekbclBVAw1EPPlWU7PQHMEhsCuRLEkuUJboqacqGbeG40H/+a9i2wGeoELgHuAf5Kd3G97haS3K/oNsDEGdamuKbZqoWMX0Gf785JOBj7agmcVzfTlJVXGB3Vrj82/KGkKsC+ApM4wSgNYz1CkHAWcFA66UtIcoEPS0bYPC0e+BvwYmABcBIwGrgbeBM4F1gDfB/YHVgHXAHcAPcCxkg4ExpOzycXAiiySTD6hljQROAvYPeT7DXALMFHS94A9gBW2L5O0IGT8MjAfOB44IOS8AHi6GCmM0wUss/2YpNnArkB/zLdXbLEBmGH7mAjCW0NPA+OAc4BpwGrgZkk3hJNPAw4LuX8P3AQcJembwCTgKnIGfRQYA0wEvh42+xtwBvCpoL/B9uyQe7dYMwFYaftXkh4oafYg4HHbK0LZ9aFUiYSV5NR9KjAvlPgz8KFwzCmSOmwvBD5DzgbdQEcEUHc4uk3S7WGYO8PZt4ez3xuK9AWfmcB1Qe+Qy5K6gfuAw4E5wGu2J8cJvx/4NPAnYLSkh4GPhzPOBh4Gdg75DrR9S+hX+BM6byvpPGAb4HLKouhX4udPyEG+APi77SuAS2PusrDXbcArwE5h52vJQX4P8BzwB+DE0LkrZNgmeOwN/AWYEWt7gSttV+n/KGlWrL8lDult5Gy5/aDQKaXZtu+Id5V6l1Jqi/erU0ovpZSq9XBZSukb1foYf5Nsr08pjba9ve1e250xd7TtN4J3WT87pXRtCz6fjLWj4nd7PGcFz0bT+lkppZUV2bE91/a8GHvG9jWVfafZ3mB71/hddN01+I+3Pd0ZRwbdgymlH8S6gZTSsZX9P2c72Z5o+1HbFzTJt5dtp5T2qYx9y/aaeD8xpbSgMnd8SqnXdk/83i1kqdKfmVJaYXtySqk/bDbMjg3nvN1ne3REWTVaC0ZLur+ksJh7RdL4mO+KkzMDOAlYK2kMMMm2gPfHun3JJ/lySdcBvwAOkDQ65scAR9o+HvgC+YQ3t4rTbd9LLiGdsTe2p0v6a6zpCVlvtb0HuQHst31fpSlcTk6fE0Kf6j4D5FT3IHAJcJOkbtvrJK0H9gQ2SLq7ENi+y/Y6YJrtn5JLyI3k7AQ5k7xCTr/tMXZHvE8JG3c6N4PY7pK01Pa6kO9AYGkL+h5gvKRryBnsIttTYl7tofC/JB1WZCV3aaUGD8RYZ8xvqBhpHblePhTOeAyYTO5U10oqDU1pvEaR6+5TDKXvSyXNsb2fpFuBJZIWkWvKhgptaYS6JPVVHFHqZxewPgK2NIJrSrcZNXxUha6k5UqDOgylPH3b9hFhwLeCZrRtSxpsbCT1A2ttT47gfR04kxwkM0OPFJv1B+91zg1qF0N1fiCeJvcObSFLV0XfQr8m9h0LfM32I5JOl3QKuV+aXyLhZuCHwHHkuleMWgwlWl+CrCbXlDcZitTtbC+KSG+EAsXwy4FVzs0PoUjh+RAw3/ZxMXawpF8zvNsFWAYc0uQEgCXAocG3yD2FXLv6aNEth5NaXUm5ae0xwHxJHeRGbYmkUeTMtDJoxgJjJL0UdHMlzQVOIDebpwPjbfcAvSHnpGhol9huD2c1y1Ds/jIwOTLJ20E/2XZnyIOkq4CrbF8v6UJgevnWepzcTPyW3OiMA0bZ3p98QvuJE1dJ4e3kVNFHPrXj4nmppLEh3GpJ42zvJKnNubHaXtKFIVgP8NlI9b3A1IjYHSWdT84ajhTlMPZscoo8OQa3I3fNNwB7hUFte0fb3yV3qpBPXbVbVjis+VtYtjsYygwd5IxzNrAtOXMts/008Ms4fSI3WIttPwx8AvhA8OsKO80lH4ifxynusn0xOfv1RTaYSi4NbUHXxtDN4Z3k7DdID1wi6QFJrwIHA+PCRh3k7DD8EsH2+bZXpZReTym9ZPst2wfZ/pnt62NNaW7ut32a7e6U0pMppZUppWdsn5VSmmd7z5QSKaUHba+0/aztA2wfnlLqTSm9aPsp20+EM3a3vdj2GymlRbbPsH2vc9OCbdlWNDvnODdIT9peavsK58Zqlu23U0pPODdov0spFXn/YfuEiq4TbC+xvb+HN1k72345pTS1sm/hMcf2eaHXXiH/YtsvhH57hxz32F5ue5Fzw/bVoD8kpbQ0pfR87L3A9g4eaqJejb95KaXv2H6ksjcppYNsL6nQP5pSmpxSmhpN8HO2X0gpvWx7P9uDV5XV68cxwG62G5KeBf5Nboxwrqsl0rvJKbIvon4X4DVJb8bJHCDX6G7y9+BychodcP5smha19HGGSkInsKPtxZJWR1ZYResLhUnALuSU/VxlfDzwYXJD83xlvIf8+TdYdmz3SFrL8MuDRsi8mqE0rUjl29geI2lZhe8+5J5jQawpN0m7kE/8k+Rv+XLh0gHsY7sPWFjZM5EvhnYg3wH0hj1WN8kwSC9pYZN+u8fejxW/VP/ZUN1oSzCMxvm6MpU0yFBq3dwew+64NyNLw3aCje6gm2nKZEnzm7y/3syaZl22RLcy3mq+6F0ucUZQeUT+w+RoCtTU7OAqI6g0G63QpNygMVvMN1rwGjZWEVDRAG3ucr3cdzfzGGl8JDVoYZyR9iz7uun3YBPaSr4SXZU9WtljkMb5Hz8tZRiJvjJOC1lq1KhRo0aNGjVq1KhRo0aNGjW2fvwHQrAtSFVg6eMAAAAASUVORK5CYII=",alt:"chatea"})]})})},UU=function(){return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("div",{className:"logo-footer",children:(0,et.jsxs)("div",{className:"logoContainer-footer",children:[(0,et.jsx)("span",{className:"enfat",children:"D"}),(0,et.jsx)("div",{className:"nameF",children:"hermica"})]})}),(0,et.jsxs)("footer",{className:"footer-container",children:[(0,et.jsxs)("div",{className:"contacto",children:[(0,et.jsx)("h2",{children:"Contacto"}),(0,et.jsxs)("div",{className:"contacto-item",children:[(0,et.jsx)("div",{children:(0,et.jsx)(jM,{className:"icon-cont"})}),(0,et.jsx)("div",{children:(0,et.jsx)("span",{children:"351 390 8626"})})]}),(0,et.jsxs)("div",{className:"contacto-item",children:[(0,et.jsx)("div",{children:(0,et.jsx)(MM,{className:"icon-cont"})}),(0,et.jsx)("div",{children:(0,et.jsx)("span",{children:"Pablo Buitrago 6127, Cordoba"})})]})]}),(0,et.jsxs)("div",{className:"tratamientos",children:[(0,et.jsx)("h2",{children:"Tratamientos"}),(0,et.jsxs)("div",{className:"tratamientos-dropdown",children:[(0,et.jsx)("span",{className:"dropdown-title",children:"ELLAS"}),(0,et.jsxs)("div",{className:"dropdown-content",children:[(0,et.jsx)("a",{href:"/Ellas",children:"Cejas"}),(0,et.jsx)("a",{href:"/Ellas",children:"Corporales"}),(0,et.jsx)("a",{href:"/Ellas",children:"Faciales"}),(0,et.jsx)("a",{href:"/Ellas",children:"Manos"}),(0,et.jsx)("a",{href:"/Ellas",children:"Pesta\xf1as"}),(0,et.jsx)("a",{href:"/Ellas",children:"Pies"})]})]}),(0,et.jsxs)("div",{className:"tratamientos-dropdown",children:[(0,et.jsx)("span",{className:"dropdown-title",children:"ELLOS"}),(0,et.jsxs)("div",{className:"dropdown-content",children:[(0,et.jsx)("a",{href:"/Ellos",children:"Cejas"}),(0,et.jsx)("a",{href:"/Ellos",children:"Corporales"}),(0,et.jsx)("a",{href:"/Ellos",children:"Faciales"}),(0,et.jsx)("a",{href:"/Ellos",children:"Pies"})]})]})]}),(0,et.jsxs)("div",{className:"redes",children:[(0,et.jsx)("h2",{children:"Redes Sociales"}),(0,et.jsxs)("div",{className:"redes-icon",children:[(0,et.jsx)("div",{children:(0,et.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",children:(0,et.jsx)(OM,{className:"icon-red"})})}),(0,et.jsx)("div",{children:(0,et.jsx)("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",children:(0,et.jsx)(RM,{className:"icon-red"})})})]})]})]})]})},zU=function(){var e=c((0,t.useState)(null),2),n=e[0],r=e[1];(0,t.useEffect)((function(){var e=PO.onAuthStateChanged((function(e){e?i(e.uid):r(null)}));return function(){return e()}}),[]);var i=function(){var e=Ji(Yi().mark((function e(t){var n,i;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,AO.collection("users").doc(t).get();case 3:n=e.sent,(i=n.data())&&r(i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error al cargar los datos del usuario:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,et.jsxs)("div",{className:"mis-datos-container",children:[(0,et.jsx)("h1",{children:"Mis Datos"}),n&&(0,et.jsx)("table",{className:"user-data-table",children:(0,et.jsxs)("tbody",{children:[(0,et.jsxs)("tr",{children:[(0,et.jsx)("td",{children:"Nombre:"}),(0,et.jsx)("td",{children:n.firstName})]}),(0,et.jsxs)("tr",{children:[(0,et.jsx)("td",{children:"Apellido:"}),(0,et.jsx)("td",{children:n.lastName})]}),(0,et.jsxs)("tr",{children:[(0,et.jsx)("td",{children:"Tel\xe9fono:"}),(0,et.jsx)("td",{children:n.phone})]}),(0,et.jsxs)("tr",{children:[(0,et.jsx)("td",{children:"Email:"}),(0,et.jsx)("td",{children:n.email})]}),(0,et.jsxs)("tr",{children:[(0,et.jsx)("td",{children:"Cumplea\xf1os:"}),(0,et.jsx)("td",{children:n.birthday})]})]})})]})},BU=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1],i=(0,t.useRef)(PO.currentUser);return(0,t.useEffect)((function(){var e=function(){var e=Ji(Yi().mark((function e(){var t,n,a,o;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.current){e.next=10;break}return t=i.current.email,n=AO.collection("turnosUsuarios"),e.next=5,n.where("correo","==",t).get();case 5:a=e.sent,o=a.docs.map((function(e){return Ba({id:e.id},e.data())})),console.log("Turnos recuperados de la base de datos:",o),console.log("Cantidad de turnos recuperados:",o.length),r(o);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var t=PO.onAuthStateChanged((function(t){t&&(i.current=t,e())}));return function(){return t()}}),[]),(0,et.jsxs)("div",{className:"mis-turnos-container",children:[(0,et.jsx)("h1",{className:"mis-turnos-title",children:"Mis Turnos"}),(0,et.jsxs)("table",{className:"mis-turnos-table",children:[(0,et.jsx)("thead",{children:(0,et.jsxs)("tr",{children:[(0,et.jsx)("th",{children:"Fecha"}),(0,et.jsx)("th",{children:"Profesional"}),(0,et.jsx)("th",{children:"Hora"}),(0,et.jsx)("th",{children:"Nombre"}),(0,et.jsx)("th",{children:"Apellido"}),(0,et.jsx)("th",{children:"Servicio"}),(0,et.jsx)("th",{children:"Duraci\xf3n"}),(0,et.jsx)("th",{children:"Precio"})]})}),(0,et.jsx)("tbody",{children:n.map((function(e){return(0,et.jsxs)("tr",{children:[(0,et.jsx)("td",{children:e.fecha}),(0,et.jsx)("td",{children:e.profesional}),(0,et.jsx)("td",{children:e.hora}),(0,et.jsx)("td",{children:e.nombre}),(0,et.jsx)("td",{children:e.apellido}),(0,et.jsx)("td",{children:e.servicio}),(0,et.jsx)("td",{children:e.duracion}),(0,et.jsx)("td",{children:e.precio})]},e.id)}))})]})]})},qU=function(){return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("h1",{children:"MiCuenta"}),(0,et.jsx)(zU,{}),(0,et.jsx)(BU,{})]})},HU=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1],u=c((0,t.useState)(""),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1],p=c((0,t.useState)(""),2),v=p[0],m=p[1],y=c((0,t.useState)(""),2),g=y[0],k=y[1],b=c((0,t.useState)(1),2),w=b[0],x=b[1],_=c((0,t.useState)(""),2),I=_[0],S=_[1],E=c((0,t.useState)(""),2),T=E[0],C=E[1],A=c((0,t.useState)(!1),2),P=A[0],O=A[1],R=c((0,t.useState)([]),2),D=R[0],L=R[1],M=function(){var e=Ji(Yi().mark((function e(){var t,n;return Yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!PO.currentUser){e.next=6;break}return e.next=3,AO.collection("users").doc(PO.currentUser.uid).get();case 3:t=e.sent,(n=t.data())&&(r(n.firstName||""),o(n.lastName||""),l(PO.currentUser.email||""));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){M()}),[]),(0,t.useEffect)((function(){g&&AO.collection("turnosUsuarios").where("fecha","==",g).onSnapshot((function(e){L(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[g]);var j=function(){O(!P),P||M()},F=function(e){var t=c(e.split(":"),2),n=t[0],r=t[1];return Number(n)+Number(r)/60},V=function(e){var t,n=N(D);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=F(r.data.hora),a=F(e);if(a>=i&&a<i+r.data.duracion)return r}}catch(o){n.e(o)}finally{n.f()}return null};return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("button",{onClick:j,className:"agendar-turno-btn",children:P?"Cerrar Formulario":"+ Agendar Turno"}),P&&(0,et.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),V(v)||F(v)+w>19.5)Fj.error("El horario seleccionado no est\xe1 disponible",{position:"top-center",autoClose:2e3});else{var t={nombre:n,apellido:a,correo:s,servicio:h,hora:v,fecha:g,duracion:Number(w),profesional:I,precio:T};AO.collection("turnosUsuarios").add(t).then((function(){Fj.success("Turno agregado con \xe9xito",{position:"top-center",autoClose:2e3}),j(),r(""),o(""),l(""),d(""),m(""),k(""),x(1),S(""),C("")})).catch((function(e){console.error("Error al agregar el turno: ",e),Fj.error("Hubo un error al agregar el turno",{position:"top-center",autoClose:2e3})}))}},className:"turnos-usuario-container",children:[(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Wi,className:"input-icon"}),(0,et.jsx)("input",{type:"date",value:g,onChange:function(e){return k(e.target.value)},required:!0,className:"input"})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Vi,className:"input-icon"}),(0,et.jsx)("input",{type:"text",value:I,onChange:function(e){return S(e.target.value)},placeholder:"Profesional",required:!0,className:"input"})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Bi,className:"input-icon"}),(0,et.jsx)("input",{type:"time",value:v,onChange:function(e){return m(e.target.value)},min:"07:30",max:"19:30",step:"1800",required:!0,className:"input"})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Li,className:"input-icon"}),(0,et.jsx)("input",{type:"text",value:n,onChange:function(e){return r(e.target.value)},placeholder:"Nombre",required:!0,className:"input"})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Li,className:"input-icon"}),(0,et.jsx)("input",{type:"text",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Apellido",required:!0,className:"input"})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Mi,className:"input-icon"}),(0,et.jsx)("input",{type:"email",value:s,onChange:function(e){return l(e.target.value)},placeholder:"Correo",required:!0,className:"input"})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Ki,className:"input-icon"}),(0,et.jsx)("input",{type:"text",value:h,onChange:function(e){return d(e.target.value)},placeholder:"Tratamiento",required:!0,className:"input"})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:ji,className:"input-icon"}),(0,et.jsxs)("select",{value:w,onChange:function(e){return x(e.target.value)},required:!0,className:"input",children:[(0,et.jsx)("option",{value:"0.5",children:"30 minutos"}),(0,et.jsx)("option",{value:"1",children:"1 hora"}),(0,et.jsx)("option",{value:"1.5",children:"1 hora y 30 minutos"}),(0,et.jsx)("option",{value:"2",children:"2 horas"}),(0,et.jsx)("option",{value:"2.5",children:"2 horas y 30 minutos"}),(0,et.jsx)("option",{value:"3",children:"3 horas"}),(0,et.jsx)("option",{value:"3.5",children:"3 horas y 30 minutos"}),(0,et.jsx)("option",{value:"4",children:"4 horas"})]})]}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:zi,className:"input-icon"}),(0,et.jsx)("input",{type:"number",value:T,onChange:function(e){return C(e.target.value)},placeholder:"Precio",required:!0,className:"input"})]}),(0,et.jsx)("div",{children:(0,et.jsx)("button",{type:"submit",className:"submit",children:"Agregar turno"})})]})]})},GU=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)([]),2),a=i[0],o=i[1];(0,t.useEffect)((function(){n&&AO.collection("turnosUsuarios").where("fecha","==",n).onSnapshot((function(e){o(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[n]);for(var u=[],s=7.5;s<=19.5;s+=.5){var l=Math.floor(s),f=s%1?"30":"00";u.push("".concat(l,":").concat(f))}var h=function(e){var t=c(e.split(":"),2),n=t[0],r=t[1];return Number(n)+Number(r)/60};return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"turnos-disponibles",children:[(0,et.jsx)("div",{className:"title-turnos-disponibles",children:(0,et.jsx)("h2",{children:"Turnos Disponibles"})}),(0,et.jsx)("div",{className:"fecha-input-container",children:(0,et.jsxs)("form",{onSubmit:function(e){e.preventDefault()},className:"formulario-fecha",children:[(0,et.jsx)("label",{htmlFor:"fecha",className:"fecha-label",children:(0,et.jsx)("h2",{children:"Selecciona una fecha:"})}),(0,et.jsxs)("div",{className:"input-container",children:[(0,et.jsx)(Pi,{icon:Di,className:"calendar-icon"}),(0,et.jsx)("input",{type:"date",id:"fecha",value:n,onChange:function(e){return r(e.target.value)},required:!0,className:"input-date"})]})]})}),(0,et.jsx)("div",{className:"horarios-container",children:(0,et.jsxs)("table",{className:"horarios-table",children:[(0,et.jsx)("thead",{children:(0,et.jsxs)("tr",{children:[(0,et.jsx)("th",{children:"Hora"}),(0,et.jsx)("th",{children:"Estado"}),(0,et.jsx)("th",{children:"Nombre"}),(0,et.jsx)("th",{children:"Apellido"}),(0,et.jsx)("th",{children:"Tratamiento"}),(0,et.jsx)("th",{children:"correo"}),(0,et.jsx)("th",{children:"profesional"}),(0,et.jsx)("th",{children:"Precio"})]})}),(0,et.jsx)("tbody",{children:u.map((function(e){var t=function(e){var t,n=N(a);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=h(r.data.hora),o=h(e);if(o>=i&&o<i+r.data.duracion)return r}}catch(u){n.e(u)}finally{n.f()}return null}(e);return(0,et.jsxs)("tr",{className:"horario-row",children:[(0,et.jsx)("td",{children:e}),(0,et.jsx)("td",{className:"estado ".concat(t?"ocupado":"disponible"),children:t?"Ocupado":"Disponible"}),(0,et.jsx)("td",{children:t?t.data.nombre:"-"}),(0,et.jsx)("td",{children:t?t.data.apellido:"-"}),(0,et.jsx)("td",{children:t?t.data.servicio:"-"}),(0,et.jsx)("td",{children:t?t.data.correo:"-"}),(0,et.jsx)("td",{children:t?t.data.profesional:"-"}),(0,et.jsx)("td",{children:t?t.data.precio:"-"})]},e)}))})]})})]})})},WU=function(){return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("h1",{children:"Solicitar Turno"}),(0,et.jsx)(HU,{}),(0,et.jsx)(GU,{})]})},KU=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)(Qe,{children:[(0,et.jsx)(LO,{}),(0,et.jsxs)(Ue,{children:[(0,et.jsx)(Fe,{path:"/",element:(0,et.jsx)(ZM,{})}),(0,et.jsx)(Fe,{path:"/tratamientos",element:(0,et.jsx)(ej,{})}),(0,et.jsx)(Fe,{path:"/productos",element:(0,et.jsx)(tj,{})}),(0,et.jsx)(Fe,{path:"/contacto",element:(0,et.jsx)(nj,{})}),(0,et.jsx)(Fe,{path:"/ellas",element:(0,et.jsx)(ij,{})}),(0,et.jsx)(Fe,{path:"/ellos",element:(0,et.jsx)(aj,{})}),(0,et.jsx)(Fe,{path:"/Turnos",element:(0,et.jsx)(Bj,{})}),(0,et.jsx)(Fe,{path:"/SearchTurnoLu",element:(0,et.jsx)(MU,{})}),(0,et.jsx)(Fe,{path:"/SearchTurnoGi",element:(0,et.jsx)(jU,{})}),(0,et.jsx)(Fe,{path:"/Recordatorios",element:(0,et.jsx)(qj,{})}),(0,et.jsx)(Fe,{path:"/Register",element:(0,et.jsx)(Hj,{})}),(0,et.jsx)(Fe,{path:"/Login",element:(0,et.jsx)(Gj,{})}),(0,et.jsx)(Fe,{path:"/MiCuenta",element:(0,et.jsx)(qU,{})}),(0,et.jsx)(Fe,{path:"/SolicitarTurno",element:(0,et.jsx)(WU,{})})]}),(0,et.jsx)(Cj,{}),(0,et.jsx)(VU,{}),(0,et.jsx)(UU,{})]})})},QU=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,et.jsx)(t.StrictMode,{children:(0,et.jsx)(RO,{children:(0,et.jsx)(KU,{})})})),QU()}()}();
//# sourceMappingURL=main.2bff8faf.js.map